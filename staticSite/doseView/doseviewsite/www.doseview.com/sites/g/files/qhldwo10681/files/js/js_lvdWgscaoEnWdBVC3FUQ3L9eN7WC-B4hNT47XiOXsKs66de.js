/* @license GPL-2.0-or-later https://www.drupal.org/licensing/faq */
var drawShape_default={position:"INCHART",shape:"CIRCLE",radius:10,ellipseHeight:20,ellipseWidth:40,sideCount:4,lineCount:3,x1:0,x2:0,x3:0,x4:0,x5:0,x6:0,x7:0,x8:0,x9:0,x10:0,y1:0,y2:0,y3:0,y4:0,y5:0,y6:0,y7:0,y8:0,y9:0,y10:0,posj:0,strokeStyle:"solid",strokeSize:2,strokeColor:"black",fillColor:"blue",startAngle:0,endAngle:360,limitToChart:true,paddingX1:0,paddingY1:0,paddingX2:0,paddingY2:0,paddingX3:0,paddingY3:0,paddingX4:0,paddingY4:0,paddingX5:0,paddingY5:0,paddingX6:0,paddingY6:0,paddingX7:0,paddingY7:0,paddingX8:0,paddingY8:0,paddingX9:0,paddingY9:0,paddingX10:0,paddingY10:0,when:"always",iter:"all",animate:false,arrowWidth:15,arrowHeight:20,arrowTop:true,arrowBottom:false,text:"Your Text",rotate:0,textAlign:"center",textBaseline:"middle",imagesrc:"",imageAlign:"center",imageBaseline:"middle",fontColor:"rgba(220,220,220,1)",fontStyle:"normal",fontSize:12,fontFamily:"'Arial'",textBorders:false,textBordersColor:"black",textBordersWidth:1,textBordersSelection:15,textBordersRadius:0,textBordersXSpace:3,textBordersYSpace:3,textBordersStyle:"solid",textBackgroundColor:"none"};function shapeLoadImages(data){var shape,shapesInChart;if(typeof data.shapesInChart=="object")shapesInChart=data.shapesInChart;if(typeof data[0]=="object")if(typeof data[0].shapesInChart=="object")shapesInChart=data[0].shapesInChart;if(typeof shapesInChart=="object")for(var i=0;i<shapesInChart.length;i++){if(typeof shapesInChart[i].shape=="string")shape=shapesInChart[i].shape.toUpperCase();else shape=drawShape_default.shape.toUpperCase();if(shape=="IMAGE")if(typeof shapesInChart[i].loadImage=="undefined"){shapesInChart[i].loadImage=new Image();var imagesrc=drawShapeSetValue(shapesInChart[i].imagesrc,drawShape_default.imagesrc);if(imagesrc=="")shapesInChart[i].loadImage.src='data:image/gif;base64,R0lGODlhCwALAIAAAAAA3pn/ZiH5BAEAAAEALAAAAAALAAsAAAIUhA+hkcuO4lmNVindo7qyrIXiGBYAOw==';else shapesInChart[i].loadImage.src=imagesrc;}}function drawShapeSetValue(dataval,defval){if(typeof dataval!="undefined")return dataval;else return defval;};}function drawShapes(area,ctx,data,statData,posi,posj,othervars){var shape,whendrw,iter,realAnimation,shapesInChart;if(typeof data.shapesInChart=="object")var shapesInChart=data.shapesInChart;if(typeof data[0]=="object")if(typeof data[0].shapesInChart=="object")var shapesInChart=data[0].shapesInChart;if(typeof shapesInChart=="object"){shapeLoadImages(data);for(var i=0;i<shapesInChart.length;i++){if(area=="HIGHLIGHT"){if(shapesInChart[i].hightLight!=true)continue;}else{if(typeof othervars.config.dispShapesInChart=="object"){if(othervars.config.dispShapesInChart.indexOf(i)<0)continue;}else{if(typeof othervars.config.dispShapesInChart!="undefined")if(typeof othervars.config.dispShapesInChart==false)continue;}whendrw=drawShapeSetValue(shapesInChart[i].when,drawShape_default.when).toUpperCase();if(whendrw!="ALWAYS"&&whendrw!=area)continue;iter=drawShapeSetValue(shapesInChart[i].iter,drawShape_default.iter.toUpperCase());if(typeof iter=="number"&&iter!=othervars.cntiter&&othervars.config.animation==true)continue;if(iter==="first"&&othervars.cntiter!=1&&othervars.config.animation==true)continue;if(iter==="last"&&othervars.animationValue<1&&othervars.config.animation==true)continue;}if(typeof shapesInChart[i].shape=="function")shape=shapesInChart[i].shape;else if(typeof shapesInChart[i].shape!="string")shape=drawShape_default.shape.toUpperCase();else shape=shapesInChart[i].shape.toUpperCase();if(othervars.config.animation&&drawShapeSetValue(shapesInChart[i].animate,drawShape_default.animate))realAnimation=othervars.animationValue;else realAnimation=1;ctx.save();switch(shape){case "LINE":var vright,vleft,vtop,vbottom,tmp;vright=1*drawShapeSetValue(shapesInChart[i].x2,drawShape_default.x2);vleft=1*drawShapeSetValue(shapesInChart[i].x1,drawShape_default.x1);vtop=1*drawShapeSetValue(shapesInChart[i].y2,drawShape_default.y2);vbottom=1*drawShapeSetValue(shapesInChart[i].y1,drawShape_default.y1);if(vright<vleft){tmp=vright;vright=vleft;vleft=tmp;tmp=vtop;vtop=vbottom;vbottom=tmp;}ctx.beginPath();var xypos1=setXYpos(shape,shapesInChart[i],"","","",ctx,data,statData,othervars,vright,vtop,1*drawShapeSetValue(shapesInChart[i].paddingX1,drawShape_default.paddingX1),1*drawShapeSetValue(shapesInChart[i].paddingY1,drawShape_default.paddingY1),drawShapeSetValue(shapesInChart[i].limitToChart,drawShape_default.limitToChart));var xypos2=setXYpos(shape,shapesInChart[i],"","","",ctx,data,statData,othervars,vleft,vbottom,1*drawShapeSetValue(shapesInChart[i].paddingX2,drawShape_default.paddingX2),1*drawShapeSetValue(shapesInChart[i].paddingY2,drawShape_default.paddingY2),drawShapeSetValue(shapesInChart[i].limitToChart,drawShape_default.limitToChart));if(Math.abs(xypos1.xpos-xypos2.xpos)<othervars.config.zeroValue){vright=xypos1.xpos;vleft=xypos2.xpos;vbottom=xypos1.ypos+(1-realAnimation)*(xypos2.ypos-xypos1.ypos)/2;vtop=xypos2.ypos-(1-realAnimation)*(xypos2.ypos-xypos1.ypos)/2;}else{var a=(xypos1.ypos-xypos2.ypos)/(xypos1.xpos-xypos2.xpos);var b=xypos1.ypos-a*xypos1.xpos;vright=xypos2.xpos-(1-realAnimation)*(xypos2.xpos-xypos1.xpos)/2;vleft=xypos1.xpos+(1-realAnimation)*(xypos2.xpos-xypos1.xpos)/2;vtop=a*vright+b;vbottom=a*vleft+b;}ctx.moveTo(vright,vtop);ctx.lineTo(vleft,vbottom);ctx.lineWidth=Math.ceil(ctx.chartLineScale*drawShapeSetValue(shapesInChart[i].strokeSize,drawShape_default.strokeSize));ctx.strokeStyle=drawShapeSetValue(shapesInChart[i].strokeColor,drawShape_default.strokeColor);ctx.setLineDash(lineStyleFn(drawShapeSetValue(shapesInChart[i].strokeStyle,drawShape_default.strokeStyle)));ctx.stroke();ctx.setLineDash([]);break;case "ARROW":var vright,vleft,vtop,vbottom,tmp;var arrowtx1,arrowtx2,arrowty1,arrowty2;var arrowbx1,arrowbx2,arrowby1,arrowby2;vright=1*drawShapeSetValue(shapesInChart[i].x1,drawShape_default.x1);vleft=1*drawShapeSetValue(shapesInChart[i].x2,drawShape_default.x2);vtop=1*drawShapeSetValue(shapesInChart[i].y1,drawShape_default.y1);vbottom=1*drawShapeSetValue(shapesInChart[i].y2,drawShape_default.y2);ctx.beginPath();var xypos1=setXYpos(shape,shapesInChart[i],"","","",ctx,data,statData,othervars,vright,vtop,1*drawShapeSetValue(shapesInChart[i].paddingX1,drawShape_default.paddingX1),1*drawShapeSetValue(shapesInChart[i].paddingY1,drawShape_default.paddingY1),drawShapeSetValue(shapesInChart[i].limitToChart,drawShape_default.limitToChart));var xypos2=setXYpos(shape,shapesInChart[i],"","","",ctx,data,statData,othervars,vleft,vbottom,1*drawShapeSetValue(shapesInChart[i].paddingX2,drawShape_default.paddingX2),1*drawShapeSetValue(shapesInChart[i].paddingY2,drawShape_default.paddingY2),drawShapeSetValue(shapesInChart[i].limitToChart,drawShape_default.limitToChart));var arrowWidth=realAnimation*1*drawShapeSetValue(shapesInChart[i].arrowWidth,drawShape_default.arrowWidth);var arrowHeight=realAnimation*1*drawShapeSetValue(shapesInChart[i].arrowHeight,drawShape_default.arrowHeight);if(Math.abs(xypos1.xpos-xypos2.xpos)<othervars.config.zeroValue){vright=xypos1.xpos;vleft=xypos2.xpos;vbottom=xypos1.ypos;vtop=xypos2.ypos-(1-realAnimation)*(xypos2.ypos-xypos1.ypos);if(vbottom>vtop)fact=1;else fact=-1;arrowby1=vbottom-fact*arrowHeight;arrowby2=arrowby1;arrowty1=vtop+fact*arrowHeight;arrowty2=arrowty1;arrowbx1=vright-arrowWidth/2;arrowbx2=vright+arrowWidth/2;arrowtx1=arrowbx1;arrowtx2=arrowbx2;}else{var a=(xypos1.ypos-xypos2.ypos)/(xypos1.xpos-xypos2.xpos);var b=xypos1.ypos-a*xypos1.xpos;vright=xypos2.xpos-(1-realAnimation)*(xypos2.xpos-xypos1.xpos);vleft=xypos1.xpos;vtop=a*vright+b;vbottom=a*vleft+b;if(Math.abs(vtop-vbottom)<othervars.config.zeroValue){var fact;if(vleft<vright)fact=1;else fact=-1;arrowby1=vbottom-arrowWidth/2;arrowby2=vbottom+arrowWidth/2;arrowbx1=vleft+fact*arrowHeight;arrowbx2=arrowbx1;arrowty1=arrowby1;arrowty2=arrowby2;arrowtx1=vright-fact*arrowHeight;arrowtx2=arrowtx1;}else{var fact;if(vleft<vright)fact=1;else fact=-1;var crossptx=vleft+fact*arrowHeight*Math.cos(Math.atan(a));var crosspty=a*crossptx+b;var bprim=crosspty+(1/a)*crossptx;arrowbx1=crossptx-(arrowWidth/2)*(Math.cos(Math.atan(-1/a)));arrowbx2=crossptx+(arrowWidth/2)*(Math.cos(Math.atan(-1/a)));arrowby1=(-1/a)*arrowbx1+bprim;arrowby2=(-1/a)*arrowbx2+bprim;crossptx=vright-fact*arrowHeight*Math.cos(Math.atan(a));crosspty=a*crossptx+b;bprim=crosspty+(1/a)*crossptx;arrowtx1=crossptx-(arrowWidth/2)*(Math.cos(Math.atan(-1/a)));arrowtx2=crossptx+(arrowWidth/2)*(Math.cos(Math.atan(-1/a)));arrowty1=(-1/a)*arrowtx1+bprim;arrowty2=(-1/a)*arrowtx2+bprim;}var crossptx=vleft+arrowHeight*Math.cos(Math.atan(a));var crosspty=a*crossptx+b;var bprim=crosspty+(1/a);}ctx.moveTo(vright,vtop);ctx.lineTo(vleft,vbottom);ctx.lineWidth=Math.ceil(ctx.chartLineScale*drawShapeSetValue(shapesInChart[i].strokeSize,drawShape_default.strokeSize));ctx.strokeStyle=drawShapeSetValue(shapesInChart[i].strokeColor,drawShape_default.strokeColor);ctx.setLineDash(lineStyleFn(drawShapeSetValue(shapesInChart[i].strokeStyle,drawShape_default.strokeStyle)));ctx.stroke();ctx.restore();ctx.strokeStyle=drawShapeSetValue(shapesInChart[i].strokeColor,drawShape_default.strokeColor);ctx.setLineDash(lineStyleFn(drawShapeSetValue(shapesInChart[i].strokeStyle,drawShape_default.strokeStyle)));ctx.lineWidth=Math.ceil(ctx.chartLineScale*drawShapeSetValue(shapesInChart[i].strokeSize,drawShape_default.strokeSize));ctx.setLineDash([]);if(drawShapeSetValue(shapesInChart[i].arrowTop,drawShape_default.arrowTop)){ctx.moveTo(vright,vtop);ctx.lineTo(arrowtx1,arrowty1);ctx.lineTo(arrowtx2,arrowty2);ctx.lineTo(vright,vtop);ctx.stroke();ctx.closePath();ctx.fillStyle=drawShapeSetValue(shapesInChart[i].strokeColor,drawShape_default.strokeColor);ctx.fill();}if(drawShapeSetValue(shapesInChart[i].arrowBottom,drawShape_default.arrowBottom)){ctx.moveTo(vleft,vbottom);ctx.lineTo(arrowbx1,arrowby1);ctx.lineTo(arrowbx2,arrowby2);ctx.lineTo(vleft,vbottom);ctx.stroke();ctx.closePath();ctx.fillStyle=drawShapeSetValue(shapesInChart[i].strokeColor,drawShape_default.strokeColor);ctx.fill();}ctx.setLineDash([]);break;case "TEXT":ctx.beginPath();var vx,vy,text;vx=1*drawShapeSetValue(shapesInChart[i].x1,drawShape_default.x1);vy=1*drawShapeSetValue(shapesInChart[i].y1,drawShape_default.y1);text=drawShapeSetValue(shapesInChart[i].text,drawShape_default.text);if(typeof text=="function")text=text(i,null,ctx,othervars.config,vx,vy,othervars.borderX,othervars.borderY,true,data,othervars.animationValue,othervars);var xypos1=setXYpos(shape,shapesInChart[i],"","","",ctx,data,statData,othervars,vx,vy,1*drawShapeSetValue(shapesInChart[i].paddingX1,drawShape_default.paddingX1),1*drawShapeSetValue(shapesInChart[i].paddingY1,drawShape_default.paddingY1),drawShapeSetValue(shapesInChart[i].limitToChart,drawShape_default.limitToChart));ctx.translate(xypos1.xpos,xypos1.ypos);var fontSize=realAnimation*drawShapeSetValue(shapesInChart[i].fontSize,drawShape_default.fontSize);ctx.font=drawShapeSetValue(shapesInChart[i].fontStyle,drawShape_default.fontStyle)+" "+(Math.ceil(ctx.chartTextScale*fontSize)).toString()+"px "+drawShapeSetValue(shapesInChart[i].fontFamily,drawShape_default.fontFamily);ctx.fillStyle=drawShapeSetValue(shapesInChart[i].fontColor,drawShape_default.fontColor);ctx.textAlign=drawShapeSetValue(shapesInChart[i].textAlign,drawShape_default.textAlign);ctx.textBaseline=drawShapeSetValue(shapesInChart[i].textBaseline,drawShape_default.textBaseline);var rotateVal=Math.PI*1*drawShapeSetValue(shapesInChart[i].rotate,drawShape_default.rotate)/180;ctx.rotate(rotateVal);setTextBordersAndBackground(ctx,text,Math.ceil(ctx.chartTextScale*fontSize),0,0,drawShapeSetValue(shapesInChart[i].textBorders,drawShape_default.textBorders),drawShapeSetValue(shapesInChart[i].textBordersSelection,drawShape_default.textBordersSelection),drawShapeSetValue(shapesInChart[i].textBordersColor,drawShape_default.textBordersColor),Math.ceil((realAnimation)*ctx.chartLineScale*drawShapeSetValue(shapesInChart[i].textBordersWidth,drawShape_default.textBordersWidth)),Math.ceil(ctx.chartSpaceScale*drawShapeSetValue(shapesInChart[i].textBordersXSpace,drawShape_default.textBordersXSpace)),Math.ceil(ctx.chartSpaceScale*drawShapeSetValue(shapesInChart[i].textBordersYSpace,drawShape_default.textBordersYSpace)),drawShapeSetValue(shapesInChart[i].textBordersStyle,drawShape_default.textBordersStyle),drawShapeSetValue(shapesInChart[i].textBackgroundColor,drawShape_default.textBackgroundColor),"TEXTINSHAPE",drawShapeSetValue(shapesInChart[i].textBordersRadius,drawShape_default.textBordersRadius));if(iter!=="all"||(iter==="all"&&othervars.cntiter!=othervars.config.animationSteps)||othervars.config.animation==false)ctx.fillTextMultiLine(text,0,0,ctx.textBaseline,Math.ceil(ctx.chartTextScale*fontSize),true,othervars.config.detectMouseOnText,ctx,"SHAPESINCHART_TEXTMOUSE",rotateVal,xypos1.xpos,xypos1.ypos,-1,-1);else ctx.fillTextMultiLine(text,0,0,ctx.textBaseline,Math.ceil(ctx.chartTextScale*fontSize),true,false,ctx,"SHAPESINCHART_TEXTMOUSE",rotateVal,xypos1.xpos,xypos1.ypos,-1,-1);break;case "IMAGE":var imageAlign=drawShapeSetValue(shapesInChart[i].imageAlign,drawShape_default.imageAlign);var imageBaseline=drawShapeSetValue(shapesInChart[i].imageBaseline,drawShape_default.imageBaseline);var vx,vy,text;vx=1*drawShapeSetValue(shapesInChart[i].x1,drawShape_default.x1);vy=1*drawShapeSetValue(shapesInChart[i].y1,drawShape_default.y1);var xypos1=setXYpos(shape,shapesInChart[i],imageAlign,imageBaseline,shapesInChart[i].loadImage,ctx,data,statData,othervars,vx,vy,1*drawShapeSetValue(shapesInChart[i].paddingX1,drawShape_default.paddingX1),1*drawShapeSetValue(shapesInChart[i].paddingY1,drawShape_default.paddingY1),drawShapeSetValue(shapesInChart[i].limitToChart,drawShape_default.limitToChart));ctx.translate(xypos1.xpos,xypos1.ypos);var rotateVal=Math.PI*1*drawShapeSetValue(shapesInChart[i].rotate,drawShape_default.rotate)/180;ctx.rotate(rotateVal);var imageWidth=drawShapeSetValue(shapesInChart[i].imageWidth,shapesInChart[i].loadImage.width);var imageHeight=drawShapeSetValue(shapesInChart[i].imageHeight,shapesInChart[i].loadImage.height);ctx.drawImage(shapesInChart[i].loadImage,0,0,shapesInChart[i].loadImage.width,shapesInChart[i].loadImage.height,0,0,imageWidth,imageHeight);break;case "STAR":case "PLUS":case "CROSS":var vxs1,vys1,vxs2,vys2,lineCount,angle,vx,vy,vx2,vy2;var angle=(Math.PI*(1*drawShapeSetValue(shapesInChart[i].rotate,drawShape_default.rotate)-90)/180);switch(shape){case "PLUS":lineCount=2;break;case "CROSS":lineCount=2;angle+=Math.PI/4;break;default:lineCount=1*drawShapeSetValue(shapesInChart[i].lineCount,drawShape_default.lineCount);if(lineCount<2)lineCount=2;break;}var angleplus=Math.PI/lineCount;vx=1*drawShapeSetValue(shapesInChart[i].x1,drawShape_default.x1);vy=1*drawShapeSetValue(shapesInChart[i].y1,drawShape_default.y1);var radius=realAnimation*1*drawShapeSetValue(shapesInChart[i].radius,drawShape_default.radius);if(radius<0){var xypos2=setXYpos(shape,shapesInChart[i],"","","",ctx,data,statData,othervars,1*drawShapeSetValue(shapesInChart[i].x2,drawShape_default.x2),1*drawShapeSetValue(shapesInChart[i].y2,drawShape_default.y2),1*drawShapeSetValue(shapesInChart[i].paddingX2,drawShape_default.paddingX2),1*drawShapeSetValue(shapesInChart[i].paddingY2,drawShape_default.paddingY2),drawShapeSetValue(shapesInChart[i].limitToChart,drawShape_default.limitToChart));radius=Math.sqrt(((xypos.xpos-xypos2.xpos)*(xypos.xpos-xypos2.xpos))+((xypos.ypos-xypos2.ypos)*(xypos.ypos-xypos2.ypos)));}var xypos1=setXYpos(shape,shapesInChart[i],"","","",ctx,data,statData,othervars,vx,vy,1*drawShapeSetValue(shapesInChart[i].paddingX1,drawShape_default.paddingX1),1*drawShapeSetValue(shapesInChart[i].paddingY1,drawShape_default.paddingY1),drawShapeSetValue(shapesInChart[i].limitToChart,drawShape_default.limitToChart));ctx.beginPath();ctx.lineWidth=Math.ceil(ctx.chartLineScale*drawShapeSetValue(shapesInChart[i].strokeSize,drawShape_default.strokeSize));ctx.strokeStyle=drawShapeSetValue(shapesInChart[i].strokeColor,drawShape_default.strokeColor);ctx.setLineDash(lineStyleFn(drawShapeSetValue(shapesInChart[i].strokeStyle,drawShape_default.strokeStyle)));for(var j=0;j<lineCount;j++){vxs1=xypos1.xpos+radius*Math.cos(angle);vys1=xypos1.ypos+radius*Math.sin(angle);vxs2=xypos1.xpos-radius*Math.cos(angle);vys2=xypos1.ypos-radius*Math.sin(angle);angle+=angleplus;ctx.moveTo(vxs1,vys1);ctx.lineTo(vxs2,vys2);ctx.stroke();}ctx.setLineDash([]);break;case "REGULARSHAPE":case "TRIANGLE":case "SQUARE":case "DIAMOND":var vxs,vys,sideCount,angle;var angle=(Math.PI*(1*drawShapeSetValue(shapesInChart[i].rotate,drawShape_default.rotate)-90)/180);switch(shape){case "TRIANGLE":sideCount=3;break;case "SQUARE":sideCount=4;angle+=Math.PI/4;break;case "DIAMOND":sideCount=4;break;default:sideCount=1*drawShapeSetValue(shapesInChart[i].sideCount,drawShape_default.sideCount);if(sideCount<3)sideCount=3;break;}var angleplus=2*Math.PI/sideCount;vx=1*drawShapeSetValue(shapesInChart[i].x1,drawShape_default.x1);vy=1*drawShapeSetValue(shapesInChart[i].y1,drawShape_default.y1);var xypos1=setXYpos(shape,shapesInChart[i],"","","",ctx,data,statData,othervars,vx,vy,1*drawShapeSetValue(shapesInChart[i].paddingX1,drawShape_default.paddingX1),1*drawShapeSetValue(shapesInChart[i].paddingY1,drawShape_default.paddingY1),drawShapeSetValue(shapesInChart[i].limitToChart,drawShape_default.limitToChart));var radius=realAnimation*1*drawShapeSetValue(shapesInChart[i].radius,drawShape_default.radius);if(radius<0){var xypos2=setXYpos(shape,shapesInChart[i],"","","",ctx,data,statData,othervars,1*drawShapeSetValue(shapesInChart[i].x2,drawShape_default.x2),1*drawShapeSetValue(shapesInChart[i].y2,drawShape_default.y2),1*drawShapeSetValue(shapesInChart[i].paddingX2,drawShape_default.paddingX2),1*drawShapeSetValue(shapesInChart[i].paddingY2,drawShape_default.paddingY2),drawShapeSetValue(shapesInChart[i].limitToChart,drawShape_default.limitToChart));radius=Math.sqrt(((xypos.xpos-xypos2.xpos)*(xypos.xpos-xypos2.xpos))+((xypos.ypos-xypos2.ypos)*(xypos.ypos-xypos2.ypos)));}ctx.beginPath();ctx.lineWidth=Math.ceil(ctx.chartLineScale*drawShapeSetValue(shapesInChart[i].strokeSize,drawShape_default.strokeSize));ctx.strokeStyle=drawShapeSetValue(shapesInChart[i].strokeColor,drawShape_default.strokeColor);ctx.setLineDash(lineStyleFn(drawShapeSetValue(shapesInChart[i].strokeStyle,drawShape_default.strokeStyle)));for(var j=0;j<sideCount;j++){vxs=xypos1.xpos+radius*Math.cos(angle);vys=xypos1.ypos+radius*Math.sin(angle);angle+=angleplus;if(j==0)ctx.moveTo(vxs,vys);else ctx.lineTo(vxs,vys);}ctx.closePath();ctx.fillStyle=setOptionValue(true,true,1,"SHAPESINCHART_REGULARSHAPE",ctx,data,statData,shapesInChart[i].fillColor,drawShape_default.fillColor,"fillColor",-1,-1,{gradientColors:shapesInChart[i].gradientColors,animationValue:realAnimation,midPosX:xypos1.xpos,midPosY:xypos1.ypos,radius});ctx.fill();ctx.stroke();ctx.setLineDash([]);break;case "ELLIPSE":ctx.beginPath();var xypos=setXYpos(shape,shapesInChart[i],"","","",ctx,data,statData,othervars,1*drawShapeSetValue(shapesInChart[i].x1,drawShape_default.x1),1*drawShapeSetValue(shapesInChart[i].y1,drawShape_default.y1),1*drawShapeSetValue(shapesInChart[i].paddingX1,drawShape_default.paddingX1),1*drawShapeSetValue(shapesInChart[i].paddingY1,drawShape_default.paddingY1),drawShapeSetValue(shapesInChart[i].limitToChart,drawShape_default.limitToChart));var height=realAnimation*1*drawShapeSetValue(shapesInChart[i].ellipseHeight,drawShape_default.ellipseHeight);var width=realAnimation*1*drawShapeSetValue(shapesInChart[i].ellipseWidth,drawShape_default.ellipseWidth);ctx.moveTo(xypos.xpos,xypos.ypos-height/2);ctx.bezierCurveTo(xypos.xpos+width/2,xypos.ypos-height/2,xypos.xpos+width/2,xypos.ypos+height/2,xypos.xpos,xypos.ypos+height/2);ctx.bezierCurveTo(xypos.xpos-width/2,xypos.ypos+height/2,xypos.xpos-width/2,xypos.ypos-height/2,xypos.xpos,xypos.ypos-height/2);ctx.closePath();ctx.fillStyle=setOptionValue(true,true,1,"SHAPESINCHART_ELLIPSE",ctx,data,statData,shapesInChart[i].fillColor,drawShape_default.fillColor,"fillColor",-1,-1,{gradientColors:shapesInChart[i].gradientColors,animationValue:realAnimation,midPosX:xypos.xpos,midPosY:xypos.ypos,radius:Math.max(width/2,height/2)});ctx.fill();ctx.lineWidth=Math.ceil(ctx.chartLineScale*drawShapeSetValue(shapesInChart[i].strokeSize,drawShape_default.strokeSize));ctx.strokeStyle=drawShapeSetValue(shapesInChart[i].strokeColor,drawShape_default.strokeColor);ctx.setLineDash(lineStyleFn(drawShapeSetValue(shapesInChart[i].strokeStyle,drawShape_default.strokeStyle)));ctx.stroke();ctx.setLineDash([]);break;case "RECTANGLE":var vright,vleft,vtop,vbottom,tmp;vright=1*drawShapeSetValue(shapesInChart[i].x1,drawShape_default.x1);vleft=1*drawShapeSetValue(shapesInChart[i].x2,drawShape_default.x2);vtop=1*drawShapeSetValue(shapesInChart[i].y2,drawShape_default.y2);vbottom=1*drawShapeSetValue(shapesInChart[i].y1,drawShape_default.y1);ctx.beginPath();var xypos1=setXYpos(shape,shapesInChart[i],"","","",ctx,data,statData,othervars,vleft,vtop,1*drawShapeSetValue(shapesInChart[i].paddingX1,drawShape_default.paddingX1),1*drawShapeSetValue(shapesInChart[i].paddingY1,drawShape_default.paddingY1),drawShapeSetValue(shapesInChart[i].limitToChart,drawShape_default.limitToChart));var xypos2=setXYpos(shape,shapesInChart[i],"","","",ctx,data,statData,othervars,vright,vbottom,1*drawShapeSetValue(shapesInChart[i].paddingX2,drawShape_default.paddingX2),1*drawShapeSetValue(shapesInChart[i].paddingY2,drawShape_default.paddingY2),drawShapeSetValue(shapesInChart[i].limitToChart,drawShape_default.limitToChart));if(xypos2.xpos<xypos1.xpos){tmp=xypos2.xpos;xypos2.xpos=xypos1.xpos;xypos1.xpos=tmp;}if(xypos2.ypos<xypos1.ypos){tmp=xypos2.ypos;xypos2.ypos=xypos1.ypos;xypos1.ypos=tmp;}ctx.moveTo(xypos1.xpos+(1-realAnimation)*((xypos2.xpos-xypos1.xpos)/2),xypos1.ypos+(1-realAnimation)*((xypos2.ypos-xypos1.ypos)/2));ctx.lineTo(xypos1.xpos+(1-realAnimation)*((xypos2.xpos-xypos1.xpos)/2),xypos2.ypos-(1-realAnimation)*((xypos2.ypos-xypos1.ypos)/2));ctx.lineTo(xypos2.xpos-(1-realAnimation)*((xypos2.xpos-xypos1.xpos)/2),xypos2.ypos-(1-realAnimation)*((xypos2.ypos-xypos1.ypos)/2));ctx.lineTo(xypos2.xpos-(1-realAnimation)*((xypos2.xpos-xypos1.xpos)/2),xypos1.ypos+(1-realAnimation)*((xypos2.ypos-xypos1.ypos)/2));ctx.closePath();ctx.fillStyle=setOptionValue(true,true,1,"SHAPESINCHART_RECT",ctx,data,statData,shapesInChart[i].fillColor,drawShape_default.fillColor,"fillColor",-1,-1,{gradientColors:shapesInChart[i].gradientColors,animationValue:realAnimation,xPosLeft:xypos1.xpos+(1-realAnimation)*((xypos2.xpos-xypos1.xpos)/2),yPosBottom:xypos1.ypos+(1-realAnimation)*((xypos2.ypos-xypos1.ypos)/2),yPosTop:xypos2.ypos-(1-realAnimation)*((xypos2.ypos-xypos1.ypos)/2)});ctx.fill();ctx.lineWidth=Math.ceil(ctx.chartLineScale*drawShapeSetValue(shapesInChart[i].strokeSize,drawShape_default.strokeSize));ctx.strokeStyle=drawShapeSetValue(shapesInChart[i].strokeColor,drawShape_default.strokeColor);ctx.setLineDash(lineStyleFn(drawShapeSetValue(shapesInChart[i].strokeStyle,drawShape_default.strokeStyle)));ctx.stroke();ctx.setLineDash([]);break;case "MYSHAPE":var xpos,ypos,xypos1,paddingX,paddingY;ctx.beginPath();if(typeof shapesInChart[i].shapePoints!=="object")break;if(shapesInChart[i].shapePoints.length<3)break;for(var j=0;j<shapesInChart[i].shapePoints.length;j++){xpos=drawShapeSetValue(shapesInChart[i].shapePoints[j][0],drawShape_default.x1);ypos=drawShapeSetValue(shapesInChart[i].shapePoints[j][1],drawShape_default.y1);paddingX=drawShapeSetValue(shapesInChart[i].shapePadding[j][0],drawShape_default.paddingX1);paddingY=drawShapeSetValue(shapesInChart[i].shapePadding[j][1],drawShape_default.paddingY1);xypos1=setXYpos(shape,shapesInChart[i],"","","",ctx,data,statData,othervars,xpos,ypos,1*paddingX,1*paddingY,drawShapeSetValue(shapesInChart[i].limitToChart,drawShape_default.limitToChart));if(j==0)ctx.moveTo(xypos1.xpos,xypos1.ypos);else ctx.lineTo(xypos1.xpos,xypos1.ypos);}ctx.closePath();ctx.fillStyle=drawShapeSetValue(shapesInChart[i].fillColor,drawShape_default.fillColor);ctx.fill();ctx.lineWidth=Math.ceil(ctx.chartLineScale*drawShapeSetValue(shapesInChart[i].strokeSize,drawShape_default.strokeSize));ctx.strokeStyle=drawShapeSetValue(shapesInChart[i].strokeColor,drawShape_default.strokeColor);ctx.setLineDash(lineStyleFn(drawShapeSetValue(shapesInChart[i].strokeStyle,drawShape_default.strokeStyle)));ctx.stroke();ctx.setLineDash([]);break;case "CIRCLE":ctx.beginPath();var xypos=setXYpos(shape,shapesInChart[i],"","","",ctx,data,statData,othervars,1*drawShapeSetValue(shapesInChart[i].x1,drawShape_default.x1),1*drawShapeSetValue(shapesInChart[i].y1,drawShape_default.y1),1*drawShapeSetValue(shapesInChart[i].paddingX1,drawShape_default.paddingX1),1*drawShapeSetValue(shapesInChart[i].paddingY1,drawShape_default.paddingY1),drawShapeSetValue(shapesInChart[i].limitToChart,drawShape_default.limitToChart));var radius=realAnimation*1*drawShapeSetValue(shapesInChart[i].radius,drawShape_default.radius);if(radius<0){var xypos2=setXYpos(shape,shapesInChart[i],"","","",ctx,data,statData,othervars,1*drawShapeSetValue(shapesInChart[i].x2,drawShape_default.x2),1*drawShapeSetValue(shapesInChart[i].y2,drawShape_default.y2),1*drawShapeSetValue(shapesInChart[i].paddingX2,drawShape_default.paddingX2),1*drawShapeSetValue(shapesInChart[i].paddingY2,drawShape_default.paddingY2),drawShapeSetValue(shapesInChart[i].limitToChart,drawShape_default.limitToChart));radius=Math.sqrt(((xypos.xpos-xypos2.xpos)*(xypos.xpos-xypos2.xpos))+((xypos.ypos-xypos2.ypos)*(xypos.ypos-xypos2.ypos)));}var xypos=setXYpos(shape,shapesInChart[i],"","","",ctx,data,statData,othervars,1*drawShapeSetValue(shapesInChart[i].x1,drawShape_default.x1),1*drawShapeSetValue(shapesInChart[i].y1,drawShape_default.y1),1*drawShapeSetValue(shapesInChart[i].paddingX1,drawShape_default.paddingX1),1*drawShapeSetValue(shapesInChart[i].paddingY1,drawShape_default.paddingY1),drawShapeSetValue(shapesInChart[i].limitToChart,drawShape_default.limitToChart));if(1*drawShapeSetValue(shapesInChart[i].endAngle,drawShape_default.endAngle)-1*drawShapeSetValue(shapesInChart[i].startAngle,drawShape_default.startAngle)!=360)ctx.arc(xypos.xpos,xypos.ypos,0,(Math.PI/180)*1*drawShapeSetValue(shapesInChart[i].startAngle,drawShape_default.startAngle),(Math.PI/180)*1*drawShapeSetValue(shapesInChart[i].endAngle,drawShape_default.endAngle),false);ctx.arc(xypos.xpos,xypos.ypos,realAnimation*1*radius,(Math.PI/180)*1*drawShapeSetValue(shapesInChart[i].startAngle,drawShape_default.startAngle),(Math.PI/180)*1*drawShapeSetValue(shapesInChart[i].endAngle,drawShape_default.endAngle),true);ctx.closePath();ctx.fillStyle=setOptionValue(true,true,1,"SHAPESINCHART_CIRCLE",ctx,data,statData,shapesInChart[i].fillColor,drawShape_default.fillColor,"fillColor",-1,-1,{gradientColors:shapesInChart[i].gradientColors,animationValue:realAnimation,midPosX:xypos.xpos,midPosY:xypos.ypos,radius});ctx.fill();ctx.lineWidth=Math.ceil(ctx.chartLineScale*drawShapeSetValue(shapesInChart[i].strokeSize,drawShape_default.strokeSize));ctx.strokeStyle=drawShapeSetValue(shapesInChart[i].strokeColor,drawShape_default.strokeColor);ctx.setLineDash(lineStyleFn(drawShapeSetValue(shapesInChart[i].strokeStyle,drawShape_default.strokeStyle)));ctx.stroke();ctx.setLineDash([]);break;default:if(typeof shapesInChart[i].shape=="function"){othervars.currentShape=i;othervars.shapesInChart=shapesInChart[i];othervars.xypos1=setXYpos(shape,shapesInChart[i],"","","",ctx,data,statData,othervars,1*drawShapeSetValue(shapesInChart[i].x1,drawShape_default.x1),1*drawShapeSetValue(shapesInChart[i].y1,drawShape_default.y1),1*drawShapeSetValue(shapesInChart[i].paddingX1,drawShape_default.paddingX1),1*drawShapeSetValue(shapesInChart[i].paddingY1,drawShape_default.paddingY1),drawShapeSetValue(shapesInChart[i].limitToChart,drawShape_default.limitToChart));othervars.xypos2=setXYpos(shape,shapesInChart[i],"","","",ctx,data,statData,othervars,1*drawShapeSetValue(shapesInChart[i].x2,drawShape_default.x2),1*drawShapeSetValue(shapesInChart[i].y2,drawShape_default.y2),1*drawShapeSetValue(shapesInChart[i].paddingX2,drawShape_default.paddingX2),1*drawShapeSetValue(shapesInChart[i].paddingY2,drawShape_default.paddingY2),drawShapeSetValue(shapesInChart[i].limitToChart,drawShape_default.limitToChart));othervars.xypos3=setXYpos(shape,shapesInChart[i],"","","",ctx,data,statData,othervars,1*drawShapeSetValue(shapesInChart[i].x3,drawShape_default.x3),1*drawShapeSetValue(shapesInChart[i].y3,drawShape_default.y3),1*drawShapeSetValue(shapesInChart[i].paddingX3,drawShape_default.paddingX3),1*drawShapeSetValue(shapesInChart[i].paddingY3,drawShape_default.paddingY3),drawShapeSetValue(shapesInChart[i].limitToChart,drawShape_default.limitToChart));othervars.xypos4=setXYpos(shape,shapesInChart[i],"","","",ctx,data,statData,othervars,1*drawShapeSetValue(shapesInChart[i].x4,drawShape_default.x4),1*drawShapeSetValue(shapesInChart[i].y4,drawShape_default.y4),1*drawShapeSetValue(shapesInChart[i].paddingX4,drawShape_default.paddingX4),1*drawShapeSetValue(shapesInChart[i].paddingY4,drawShape_default.paddingY4),drawShapeSetValue(shapesInChart[i].limitToChart,drawShape_default.limitToChart));othervars.xypos5=setXYpos(shape,shapesInChart[i],"","","",ctx,data,statData,othervars,1*drawShapeSetValue(shapesInChart[i].x5,drawShape_default.x5),1*drawShapeSetValue(shapesInChart[i].y5,drawShape_default.y5),1*drawShapeSetValue(shapesInChart[i].paddingX5,drawShape_default.paddingX5),1*drawShapeSetValue(shapesInChart[i].paddingY5,drawShape_default.paddingY5),drawShapeSetValue(shapesInChart[i].limitToChart,drawShape_default.limitToChart));othervars.xypos6=setXYpos(shape,shapesInChart[i],"","","",ctx,data,statData,othervars,1*drawShapeSetValue(shapesInChart[i].x6,drawShape_default.x6),1*drawShapeSetValue(shapesInChart[i].y6,drawShape_default.y6),1*drawShapeSetValue(shapesInChart[i].paddingX6,drawShape_default.paddingX6),1*drawShapeSetValue(shapesInChart[i].paddingY6,drawShape_default.paddingY6),drawShapeSetValue(shapesInChart[i].limitToChart,drawShape_default.limitToChart));othervars.xypos7=setXYpos(shape,shapesInChart[i],"","","",ctx,data,statData,othervars,1*drawShapeSetValue(shapesInChart[i].x7,drawShape_default.x7),1*drawShapeSetValue(shapesInChart[i].y7,drawShape_default.y7),1*drawShapeSetValue(shapesInChart[i].paddingX7,drawShape_default.paddingX7),1*drawShapeSetValue(shapesInChart[i].paddingY7,drawShape_default.paddingY7),drawShapeSetValue(shapesInChart[i].limitToChart,drawShape_default.limitToChart));othervars.xypos8=setXYpos(shape,shapesInChart[i],"","","",ctx,data,statData,othervars,1*drawShapeSetValue(shapesInChart[i].x8,drawShape_default.x8),1*drawShapeSetValue(shapesInChart[i].y8,drawShape_default.y8),1*drawShapeSetValue(shapesInChart[i].paddingX8,drawShape_default.paddingX8),1*drawShapeSetValue(shapesInChart[i].paddingY8,drawShape_default.paddingY8),drawShapeSetValue(shapesInChart[i].limitToChart,drawShape_default.limitToChart));othervars.xypos9=setXYpos(shape,shapesInChart[i],"","","",ctx,data,statData,othervars,1*drawShapeSetValue(shapesInChart[i].x9,drawShape_default.x9),1*drawShapeSetValue(shapesInChart[i].y9,drawShape_default.y9),1*drawShapeSetValue(shapesInChart[i].paddingX9,drawShape_default.paddingX9),1*drawShapeSetValue(shapesInChart[i].paddingY9,drawShape_default.paddingY9),drawShapeSetValue(shapesInChart[i].limitToChart,drawShape_default.limitToChart));othervars.xypos10=setXYpos(shape,shapesInChart[i],"","","",ctx,data,statData,othervars,1*drawShapeSetValue(shapesInChart[i].x10,drawShape_default.x10),1*drawShapeSetValue(shapesInChart[i].y10,drawShape_default.y10),1*drawShapeSetValue(shapesInChart[i].paddingX10,drawShape_default.paddingX10),1*drawShapeSetValue(shapesInChart[i].paddingY10,drawShape_default.paddingY10),drawShapeSetValue(shapesInChart[i].limitToChart,drawShape_default.limitToChart));if(typeof shapesInChart[i].posj!="undefined")othervars.posj=shapesInChart[i].posj;shapesInChart[i].shape(area,ctx,data,statData,posi,posj,othervars);}break;}ctx.restore();}}function setXYpos(shape,shapesInChart,imageAlign,imageBaseline,image,ctx,data,statData,othervars,xposval,yposval,paddingX1,paddingY1,limitToChart){var xpos,ypos,position;if(typeof shapesInChart.position!="string")position=drawShape_default.position.toUpperCase();else position=shapesInChart.position.toUpperCase();switch(position){case "RELATIVE":xpos=paddingX1;ypos=paddingY1;switch(xposval){case 0:break;case 1:xpos+=othervars.borderX;break;case 2:xpos+=othervars.midPosX;break;case -2:if(window.devicePixelRatio)xpos+=(ctx.canvas.width/2)/window.devicePixelRatio;else xpos+=ctx.canvas.width/2;break;case 3:xpos+=xpos+2*othervars.midPosX-othervars.borderX;break;case 4:if(window.devicePixelRatio)xpos+=ctx.canvas.width/window.devicePixelRatio;else xpos+=ctx.canvas.width;break;default:xpos+=othervars.midPosX;break;}switch(yposval){case 0:break;case 3:ypos+=othervars.borderY;break;case 2:ypos+=othervars.midPosY;break;case -2:if(window.devicePixelRatio)ypos+=(ctx.canvas.height/2)/window.devicePixelRatio;else ypos+=ctx.canvas.height/2;break;case 1:ypos+=ypos+2*othervars.midPosY-othervars.borderY;break;case 4:if(window.devicePixelRatio)ypos+=ctx.canvas.height/window.devicePixelRatio;else ypos+=ctx.canvas.height;break;default:ypos+=othervars.midPosY;break;}break;case "INCHART":switch(tpdraw(ctx,data.datasets[0])){case "Radar":var angle=((2*Math.PI)/(data.labels.length))*xposval;ypos=calculateOffset(othervars.config.logarithmic,yposval,statData[0][0].calculatedScale,statData[0][0].scaleHop,limitToChart);xpos=Math.cos(othervars.config.startAngle*Math.PI/180-angle)*ypos;ypos=Math.sin(othervars.config.startAngle*Math.PI/180-angle)*ypos;xpos=statData[0][0].midPosX+xpos+paddingX1;ypos=statData[0][0].midPosY-ypos+paddingY1;break;case "Line":ypos=calculateOffset(statData[0][0].logarithmic,yposval,statData[0][0].calculatedScale,statData[0][0].scaleHop,limitToChart)-statData[0][0].zeroY;ypos=statData[0][0].yAxisPos-ypos+paddingY1;var xposval_wk=xposval;if(limitToChart){if(xposval_wk<0)xposval_wk=0;if(xposval_wk>statData[0][0].nbValueHop)xposval_wk=statData[0][0].nbValueHop;}xpos=statData[0][0].yAxisPosX+(statData[0][0].valueHop*xposval_wk)+paddingX1;break;case "Bar":case "StackedBar":ypos=statData[0][0].xAxisPosY-calculateOffset(othervars.config.logarithmic,yposval,statData[0][0].calculatedScale,statData[0][0].scaleHop,limitToChart)+paddingY1;var xposval_wk=xposval;if(limitToChart){if(xposval_wk<-0.5)xposval_wk=-0.5;if(xposval_wk>data.labels.length-0.5)xposval_wk=data.labels.length-0.5;}xpos=statData[0][0].yAxisPosX+statData[0][0].valueHop*(xposval_wk+0.5)+paddingX1;break;case "HorizontalStackedBar":case "HorizontalBar":xpos=statData[0][0].yAxisPosX+calculateOffset(othervars.config.logarithmic,xposval,statData[0][0].calculatedScale,statData[0][0].valueHop,limitToChart)+paddingX1;var xposval_wk=yposval;if(limitToChart){if(xposval_wk<-0.5)xposval_wk=-0.5;if(xposval_wk>data.labels.length-0.5)xposval_wk=data.labels.length-0.5;}ypos=statData[0][0].xAxisPosY-statData[0][0].scaleHop*(xposval_wk+0.5)+paddingY1;break;case "Pie":case "Doughnut":case "PolarArea":if(typeof shapesInChart.posj=="undefined")shapesInChart.posj=0;if(xposval<-0.499)xpos=-0.499;else if(xposval>data.datasets.length-0.501)xpos=data.datasets.length-0.501;else xpos=xposval;var curdata=Math.round(xpos);var startAngle=statData[curdata][shapesInChart.posj].startAngle;var segmentAngle=statData[curdata][shapesInChart.posj].segmentAngle;var firstAngle=statData[curdata][shapesInChart.posj].firstAngle;var realStartAngle=statData[curdata][shapesInChart.posj].realStartAngle;var endAngle=statData[curdata][shapesInChart.posj].endAngle;var angle=2*Math.PI-(startAngle+(xpos-curdata+0.5)*segmentAngle);if(ctx.tpchart=="PolarArea")ypos=calculateOffset(othervars.config.logarithmic,yposval,statData[0][0].calculatedScale,statData[0][0].scaleHop);else ypos=statData[0][shapesInChart.posj].int_radius+yposval*(statData[0][shapesInChart.posj].ext_radius-statData[0][shapesInChart.posj].int_radius);if(limitToChart){if(ypos<-statData[0][shapesInChart.posj].ext_radius)ypos=-statData[0][shapesInChart.posj].ext_radius;if(ypos>statData[0][shapesInChart.posj].ext_radius)ypos=statData[0][shapesInChart.posj].ext_radius;}xpos=Math.cos(angle)*ypos;ypos=Math.sin(angle)*ypos;xpos=statData[0][shapesInChart.posj].midPosX+xpos+paddingX1;ypos=statData[0][shapesInChart.posj].midPosY-ypos+paddingY1;if(yposval==-999){xpos=statData[0][shapesInChart.posj].midPosX+paddingX1;ypos=statData[0][shapesInChart.posj].midPosY+paddingY1;}break;default:xpos=xposval+paddingX1;ypos=yposval+paddingY1;break;}break;case "ABSOLUTE":default:xpos=xposval+paddingX1;ypos=yposval+paddingY1;break;}if(shape=="IMAGE"){var imageWidth=drawShapeSetValue(shapesInChart.imageWidth,image.width);var imageHeight=drawShapeSetValue(shapesInChart.imageHeight,image.height);switch(imageAlign){case "left":break;case "right":xpos-=imageWidth;break;case "center":xpos-=(imageWidth/2);break;default:break;}switch(imageBaseline){case "top":break;case "bottom":ypos-=imageHeight;break;case "middle":ypos-=(imageHeight/2);break;default:break;}}return {xpos,ypos};};function calculateOffset(logarithmic,val,calculatedScale,scaleHop,limitToChart){if(!logarithmic){var outerValue=calculatedScale.steps*calculatedScale.stepValue;var adjustedValue=val-calculatedScale.graphMin;if(limitToChart){var scalingFactor=CapValue(adjustedValue/outerValue,1,0);return (scaleHop*calculatedScale.steps)*scalingFactor;}else return (scaleHop*calculatedScale.steps)*(adjustedValue/outerValue);}else return CapValue(log10(val)*scaleHop-log10(calculatedScale.graphMin)*scaleHop,undefined,0);};function CapValue(valueToCap,maxValue,minValue){if(isNumber(maxValue))if(valueToCap>maxValue)return maxValue;if(isNumber(minValue))if(valueToCap<minValue)return minValue;return valueToCap;};function drawShapeSetValue(dataval,defval){if(typeof dataval!="undefined")if(typeof dataval=="string"&&dataval.substring(0,6).toUpperCase()=="%EVAL("){var rtval;var toeval=dataval.substring(6,999);toeval=toeval.substring(0,toeval.length-1);eval("rtval="+toeval+";");return rtval;}else return dataval;else return defval;};function xPos(iteration,data,yAxisPosX,valueHop,nbValueHop){return yAxisPosX+(valueHop*iteration);};};function addIns_HighLight_endDraw(when,ctx,data,statData,i,j,other){addIns_highLight(ctx,other.config,data,1,other.animationValue,statData);}function addIns_highLight(ctx,config,data,movement,animationCount,statData){var special;var shapesVar,shapeAddins;var i,decalRadius,property;var addHighLight=false,totreat;var rectHeight,rectWidth,ratio;if(typeof data.special=="object")special=data.special;if(typeof data.shapesInChart=="object")shapesVar=data.shapesInChart;else{data.shapesInChart=[];shapesVar=data.shapesInChart;}addHighLight=false;if(typeof special=="object"){for(i=0;i<special.length;i++){totreat=false;if(typeof special[i].addIns_shape=="undefined")shapeAddins="ARROW";else shapeAddins=special[i].addIns_shape.toUpperCase();switch(shapeAddins){case "RECTANGLE":switch(tpdraw(ctx,(typeof data.datasets=="object")?data.datasets[special[i].posi]:undefined)){case "Line":case "Bar":case "StackedBar":totreat=true;addHighLight=true;shapesVar[shapesVar.length]={hightLight:true};shapesVar[shapesVar.length-1].shape=special[i].addIns_shape;shapesVar[shapesVar.length-1].position="inchart";shapesVar[shapesVar.length-1].x1=special[i].posj-0.5;shapesVar[shapesVar.length-1].y1=data.datasets[special[i].posi].data[special[i].posj];shapesVar[shapesVar.length-1].y1=-Number.MAX_VALUE;shapesVar[shapesVar.length-1].x2=special[i].posj+0.5;shapesVar[shapesVar.length-1].y2=data.datasets[special[i].posi].data[special[i].posj];shapesVar[shapesVar.length-1].y2=Number.MAX_VALUE;break;case "HorizontalBar":case "HorizontalStackedBar":totreat=true;addHighLight=true;shapesVar[shapesVar.length]={hightLight:true};shapesVar[shapesVar.length-1].shape=special[i].addIns_shape;shapesVar[shapesVar.length-1].position="inchart";shapesVar[shapesVar.length-1].y1=special[i].posj-0.5;shapesVar[shapesVar.length-1].x1=-Number.MAX_VALUE;shapesVar[shapesVar.length-1].y2=special[i].posj+0.5;shapesVar[shapesVar.length-1].x2=Number.MAX_VALUE;break;case "Radar":case "Pie":case "Doughnut":case "PolarArea":default:break;}shapesVar[shapesVar.length-1].strokeColor="black";shapesVar[shapesVar.length-1].fillColor="black";break;case "ELLIPSE":switch(tpdraw(ctx,(typeof data.datasets=="object")?data.datasets[special[i].posi]:undefined)){case "Line":case "Radar":totreat=true;addHighLight=true;shapesVar[shapesVar.length]={hightLight:true};shapesVar[shapesVar.length-1].shape=special[i].addIns_shape;shapesVar[shapesVar.length-1].position="inchart";shapesVar[shapesVar.length-1].x1=special[i].posj;shapesVar[shapesVar.length-1].y1=data.datasets[special[i].posi].data[special[i].posj];if(ctx.tpchartSub=="Bubble"&&data.datasets[special[i].posi].type!="Line"){shapesVar[shapesVar.length-1].forcedShape="CIRCLE";shapesVar[shapesVar.length-1].radius=Math.sqrt(Math.pow(statData[special[i].posi][special[i].posj].markerRadius,2)/2)+10;shapesVar[shapesVar.length-1].radius=statData[special[i].posi][special[i].posj].markerRadius+10;}else{shapesVar[shapesVar.length-1].ellipseHeight=30;shapesVar[shapesVar.length-1].ellipseWidth=40;}break;case "Bar":case "StackedBar":case "HorizontalBar":case "HorizontalStackedBar":totreat=true;addHighLight=true;shapesVar[shapesVar.length]={hightLight:true};shapesVar[shapesVar.length-1].shape=special[i].addIns_shape;shapesVar[shapesVar.length-1].position="absolute";shapesVar[shapesVar.length-1].x1=(statData[special[i].posi][special[i].posj].xPosRight+statData[special[i].posi][special[i].posj].xPosLeft)/2;shapesVar[shapesVar.length-1].y1=(statData[special[i].posi][special[i].posj].yPosTop+statData[special[i].posi][special[i].posj].yPosBottom)/2;rectHeight=1.25*Math.abs(statData[special[i].posi][special[i].posj].yPosTop-statData[special[i].posi][special[i].posj].yPosBottom);rectWidth=1.25*Math.abs(statData[special[i].posi][special[i].posj].xPosRight-statData[special[i].posi][special[i].posj].xPosLeft);ratio=rectWidth/rectHeight;shapesVar[shapesVar.length-1].ellipseWidth=Math.sqrt((rectWidth*rectWidth)+(ratio*ratio)*(rectHeight*rectHeight));shapesVar[shapesVar.length-1].ellipseHeight=shapesVar[shapesVar.length-1].ellipseWidth/ratio;break;case "Pie":case "Doughnut":case "PolarArea":default:break;}shapesVar[shapesVar.length-1].strokeColor="black";shapesVar[shapesVar.length-1].fillColor="black";break;case "ARROW":default:totreat=true;addHighLight=true;shapesVar[shapesVar.length]={hightLight:true};shapesVar[shapesVar.length-1].shape="arrow";switch(tpdraw(ctx,(typeof data.datasets=="object")?data.datasets[special[i].posi]:undefined)){case "Line":case "Radar":shapesVar[shapesVar.length-1].position="inchart";if(ctx.tpchartSub=="Bubble"&&data.datasets[special[i].posi].type!="Line"){shapesVar[shapesVar.length-1].x2=special[i].posj;shapesVar[shapesVar.length-1].y2=data.datasets[special[i].posi].data[special[i].posj];shapesVar[shapesVar.length-1].paddingX2=Math.sqrt(Math.pow(statData[special[i].posi][special[i].posj].markerRadius,2)/2);shapesVar[shapesVar.length-1].paddingY2=-shapesVar[shapesVar.length-1].paddingX2;shapesVar[shapesVar.length-1].x1=shapesVar[shapesVar.length-1].x2;shapesVar[shapesVar.length-1].y1=shapesVar[shapesVar.length-1].y2;shapesVar[shapesVar.length-1].paddingX1=shapesVar[shapesVar.length-1].paddingX2+30;shapesVar[shapesVar.length-1].paddingY1=shapesVar[shapesVar.length-1].paddingY2-30;}else{shapesVar[shapesVar.length-1].x1=special[i].posj;shapesVar[shapesVar.length-1].y1=data.datasets[special[i].posi].data[special[i].posj];shapesVar[shapesVar.length-1].paddingX1=30;shapesVar[shapesVar.length-1].paddingY1=-30;shapesVar[shapesVar.length-1].x2=special[i].posj;shapesVar[shapesVar.length-1].y2=data.datasets[special[i].posi].data[special[i].posj];}break;case "Bar":case "StackedBar":case "HorizontalBar":case "HorizontalStackedBar":shapesVar[shapesVar.length-1].position="absolute";shapesVar[shapesVar.length-1].x2=statData[special[i].posi][special[i].posj].xPosRight;shapesVar[shapesVar.length-1].y2=statData[special[i].posi][special[i].posj].yPosTop;shapesVar[shapesVar.length-1].x1=shapesVar[shapesVar.length-1].x2;shapesVar[shapesVar.length-1].y1=shapesVar[shapesVar.length-1].y2;if(ctx.tpchart=="Bar"||ctx.tpchart=="StackedBar"){shapesVar[shapesVar.length-1].x1=shapesVar[shapesVar.length-1].x1+30;if(data.datasets[special[i].posi].data[special[i].posj]>=0)shapesVar[shapesVar.length-1].y1=shapesVar[shapesVar.length-1].y1-30;else shapesVar[shapesVar.length-1].y1=shapesVar[shapesVar.length-1].y1+30;}else{shapesVar[shapesVar.length-1].y1=shapesVar[shapesVar.length-1].y1-30;if(data.datasets[special[i].posi].data[special[i].posj]>=0)shapesVar[shapesVar.length-1].x1=shapesVar[shapesVar.length-1].x1+30;else shapesVar[shapesVar.length-1].x1=shapesVar[shapesVar.length-1].x1-30;}break;case "Pie":case "Doughnut":shapesVar[shapesVar.length-1].posj=special[i].posj;if(typeof config.highLightSet.expandOutRadius=="number")decalRadius=config.highLightSet.expandOutRadius;else decalRadius=0;shapesVar[shapesVar.length-1].position="inchart";shapesVar[shapesVar.length-1].limitToChart=false;shapesVar[shapesVar.length-1].x1=special[i].posi;if(ctx.tpchart=="Pie")shapesVar[shapesVar.length-1].y1=1+data.labels.length*0.3+decalRadius;else shapesVar[shapesVar.length-1].y1=1+data.labels.length*(100*0.3)/(100-config.percentageInnerCutout);shapesVar[shapesVar.length-1].x2=special[i].posi;shapesVar[shapesVar.length-1].y2=1+decalRadius;break;case "PolarArea":shapesVar[shapesVar.length-1].posj=special[i].posj;shapesVar[shapesVar.length-1].position="inchart";shapesVar[shapesVar.length-1].limitToChart=false;shapesVar[shapesVar.length-1].x1=special[i].posi;shapesVar[shapesVar.length-1].y1=data.datasets[special[i].posi].data[special[i].posj]+0.3*(statData[0][0].outerVal-statData[0][0].calculatedScale.graphMin);shapesVar[shapesVar.length-1].x2=special[i].posi;shapesVar[shapesVar.length-1].y2=data.datasets[special[i].posi].data[special[i].posj];break;}shapesVar[shapesVar.length-1].strokeColor="black";shapesVar[shapesVar.length-1].fillColor="black";break;};if(totreat)for(property in config.highLightSet){if(property.substring(0,7)=="addIns_")eval("shapesVar[shapesVar.length-1]."+property.substring(7,50)+"=config.highLightSet[property];");if(typeof shapesVar[shapesVar.length-1].forcedShape!="undefined")shapesVar[shapesVar.length-1].shape=shapesVar[shapesVar.length-1].forcedShape;}}if(addHighLight){drawShapes("HIGHLIGHT",ctx,data,statData,0,0,{config});for(i=shapesVar.length-1;i>=0;i--)shapesVar.splice(i,1);}}};;
(function(){function r(a,b){var c;a||(a={});for(c in b)a[c]=b[c];return a;}function w(){var a,b=arguments,c,d={},e=function(a,b){var c,d;typeof a!=="object"&&(a={});for(d in b)b.hasOwnProperty(d)&&(c=b[d],a[d]=c&&typeof c==="object"&&Object.prototype.toString.call(c)!=="[object Array]"&&d!=="renderTo"&&typeof c.nodeType!=="number"?e(a[d]||{},c):b[d]);return a;};b[0]===!0&&(d=b[1],b=Array.prototype.slice.call(b,2));c=b.length;for(a=0;a<c;a++)d=e(d,b[a]);return d;}function y(a,b){return parseInt(a,b||10);}function Ga(a){return typeof a==="string";}function da(a){return a&&typeof a==="object";}function Ha(a){return Object.prototype.toString.call(a)==="[object Array]";}function ja(a){return typeof a==="number";}function za(a){return V.log(a)/V.LN10;}function ka(a){return V.pow(10,a);}function la(a,b){for(var c=a.length;c--;)if(a[c]===b){a.splice(c,1);break;}}function s(a){return a!==u&&a!==null;}function F(a,b,c){var d,e;if(Ga(b))s(c)?a.setAttribute(b,c):a&&a.getAttribute&&(e=a.getAttribute(b));else{if(s(b)&&da(b))for(d in b)a.setAttribute(d,b[d]);}return e;}function ra(a){return Ha(a)?a:[a];}function p(){var a=arguments,b,c,d=a.length;for(b=0;b<d;b++)if(c=a[b],c!==u&&c!==null)return c;}function B(a,b){if(Aa&&!ba&&b&&b.opacity!==u)b.filter="alpha(opacity="+b.opacity*100+")";r(a.style,b);}function $(a,b,c,d,e){a=x.createElement(a);b&&r(a,b);e&&B(a,{padding:0,border:P,margin:0});c&&B(a,c);d&&d.appendChild(a);return a;}function ma(a,b){var c=function(){return u;};c.prototype=new a();r(c.prototype,b);return c;}function Ba(a,b,c,d){var e=K.numberFormat,f=E.lang,g=+a||0,h=b===-1?(g.toString().split(".")[1]||"").length:isNaN(b=Q(b))?2:b,i=c===void 0?f.decimalPoint:c,f=d===void 0?f.thousandsSep:d,j=g<0?"-":"",k=String(y(g=Q(g).toFixed(h))),l=k.length>3?k.length%3:0;return e!==Ba?e(a,b,c,d):j+(l?k.substr(0,l)+f:"")+k.substr(l).replace(/(\d{3})(?=\d)/g,"$1"+f)+(h?i+Q(g-k).toFixed(h).slice(2):"");}function Ia(a,b){return Array((b||2)+1-String(a).length).join(0)+a;}function Na(a,b,c){var d=a[b];a[b]=function(){var a=Array.prototype.slice.call(arguments);a.unshift(d);return c.apply(this,a);};}function Ja(a,b){for(var c="{",d=!1,e,f,g,h,i,j=[];(c=a.indexOf(c))!==-1;){e=a.slice(0,c);if(d){f=e.split(":");g=f.shift().split(".");i=g.length;e=b;for(h=0;h<i;h++)e=e[g[h]];if(f.length)f=f.join(":"),g=/\.([0-9])/,h=E.lang,i=void 0,/f$/.test(f)?(i=(i=f.match(g))?i[1]:-1,e!==null&&(e=Ba(e,i,h.decimalPoint,f.indexOf(",")>-1?h.thousandsSep:""))):e=cb(f,e);}j.push(e);a=a.slice(c+1);c=(d=!d)?"}":"{";}j.push(a);return j.join("");}function mb(a){return V.pow(10,U(V.log(a)/V.LN10));}function nb(a,b,c,d){var e,c=p(c,1);e=a/c;b||(b=[1,2,2.5,5,10],d===!1&&(c===1?b=[1,2,5,10]:c<=0.1&&(b=[1/c])));for(d=0;d<b.length;d++)if(a=b[d],e<=(b[d]+(b[d+1]||b[d]))/2)break;a*=c;return a;}function ob(a,b){var c=a.length,d,e;for(e=0;e<c;e++)a[e].ss_i=e;a.sort(function(a,c){d=b(a,c);return d===0?a.ss_i-c.ss_i:d;});for(e=0;e<c;e++)delete a[e].ss_i;}function Oa(a){for(var b=a.length,c=a[0];b--;)a[b]<c&&(c=a[b]);return c;}function Ca(a){for(var b=a.length,c=a[0];b--;)a[b]>c&&(c=a[b]);return c;}function Pa(a,b){for(var c in a)a[c]&&a[c]!==b&&a[c].destroy&&a[c].destroy(),delete a[c];}function Qa(a){db||(db=$(Ka));a&&db.appendChild(a);db.innerHTML="";}function ea(a){return parseFloat(a.toPrecision(14));}function Ra(a,b){va=p(a,b.animation);}function Bb(){var a=E.global.useUTC,b=a?"getUTC":"get",c=a?"setUTC":"set";Da=E.global.Date||window.Date;Sa=(a&&E.global.timezoneOffset||0)*6E4;eb=a?Da.UTC:function(a,b,c,g,h,i){return (new Da(a,b,p(c,1),p(g,0),p(h,0),p(i,0))).getTime();};pb=b+"Minutes";qb=b+"Hours";rb=b+"Day";Xa=b+"Date";fb=b+"Month";gb=b+"FullYear";Cb=c+"Minutes";Db=c+"Hours";sb=c+"Date";Eb=c+"Month";Fb=c+"FullYear";}function S(){}function Ta(a,b,c,d){this.axis=a;this.pos=b;this.type=c||"";this.isNew=!0;!c&&!d&&this.addLabel();}function na(){this.init.apply(this,arguments);}function Ya(){this.init.apply(this,arguments);}function Gb(a,b,c,d,e){var f=a.chart.inverted;this.axis=a;this.isNegative=c;this.options=b;this.x=d;this.total=null;this.points={};this.stack=e;this.alignOptions={align:b.align||(f?c?"left":"right":"center"),verticalAlign:b.verticalAlign||(f?"middle":c?"bottom":"top"),y:p(b.y,f?4:c?14:-6),x:p(b.x,f?c?-6:6:0)};this.textAlign=b.textAlign||(f?c?"right":"left":"center");}var u,x=document,G=window,V=Math,v=V.round,U=V.floor,La=V.ceil,t=V.max,L=V.min,Q=V.abs,aa=V.cos,fa=V.sin,oa=V.PI,Ea=oa*2/360,wa=navigator.userAgent,Hb=G.opera,Aa=/msie/i.test(wa)&&!Hb,hb=x.documentMode===8,tb=/AppleWebKit/.test(wa),Ua=/Firefox/.test(wa),Ib=/(Mobile|Android|Windows Phone)/.test(wa),xa="http://www.w3.org/2000/svg",ba=!!x.createElementNS&&!!x.createElementNS(xa,"svg").createSVGRect,Ob=Ua&&parseInt(wa.split("Firefox/")[1],10)<4,ga=!ba&&!Aa&&!!x.createElement("canvas").getContext,Za,$a,Jb={},ub=0,db,E,cb,va,vb,A,ha,sa=function(){return u;},W=[],ab=0,Ka="div",P="none",Pb=/^[0-9]+$/,Qb="stroke-width",Da,eb,Sa,pb,qb,rb,Xa,fb,gb,Cb,Db,sb,Eb,Fb,H={},K;G.Highcharts?ha(16,!0):K=G.Highcharts={};cb=function(a,b,c){if(!s(b)||isNaN(b))return "Invalid date";var a=p(a,"%Y-%m-%d %H:%M:%S"),d=new Da(b-Sa),e,f=d[qb](),g=d[rb](),h=d[Xa](),i=d[fb](),j=d[gb](),k=E.lang,l=k.weekdays,d=r({a:l[g].substr(0,3),A:l[g],d:Ia(h),e:h,b:k.shortMonths[i],B:k.months[i],m:Ia(i+1),y:j.toString().substr(2,2),Y:j,H:Ia(f),I:Ia(f%12||12),l:f%12||12,M:Ia(d[pb]()),p:f<12?"AM":"PM",P:f<12?"am":"pm",S:Ia(d.getSeconds()),L:Ia(v(b%1E3),3)},K.dateFormats);for(e in d)for(;a.indexOf("%"+e)!==-1;)a=a.replace("%"+e,typeof d[e]==="function"?d[e](b):d[e]);return c?a.substr(0,1).toUpperCase()+a.substr(1):a;};ha=function(a,b){var c="Highcharts error #"+a+": www.highcharts.com/errors/"+a;if(b)throw c;G.console&&console.log(c);};A={millisecond:1,second:1E3,minute:6E4,hour:36E5,day:864E5,week:6048E5,month:26784E5,year:31556952E3};vb={init:function(a,b,c){var b=b||"",d=a.shift,e=b.indexOf("C")>-1,f=e?7:3,g,b=b.split(" "),c=[].concat(c),h,i,j=function(a){for(g=a.length;g--;)a[g]==="M"&&a.splice(g+1,0,a[g+1],a[g+2],a[g+1],a[g+2]);};e&&(j(b),j(c));a.isArea&&(h=b.splice(b.length-6,6),i=c.splice(c.length-6,6));if(d<=c.length/f&&b.length===c.length)for(;d--;)c=[].concat(c).splice(0,f).concat(c);a.shift=0;if(b.length)for(a=c.length;b.length<a;)d=[].concat(b).splice(b.length-f,f),e&&(d[f-6]=d[f-2],d[f-5]=d[f-1]),b=b.concat(d);h&&(b=b.concat(h),c=c.concat(i));return [b,c];},step:function(a,b,c,d){var e=[],f=a.length;if(c===1)e=d;else if(f===b.length&&c<1)for(;f--;)d=parseFloat(a[f]),e[f]=isNaN(d)?a[f]:c*parseFloat(b[f]-d)+d;else e=b;return e;}};(function(a){G.HighchartsAdapter=G.HighchartsAdapter||a&&{init:function(b){var c=a.fx;a.extend(a.easing,{easeOutQuad:function(a,b,c,g,h){return -g*(b/=h)*(b-2)+c;}});a.each(["cur","_default","width","height","opacity"],function(b,e){var f=c.step,g;e==="cur"?f=c.prototype:e==="_default"&&a.Tween&&(f=a.Tween.propHooks[e],e="set");(g=f[e])&&(f[e]=function(a){var c,a=b?a:this;if(a.prop!=="align")return c=a.elem,c.attr?c.attr(a.prop,e==="cur"?u:a.now):g.apply(this,arguments);});});Na(a.cssHooks.opacity,"get",function(a,b,c){return b.attr?b.opacity||0:a.call(this,b,c);});this.addAnimSetter("d",function(a){var c=a.elem,f;if(!a.started)f=b.init(c,c.d,c.toD),a.start=f[0],a.end=f[1],a.started=!0;c.attr("d",b.step(a.start,a.end,a.pos,c.toD));});this.each=Array.prototype.forEach?function(a,b){return Array.prototype.forEach.call(a,b);}:function(a,b){var c,g=a.length;for(c=0;c<g;c++)if(b.call(a[c],a[c],c,a)===!1)return c;};a.fn.highcharts=function(){var a="Chart",b=arguments,c,g;if(this[0]){Ga(b[0])&&(a=b[0],b=Array.prototype.slice.call(b,1));c=b[0];if(c!==u)c.chart=c.chart||{},c.chart.renderTo=this[0],new K[a](c,b[1]),g=this;c===u&&(g=W[F(this[0],"data-highcharts-chart")]);}return g;};},addAnimSetter:function(b,c){a.Tween?a.Tween.propHooks[b]={set:c}:a.fx.step[b]=c;},getScript:a.getScript,inArray:a.inArray,adapterRun:function(b,c){return a(b)[c]();},grep:a.grep,map:function(a,c){for(var d=[],e=0,f=a.length;e<f;e++)d[e]=c.call(a[e],a[e],e,a);return d;},offset:function(b){return a(b).offset();},addEvent:function(b,c,d){a(b).bind(c,d);},removeEvent:function(b,c,d){var e=x.removeEventListener?"removeEventListener":"detachEvent";x[e]&&b&&!b[e]&&(b[e]=function(){});a(b).unbind(c,d);},fireEvent:function(b,c,d,e){var f=a.Event(c),g="detached"+c,h;!Aa&&d&&(delete d.layerX,delete d.layerY,delete d.returnValue);r(f,d);b[c]&&(b[g]=b[c],b[c]=null);a.each(["preventDefault","stopPropagation"],function(a,b){var c=f[b];f[b]=function(){try{c.call(f);}catch(a){b==="preventDefault"&&(h=!0);}};});a(b).trigger(f);b[g]&&(b[c]=b[g],b[g]=null);e&&!f.isDefaultPrevented()&&!h&&e(f);},washMouseEvent:function(a){var c=a.originalEvent||a;if(c.pageX===u)c.pageX=a.pageX,c.pageY=a.pageY;return c;},animate:function(b,c,d){var e=a(b);if(!b.style)b.style={};if(c.d)b.toD=c.d,c.d=1;e.stop();c.opacity!==u&&b.attr&&(c.opacity+="px");b.hasAnim=1;e.animate(c,d);},stop:function(b){b.hasAnim&&a(b).stop();}};})(G.jQuery);var T=G.HighchartsAdapter,M=T||{};T&&T.init.call(T,vb);var ib=M.adapterRun,Rb=M.getScript,Ma=M.inArray,q=M.each,wb=M.grep,Sb=M.offset,Va=M.map,N=M.addEvent,X=M.removeEvent,I=M.fireEvent,Tb=M.washMouseEvent,jb=M.animate,bb=M.stop,M={enabled:!0,x:0,y:15,style:{color:"#606060",cursor:"default",fontSize:"11px"}};E={colors:"#7cb5ec,#434348,#90ed7d,#f7a35c,#8085e9,#f15c80,#e4d354,#8085e8,#8d4653,#91e8e1".split(","),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),shortMonths:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),decimalPoint:".",numericSymbols:"k,M,G,T,P,E".split(","),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:","},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/4.0.4/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/4.0.4/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",margin:15,style:{color:"#333333",fontSize:"18px"}},subtitle:{text:"",align:"center",style:{color:"#555555"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1E3},events:{},lineWidth:2,marker:{lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0,lineWidthPlus:1,radiusPlus:2},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:w(M,{align:"center",enabled:!1,formatter:function(){return this.y===null?"":Ba(this.y,-1);},verticalAlign:"bottom",y:0}),cropThreshold:300,pointRange:0,states:{hover:{lineWidthPlus:1,marker:{},halo:{size:10,opacity:0.25}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1E3}},labels:{style:{position:"absolute",color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name;},borderColor:"#909090",borderRadius:0,navigation:{activeColor:"#274b6d",inactiveColor:"#CCC"},shadow:!1,itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"white",opacity:0.5,textAlign:"center"}},tooltip:{enabled:!0,animation:ba,backgroundColor:"rgba(249, 249, 249, .85)",borderWidth:1,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{series.color}"></span> {series.name}: <b>{point.y}</b><br/>',shadow:!0,snap:Ib?25:10,style:{color:"#333333",cursor:"default",fontSize:"12px",padding:"8px",whiteSpace:"nowrap"}},credits:{enabled:!0,text:" ",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"9px"}}};var ca=E.plotOptions,T=ca.line;Bb();var Ub=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,Vb=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,Wb=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,ya=function(a){var b=[],c,d;(function(a){a&&a.stops?d=Va(a.stops,function(a){return ya(a[1]);}):(c=Ub.exec(a))?b=[y(c[1]),y(c[2]),y(c[3]),parseFloat(c[4],10)]:(c=Vb.exec(a))?b=[y(c[1],16),y(c[2],16),y(c[3],16),1]:(c=Wb.exec(a))&&(b=[y(c[1]),y(c[2]),y(c[3]),1]);})(a);return {get:function(c){var f;d?(f=w(a),f.stops=[].concat(f.stops),q(d,function(a,b){f.stops[b]=[f.stops[b][0],a.get(c)];})):f=b&&!isNaN(b[0])?c==="rgb"?"rgb("+b[0]+","+b[1]+","+b[2]+")":c==="a"?b[3]:"rgba("+b.join(",")+")":a;return f;},brighten:function(a){if(d)q(d,function(b){b.brighten(a);});else{if(ja(a)&&a!==0){var c;for(c=0;c<3;c++)b[c]+=y(a*255),b[c]<0&&(b[c]=0),b[c]>255&&(b[c]=255);}}return this;},rgba:b,setOpacity:function(a){b[3]=a;return this;}};};S.prototype={opacity:1,textProps:"fontSize,fontWeight,fontFamily,color,lineHeight,width,textDecoration,textShadow,HcTextStroke".split(","),init:function(a,b){this.element=b==="span"?$(b):x.createElementNS(xa,b);this.renderer=a;},animate:function(a,b,c){b=p(b,va,!0);bb(this);if(b){b=w(b,{});if(c)b.complete=c;jb(this,a,b);}else this.attr(a),c&&c();return this;},colorGradient:function(a,b,c){var d=this.renderer,e,f,g,h,i,j,k,l,n,m,o=[];a.linearGradient?f="linearGradient":a.radialGradient&&(f="radialGradient");if(f){g=a[f];h=d.gradients;j=a.stops;n=c.radialReference;Ha(g)&&(a[f]=g={x1:g[0],y1:g[1],x2:g[2],y2:g[3],gradientUnits:"userSpaceOnUse"});f==="radialGradient"&&n&&!s(g.gradientUnits)&&(g=w(g,{cx:n[0]-n[2]/2+g.cx*n[2],cy:n[1]-n[2]/2+g.cy*n[2],r:g.r*n[2],gradientUnits:"userSpaceOnUse"}));for(m in g)m!=="id"&&o.push(m,g[m]);for(m in j)o.push(j[m]);o=o.join(",");h[o]?a=h[o].attr("id"):(g.id=a="highcharts-"+ub++,h[o]=i=d.createElement(f).attr(g).add(d.defs),i.stops=[],q(j,function(a){a[1].indexOf("rgba")===0?(e=ya(a[1]),k=e.get("rgb"),l=e.get("a")):(k=a[1],l=1);a=d.createElement("stop").attr({offset:a[0],"stop-color":k,"stop-opacity":l}).add(i);i.stops.push(a);}));c.setAttribute(b,"url("+d.url+"#"+a+")");}},attr:function(a,b){var c,d,e=this.element,f,g=this,h;typeof a==="string"&&b!==u&&(c=a,a={},a[c]=b);if(typeof a==="string")g=(this[a+"Getter"]||this._defaultGetter).call(this,a,e);else{for(c in a){d=a[c];h=!1;this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(c)&&(f||(this.symbolAttr(a),f=!0),h=!0);if(this.rotation&&(c==="x"||c==="y"))this.doTransform=!0;h||(this[c+"Setter"]||this._defaultSetter).call(this,d,c,e);this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(c)&&this.updateShadows(c,d);}if(this.doTransform)this.updateTransform(),this.doTransform=!1;}return g;},updateShadows:function(a,b){for(var c=this.shadows,d=c.length;d--;)c[d].setAttribute(a,a==="height"?t(b-(c[d].cutHeight||0),0):a==="d"?this.d:b);},addClass:function(a){var b=this.element,c=F(b,"class")||"";c.indexOf(a)===-1&&F(b,"class",c+" "+a);return this;},symbolAttr:function(a){var b=this;q("x,y,r,start,end,width,height,innerR,anchorX,anchorY".split(","),function(c){b[c]=p(a[c],b[c]);});b.attr({d:b.renderer.symbols[b.symbolName](b.x,b.y,b.width,b.height,b)});},clip:function(a){return this.attr("clip-path",a?"url("+this.renderer.url+"#"+a.id+")":P);},crisp:function(a){var b,c={},d,e=a.strokeWidth||this.strokeWidth||0;d=v(e)%2/2;a.x=U(a.x||this.x||0)+d;a.y=U(a.y||this.y||0)+d;a.width=U((a.width||this.width||0)-2*d);a.height=U((a.height||this.height||0)-2*d);a.strokeWidth=e;for(b in a)this[b]!==a[b]&&(this[b]=c[b]=a[b]);return c;},css:function(a){var b=this.styles,c={},d=this.element,e,f,g="";e=!b;if(a&&a.color)a.fill=a.color;if(b)for(f in a)a[f]!==b[f]&&(c[f]=a[f],e=!0);if(e){e=this.textWidth=a&&a.width&&d.nodeName.toLowerCase()==="text"&&y(a.width);b&&(a=r(b,c));this.styles=a;e&&(ga||!ba&&this.renderer.forExport)&&delete a.width;if(Aa&&!ba)B(this.element,a);else{b=function(a,b){return "-"+b.toLowerCase();};for(f in a)g+=f.replace(/([A-Z])/g,b)+":"+a[f]+";";F(d,"style",g);}e&&this.added&&this.renderer.buildText(this);}return this;},on:function(a,b){var c=this,d=c.element;$a&&a==="click"?(d.ontouchstart=function(a){c.touchEventFired=Da.now();a.preventDefault();b.call(d,a);},d.onclick=function(a){(wa.indexOf("Android")===-1||Da.now()-(c.touchEventFired||0)>1100)&&b.call(d,a);}):d["on"+a]=b;return this;},setRadialReference:function(a){this.element.radialReference=a;return this;},translate:function(a,b){return this.attr({translateX:a,translateY:b});},invert:function(){this.inverted=!0;this.updateTransform();return this;},updateTransform:function(){var a=this.translateX||0,b=this.translateY||0,c=this.scaleX,d=this.scaleY,e=this.inverted,f=this.rotation,g=this.element;e&&(a+=this.attr("width"),b+=this.attr("height"));a=["translate("+a+","+b+")"];e?a.push("rotate(90) scale(-1,1)"):f&&a.push("rotate("+f+" "+(g.getAttribute("x")||0)+" "+(g.getAttribute("y")||0)+")");(s(c)||s(d))&&a.push("scale("+p(c,1)+" "+p(d,1)+")");a.length&&g.setAttribute("transform",a.join(" "));},toFront:function(){var a=this.element;a.parentNode.appendChild(a);return this;},align:function(a,b,c){var d,e,f,g,h={};e=this.renderer;f=e.alignedObjects;if(a){if(this.alignOptions=a,this.alignByTranslate=b,!c||Ga(c))this.alignTo=d=c||"renderer",la(f,this),f.push(this),c=null;}else a=this.alignOptions,b=this.alignByTranslate,d=this.alignTo;c=p(c,e[d],e);d=a.align;e=a.verticalAlign;f=(c.x||0)+(a.x||0);g=(c.y||0)+(a.y||0);if(d==="right"||d==="center")f+=(c.width-(a.width||0))/{right:1,center:2}[d];h[b?"translateX":"x"]=v(f);if(e==="bottom"||e==="middle")g+=(c.height-(a.height||0))/({bottom:1,middle:2}[e]||1);h[b?"translateY":"y"]=v(g);this[this.placed?"animate":"attr"](h);this.placed=!0;this.alignAttr=h;return this;},getBBox:function(){var a=this.bBox,b=this.renderer,c,d,e=this.rotation;c=this.element;var f=this.styles,g=e*Ea;d=this.textStr;var h;if(d===""||Pb.test(d))h="num."+d.toString().length+(f?"|"+f.fontSize+"|"+f.fontFamily:"");h&&(a=b.cache[h]);if(!a){if(c.namespaceURI===xa||b.forExport){try{a=c.getBBox?r({},c.getBBox()):{width:c.offsetWidth,height:c.offsetHeight};}catch(i){}if(!a||a.width<0)a={width:0,height:0};}else a=this.htmlGetBBox();if(b.isSVG){c=a.width;d=a.height;if(Aa&&f&&f.fontSize==="11px"&&d.toPrecision(3)==="16.9")a.height=d=14;if(e)a.width=Q(d*fa(g))+Q(c*aa(g)),a.height=Q(d*aa(g))+Q(c*fa(g));}this.bBox=a;h&&(b.cache[h]=a);}return a;},show:function(a){a&&this.element.namespaceURI===xa?this.element.removeAttribute("visibility"):this.attr({visibility:a?"inherit":"visible"});return this;},hide:function(){return this.attr({visibility:"hidden"});},fadeOut:function(a){var b=this;b.animate({opacity:0},{duration:a||150,complete:function(){b.attr({y:-9999});}});},add:function(a){var b=this.renderer,c=a||b,d=c.element||b.box,e=this.element,f=this.zIndex,g,h;if(a)this.parentGroup=a;this.parentInverted=a&&a.inverted;this.textStr!==void 0&&b.buildText(this);if(f)c.handleZ=!0,f=y(f);if(c.handleZ){a=d.childNodes;for(g=0;g<a.length;g++)if(b=a[g],c=F(b,"zIndex"),b!==e&&(y(c)>f||!s(f)&&s(c))){d.insertBefore(e,b);h=!0;break;}}h||d.appendChild(e);this.added=!0;if(this.onAdd)this.onAdd();return this;},safeRemoveChild:function(a){var b=a.parentNode;b&&b.removeChild(a);},destroy:function(){var a=this,b=a.element||{},c=a.shadows,d=a.renderer.isSVG&&b.nodeName==="SPAN"&&a.parentGroup,e,f;b.onclick=b.onmouseout=b.onmouseover=b.onmousemove=b.point=null;bb(a);if(a.clipPath)a.clipPath=a.clipPath.destroy();if(a.stops){for(f=0;f<a.stops.length;f++)a.stops[f]=a.stops[f].destroy();a.stops=null;}a.safeRemoveChild(b);for(c&&q(c,function(b){a.safeRemoveChild(b);});d&&d.div&&d.div.childNodes.length===0;)b=d.parentGroup,a.safeRemoveChild(d.div),delete d.div,d=b;a.alignTo&&la(a.renderer.alignedObjects,a);for(e in a)delete a[e];return null;},shadow:function(a,b,c){var d=[],e,f,g=this.element,h,i,j,k;if(a){i=p(a.width,3);j=(a.opacity||0.15)/i;k=this.parentInverted?"(-1,-1)":"("+p(a.offsetX,1)+", "+p(a.offsetY,1)+")";for(e=1;e<=i;e++){f=g.cloneNode(0);h=i*2+1-2*e;F(f,{isShadow:"true",stroke:a.color||"black","stroke-opacity":j*e,"stroke-width":h,transform:"translate"+k,fill:P});if(c)F(f,"height",t(F(f,"height")-h,0)),f.cutHeight=h;b?b.element.appendChild(f):g.parentNode.insertBefore(f,g);d.push(f);}this.shadows=d;}return this;},xGetter:function(a){this.element.nodeName==="circle"&&(a={x:"cx",y:"cy"}[a]||a);return this._defaultGetter(a);},_defaultGetter:function(a){a=p(this[a],this.element?this.element.getAttribute(a):null,0);/^[\-0-9\.]+$/.test(a)&&(a=parseFloat(a));return a;},dSetter:function(a,b,c){a&&a.join&&(a=a.join(" "));/(NaN| {2}|^$)/.test(a)&&(a="M 0 0");c.setAttribute(b,a);this[b]=a;},dashstyleSetter:function(a){var b;if(a=a&&a.toLowerCase()){a=a.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(b=a.length;b--;)a[b]=y(a[b])*this["stroke-width"];a=a.join(",").replace("NaN","none");this.element.setAttribute("stroke-dasharray",a);}},alignSetter:function(a){this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[a]);},opacitySetter:function(a,b,c){this[b]=a;c.setAttribute(b,a);},titleSetter:function(a){var b=this.element.getElementsByTagName("title")[0];b||(b=x.createElementNS(xa,"title"),this.element.appendChild(b));b.textContent=p(a,"").replace(/<[^>]*>/g,"");},textSetter:function(a){if(a!==this.textStr)delete this.bBox,this.textStr=a,this.added&&this.renderer.buildText(this);},fillSetter:function(a,b,c){typeof a==="string"?c.setAttribute(b,a):a&&this.colorGradient(a,b,c);},zIndexSetter:function(a,b,c){c.setAttribute(b,a);this[b]=a;},_defaultSetter:function(a,b,c){c.setAttribute(b,a);}};S.prototype.yGetter=S.prototype.xGetter;S.prototype.translateXSetter=S.prototype.translateYSetter=S.prototype.rotationSetter=S.prototype.verticalAlignSetter=S.prototype.scaleXSetter=S.prototype.scaleYSetter=function(a,b){this[b]=a;this.doTransform=!0;};S.prototype["stroke-widthSetter"]=S.prototype.strokeSetter=function(a,b,c){this[b]=a;if(this.stroke&&this["stroke-width"])this.strokeWidth=this["stroke-width"],S.prototype.fillSetter.call(this,this.stroke,"stroke",c),c.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0;else{if(b==="stroke-width"&&a===0&&this.hasStroke)c.removeAttribute("stroke"),this.hasStroke=!1;}};var ta=function(){this.init.apply(this,arguments);};ta.prototype={Element:S,init:function(a,b,c,d,e){var f=location,g,d=this.createElement("svg").attr({version:"1.1"}).css(this.getStyle(d));g=d.element;a.appendChild(g);a.innerHTML.indexOf("xmlns")===-1&&F(g,"xmlns",xa);this.isSVG=!0;this.box=g;this.boxWrapper=d;this.alignedObjects=[];this.url=(Ua||tb)&&x.getElementsByTagName("base").length?f.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"";this.createElement("desc").add().element.appendChild(x.createTextNode(" "));this.defs=this.createElement("defs").add();this.forExport=e;this.gradients={};this.cache={};this.setSize(b,c,!1);var h;if(Ua&&a.getBoundingClientRect)this.subPixelFix=b=function(){B(a,{left:0,top:0});h=a.getBoundingClientRect();B(a,{left:La(h.left)-h.left+"px",top:La(h.top)-h.top+"px"});},b(),N(G,"resize",b);},getStyle:function(a){return this.style=r({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},a);},isHidden:function(){return !this.boxWrapper.getBBox().width;},destroy:function(){var a=this.defs;this.box=null;this.boxWrapper=this.boxWrapper.destroy();Pa(this.gradients||{});this.gradients=null;if(a)this.defs=a.destroy();this.subPixelFix&&X(G,"resize",this.subPixelFix);return this.alignedObjects=null;},createElement:function(a){var b=new this.Element();b.init(this,a);return b;},draw:function(){},buildText:function(a){for(var b=a.element,c=this,d=c.forExport,e=p(a.textStr,"").toString(),f=e.indexOf("<")!==-1,g=b.childNodes,h,i,j=F(b,"x"),k=a.styles,l=a.textWidth,n=k&&k.lineHeight,m=k&&k.HcTextStroke,o=g.length,Y=function(a){return n?y(n):c.fontMetrics(/(px|em)$/.test(a&&a.style.fontSize)?a.style.fontSize:k&&k.fontSize||c.style.fontSize||12,a).h;};o--;)b.removeChild(g[o]);!f&&!m&&e.indexOf(" ")===-1?b.appendChild(x.createTextNode(e)):(h=/<.*style="([^"]+)".*>/,i=/<.*href="(http[^"]+)".*>/,l&&!a.added&&this.box.appendChild(b),e=f?e.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g):[e],e[e.length-1]===""&&e.pop(),q(e,function(e,f){var g,n=0,e=e.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||");g=e.split("|||");q(g,function(e){if(e!==""||g.length===1){var m={},o=x.createElementNS(xa,"tspan"),p;h.test(e)&&(p=e.match(h)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),F(o,"style",p));i.test(e)&&!d&&(F(o,"onclick",'location.href="'+e.match(i)[1]+'"'),B(o,{cursor:"pointer"}));e=(e.replace(/<(.|\n)*?>/g,"")||" ").replace(/&lt;/g,"<").replace(/&gt;/g,">");if(e!==" "){o.appendChild(x.createTextNode(e));if(n)m.dx=0;else{if(f&&j!==null)m.x=j;}F(o,m);b.appendChild(o);!n&&f&&(!ba&&d&&B(o,{display:"block"}),F(o,"dy",Y(o)));if(l)for(var e=e.replace(/([^\^])-/g,"$1- ").split(" "),m=g.length>1||e.length>1&&k.whiteSpace!=="nowrap",q,D,s=k.HcHeight,t=[],u=Y(o),Lb=1;m&&(e.length||t.length);)delete a.bBox,q=a.getBBox(),D=q.width,!ba&&c.forExport&&(D=c.measureSpanWidth(o.firstChild.data,a.styles)),q=D>l,!q||e.length===1?(e=t,t=[],e.length&&(Lb++,s&&Lb*u>s?(e=["..."],a.attr("title",a.textStr)):(o=x.createElementNS(xa,"tspan"),F(o,{dy:u,x:j}),p&&F(o,"style",p),b.appendChild(o))),D>l&&(l=D)):(o.removeChild(o.firstChild),t.unshift(e.pop())),e.length&&o.appendChild(x.createTextNode(e.join(" ").replace(/- /g,"-")));n++;}}});}));},button:function(a,b,c,d,e,f,g,h,i){var j=this.label(a,b,c,i,null,null,null,null,"button"),k=0,l,n,m,o,p,q,a={x1:0,y1:0,x2:0,y2:1},e=w({"stroke-width":1,stroke:"#CCCCCC",fill:{linearGradient:a,stops:[[0,"#FEFEFE"],[1,"#F6F6F6"]]},r:2,padding:5,style:{color:"black"}},e);m=e.style;delete e.style;f=w(e,{stroke:"#68A",fill:{linearGradient:a,stops:[[0,"#FFF"],[1,"#ACF"]]}},f);o=f.style;delete f.style;g=w(e,{stroke:"#68A",fill:{linearGradient:a,stops:[[0,"#9BD"],[1,"#CDF"]]}},g);p=g.style;delete g.style;h=w(e,{style:{color:"#CCC"}},h);q=h.style;delete h.style;N(j.element,Aa?"mouseover":"mouseenter",function(){k!==3&&j.attr(f).css(o);});N(j.element,Aa?"mouseout":"mouseleave",function(){k!==3&&(l=[e,f,g][k],n=[m,o,p][k],j.attr(l).css(n));});j.setState=function(a){(j.state=k=a)?a===2?j.attr(g).css(p):a===3&&j.attr(h).css(q):j.attr(e).css(m);};return j.on("click",function(){k!==3&&d.call(j);}).attr(e).css(r({cursor:"default"},m));},crispLine:function(a,b){a[1]===a[4]&&(a[1]=a[4]=v(a[1])-b%2/2);a[2]===a[5]&&(a[2]=a[5]=v(a[2])+b%2/2);return a;},path:function(a){var b={fill:P};Ha(a)?b.d=a:da(a)&&r(b,a);return this.createElement("path").attr(b);},circle:function(a,b,c){a=da(a)?a:{x:a,y:b,r:c};b=this.createElement("circle");b.xSetter=function(a){this.element.setAttribute("cx",a);};b.ySetter=function(a){this.element.setAttribute("cy",a);};return b.attr(a);},arc:function(a,b,c,d,e,f){if(da(a))b=a.y,c=a.r,d=a.innerR,e=a.start,f=a.end,a=a.x;a=this.symbol("arc",a||0,b||0,c||0,c||0,{innerR:d||0,start:e||0,end:f||0});a.r=c;return a;},rect:function(a,b,c,d,e,f){var e=da(a)?a.r:e,g=this.createElement("rect"),a=da(a)?a:a===u?{}:{x:a,y:b,width:t(c,0),height:t(d,0)};if(f!==u)a.strokeWidth=f,a=g.crisp(a);if(e)a.r=e;g.rSetter=function(a){F(this.element,{rx:a,ry:a});};return g.attr(a);},setSize:function(a,b,c){var d=this.alignedObjects,e=d.length;this.width=a;this.height=b;for(this.boxWrapper[p(c,!0)?"animate":"attr"]({width:a,height:b});e--;)d[e].align();},g:function(a){var b=this.createElement("g");return s(a)?b.attr({"class":"highcharts-"+a}):b;},image:function(a,b,c,d,e){var f={preserveAspectRatio:P};arguments.length>1&&r(f,{x:b,y:c,width:d,height:e});f=this.createElement("image").attr(f);f.element.setAttributeNS?f.element.setAttributeNS("http://www.w3.org/1999/xlink","href",a):f.element.setAttribute("hc-svg-href",a);return f;},symbol:function(a,b,c,d,e,f){var g,h=this.symbols[a],h=h&&h(v(b),v(c),d,e,f),i=/^url\((.*?)\)$/,j,k;if(h)g=this.path(h),r(g,{symbolName:a,x:b,y:c,width:d,height:e}),f&&r(g,f);else{if(i.test(a))k=function(a,b){a.element&&(a.attr({width:b[0],height:b[1]}),a.alignByTranslate||a.translate(v((d-b[0])/2),v((e-b[1])/2)));},j=a.match(i)[1],a=Jb[j]||f&&f.width&&f.height&&[f.width,f.height],g=this.image(j).attr({x:b,y:c}),g.isImg=!0,a?k(g,a):(g.attr({width:0,height:0}),$("img",{onload:function(){k(g,Jb[j]=[this.width,this.height]);},src:j}));}return g;},symbols:{circle:function(a,b,c,d){var e=0.166*c;return ["M",a+c/2,b,"C",a+c+e,b,a+c+e,b+d,a+c/2,b+d,"C",a-e,b+d,a-e,b,a+c/2,b,"Z"];},square:function(a,b,c,d){return ["M",a,b,"L",a+c,b,a+c,b+d,a,b+d,"Z"];},triangle:function(a,b,c,d){return ["M",a+c/2,b,"L",a+c,b+d,a,b+d,"Z"];},"triangle-down":function(a,b,c,d){return ["M",a,b,"L",a+c,b,a+c/2,b+d,"Z"];},diamond:function(a,b,c,d){return ["M",a+c/2,b,"L",a+c,b+d/2,a+c/2,b+d,a,b+d/2,"Z"];},arc:function(a,b,c,d,e){var f=e.start,c=e.r||c||d,g=e.end-0.001,d=e.innerR,h=e.open,i=aa(f),j=fa(f),k=aa(g),g=fa(g),e=e.end-f<oa?0:1;return ["M",a+c*i,b+c*j,"A",c,c,0,e,1,a+c*k,b+c*g,h?"M":"L",a+d*k,b+d*g,"A",d,d,0,e,0,a+d*i,b+d*j,h?"":"Z"];},callout:function(a,b,c,d,e){var f=L(e&&e.r||0,c,d),g=f+6,h=e&&e.anchorX,i=e&&e.anchorY,e=v(e.strokeWidth||0)%2/2;a+=e;b+=e;e=["M",a+f,b,"L",a+c-f,b,"C",a+c,b,a+c,b,a+c,b+f,"L",a+c,b+d-f,"C",a+c,b+d,a+c,b+d,a+c-f,b+d,"L",a+f,b+d,"C",a,b+d,a,b+d,a,b+d-f,"L",a,b+f,"C",a,b,a,b,a+f,b];h&&h>c&&i>b+g&&i<b+d-g?e.splice(13,3,"L",a+c,i-6,a+c+6,i,a+c,i+6,a+c,b+d-f):h&&h<0&&i>b+g&&i<b+d-g?e.splice(33,3,"L",a,i+6,a-6,i,a,i-6,a,b+f):i&&i>d&&h>a+g&&h<a+c-g?e.splice(23,3,"L",h+6,b+d,h,b+d+6,h-6,b+d,a+f,b+d):i&&i<0&&h>a+g&&h<a+c-g&&e.splice(3,3,"L",h-6,b,h,b-6,h+6,b,c-f,b);return e;}},clipRect:function(a,b,c,d){var e="highcharts-"+ub++,f=this.createElement("clipPath").attr({id:e}).add(this.defs),a=this.rect(a,b,c,d,0).add(f);a.id=e;a.clipPath=f;return a;},text:function(a,b,c,d){var e=ga||!ba&&this.forExport,f={};if(d&&!this.forExport)return this.html(a,b,c);f.x=Math.round(b||0);if(c)f.y=Math.round(c);if(a||a===0)f.text=a;a=this.createElement("text").attr(f);e&&a.css({position:"absolute"});if(!d)a.xSetter=function(a,b,c){var d=c.getElementsByTagName("tspan"),e,f=c.getAttribute(b),n;for(n=0;n<d.length;n++)e=d[n],e.getAttribute(b)===f&&e.setAttribute(b,a);c.setAttribute(b,a);};return a;},fontMetrics:function(a,b){a=a||this.style.fontSize;if(b&&G.getComputedStyle)b=b.element||b,a=G.getComputedStyle(b,"").fontSize;var a=/px/.test(a)?y(a):/em/.test(a)?parseFloat(a)*12:12,c=a<24?a+4:v(a*1.2),d=v(c*0.8);return {h:c,b:d,f:a};},label:function(a,b,c,d,e,f,g,h,i){function j(){var a,b;a=o.element.style;D=(t===void 0||xb===void 0||m.styles.textAlign)&&o.textStr&&o.getBBox();m.width=(t||D.width||0)+2*C+kb;m.height=(xb||D.height||0)+2*C;R=C+n.fontMetrics(a&&a.fontSize,o).b;if(y){if(!p)a=v(-J*C),b=h?-R:0,m.box=p=d?n.symbol(d,a,b,m.width,m.height,z):n.rect(a,b,m.width,m.height,0,z[Qb]),p.attr("fill",P).add(m);p.isImg||p.attr(r({width:v(m.width),height:v(m.height)},z));z=null;}}function k(){var a=m.styles,a=a&&a.textAlign,b=kb+C*(1-J),c;c=h?0:R;if(s(t)&&D&&(a==="center"||a==="right"))b+={center:0.5,right:1}[a]*(t-D.width);if(b!==o.x||c!==o.y)o.attr("x",b),c!==u&&o.attr("y",c);o.x=b;o.y=c;}function l(a,b){p?p.attr(a,b):z[a]=b;}var n=this,m=n.g(i),o=n.text("",0,0,g).attr({zIndex:1}),p,D,J=0,C=3,kb=0,t,xb,yb,x,Kb=0,z={},R,y;m.onAdd=function(){o.add(m);m.attr({text:a||a===0?a:"",x:b,y:c});p&&s(e)&&m.attr({anchorX:e,anchorY:f});};m.widthSetter=function(a){t=a;};m.heightSetter=function(a){xb=a;};m.paddingSetter=function(a){s(a)&&a!==C&&(C=a,k());};m.paddingLeftSetter=function(a){s(a)&&a!==kb&&(kb=a,k());};m.alignSetter=function(a){J={left:0,center:0.5,right:1}[a];};m.textSetter=function(a){a!==u&&o.textSetter(a);j();k();};m["stroke-widthSetter"]=function(a,b){a&&(y=!0);Kb=a%2/2;l(b,a);};m.strokeSetter=m.fillSetter=m.rSetter=function(a,b){b==="fill"&&a&&(y=!0);l(b,a);};m.anchorXSetter=function(a,b){e=a;l(b,a+Kb-yb);};m.anchorYSetter=function(a,b){f=a;l(b,a-x);};m.xSetter=function(a){m.x=a;J&&(a-=J*((t||D.width)+C));yb=v(a);m.attr("translateX",yb);};m.ySetter=function(a){x=m.y=v(a);m.attr("translateY",x);};var A=m.css;return r(m,{css:function(a){if(a){var b={},a=w(a);q(m.textProps,function(c){a[c]!==u&&(b[c]=a[c],delete a[c]);});o.css(b);}return A.call(m,a);},getBBox:function(){return {width:D.width+2*C,height:D.height+2*C,x:D.x-C,y:D.y-C};},shadow:function(a){p&&p.shadow(a);return m;},destroy:function(){X(m.element,"mouseenter");X(m.element,"mouseleave");o&&(o=o.destroy());p&&(p=p.destroy());S.prototype.destroy.call(m);m=n=j=k=l=null;}});}};Za=ta;r(S.prototype,{htmlCss:function(a){var b=this.element;if(b=a&&b.tagName==="SPAN"&&a.width)delete a.width,this.textWidth=b,this.updateTransform();this.styles=r(this.styles,a);B(this.element,a);return this;},htmlGetBBox:function(){var a=this.element,b=this.bBox;if(!b){if(a.nodeName==="text")a.style.position="absolute";b=this.bBox={x:a.offsetLeft,y:a.offsetTop,width:a.offsetWidth,height:a.offsetHeight};}return b;},htmlUpdateTransform:function(){if(this.added){var a=this.renderer,b=this.element,c=this.translateX||0,d=this.translateY||0,e=this.x||0,f=this.y||0,g=this.textAlign||"left",h={left:0,center:0.5,right:1}[g],i=this.shadows;B(b,{marginLeft:c,marginTop:d});i&&q(i,function(a){B(a,{marginLeft:c+1,marginTop:d+1});});this.inverted&&q(b.childNodes,function(c){a.invertChild(c,b);});if(b.tagName==="SPAN"){var j=this.rotation,k,l=y(this.textWidth),n=[j,g,b.innerHTML,this.textWidth].join(",");if(n!==this.cTT){k=a.fontMetrics(b.style.fontSize).b;s(j)&&this.setSpanRotation(j,h,k);i=p(this.elemWidth,b.offsetWidth);if(i>l&&/[ \-]/.test(b.textContent||b.innerText))B(b,{width:l+"px",display:"block",whiteSpace:"normal"}),i=l;this.getSpanCorrection(i,k,h,j,g);}B(b,{left:e+(this.xCorr||0)+"px",top:f+(this.yCorr||0)+"px"});if(tb)k=b.offsetHeight;this.cTT=n;}}else this.alignOnAdd=!0;},setSpanRotation:function(a,b,c){var d={},e=Aa?"-ms-transform":tb?"-webkit-transform":Ua?"MozTransform":Hb?"-o-transform":"";d[e]=d.transform="rotate("+a+"deg)";d[e+(Ua?"Origin":"-origin")]=d.transformOrigin=b*100+"% "+c+"px";B(this.element,d);},getSpanCorrection:function(a,b,c){this.xCorr=-a*c;this.yCorr=-b;}});r(ta.prototype,{html:function(a,b,c){var d=this.createElement("span"),e=d.element,f=d.renderer;d.textSetter=function(a){a!==e.innerHTML&&delete this.bBox;e.innerHTML=this.textStr=a;};d.xSetter=d.ySetter=d.alignSetter=d.rotationSetter=function(a,b){b==="align"&&(b="textAlign");d[b]=a;d.htmlUpdateTransform();};d.attr({text:a,x:v(b),y:v(c)}).css({position:"absolute",whiteSpace:"nowrap",fontFamily:this.style.fontFamily,fontSize:this.style.fontSize});d.css=d.htmlCss;if(f.isSVG)d.add=function(a){var b,c=f.box.parentNode,j=[];if(this.parentGroup=a){if(b=a.div,!b){for(;a;)j.push(a),a=a.parentGroup;q(j.reverse(),function(a){var d;b=a.div=a.div||$(Ka,{className:F(a.element,"class")},{position:"absolute",left:(a.translateX||0)+"px",top:(a.translateY||0)+"px"},b||c);d=b.style;r(a,{translateXSetter:function(b,c){d.left=b+"px";a[c]=b;a.doTransform=!0;},translateYSetter:function(b,c){d.top=b+"px";a[c]=b;a.doTransform=!0;},visibilitySetter:function(a,b){d[b]=a;}});});}}else b=c;b.appendChild(e);d.added=!0;d.alignOnAdd&&d.htmlUpdateTransform();return d;};return d;}});var Z;if(!ba&&!ga){Z={init:function(a,b){var c=["<",b,' filled="f" stroked="f"'],d=["position: ","absolute",";"],e=b===Ka;(b==="shape"||e)&&d.push("left:0;top:0;width:1px;height:1px;");d.push("visibility: ",e?"hidden":"visible");c.push(' style="',d.join(""),'"/>');if(b)c=e||b==="span"||b==="img"?c.join(""):a.prepVML(c),this.element=$(c);this.renderer=a;},add:function(a){var b=this.renderer,c=this.element,d=b.box,d=a?a.element||a:d;a&&a.inverted&&b.invertChild(c,d);d.appendChild(c);this.added=!0;this.alignOnAdd&&!this.deferUpdateTransform&&this.updateTransform();if(this.onAdd)this.onAdd();return this;},updateTransform:S.prototype.htmlUpdateTransform,setSpanRotation:function(){var a=this.rotation,b=aa(a*Ea),c=fa(a*Ea);B(this.element,{filter:a?["progid:DXImageTransform.Microsoft.Matrix(M11=",b,", M12=",-c,", M21=",c,", M22=",b,", sizingMethod='auto expand')"].join(""):P});},getSpanCorrection:function(a,b,c,d,e){var f=d?aa(d*Ea):1,g=d?fa(d*Ea):0,h=p(this.elemHeight,this.element.offsetHeight),i;this.xCorr=f<0&&-a;this.yCorr=g<0&&-h;i=f*g<0;this.xCorr+=g*b*(i?1-c:c);this.yCorr-=f*b*(d?i?c:1-c:1);e&&e!=="left"&&(this.xCorr-=a*c*(f<0?-1:1),d&&(this.yCorr-=h*c*(g<0?-1:1)),B(this.element,{textAlign:e}));},pathToVML:function(a){for(var b=a.length,c=[];b--;)if(ja(a[b]))c[b]=v(a[b]*10)-5;else if(a[b]==="Z")c[b]="x";else{if(c[b]=a[b],a.isArc&&(a[b]==="wa"||a[b]==="at"))c[b+5]===c[b+7]&&(c[b+7]+=a[b+7]>a[b+5]?1:-1),c[b+6]===c[b+8]&&(c[b+8]+=a[b+8]>a[b+6]?1:-1);}return c.join(" ")||"x";},clip:function(a){var b=this,c;a?(c=a.members,la(c,b),c.push(b),b.destroyClip=function(){la(c,b);},a=a.getCSS(b)):(b.destroyClip&&b.destroyClip(),a={clip:hb?"inherit":"rect(auto)"});return b.css(a);},css:S.prototype.htmlCss,safeRemoveChild:function(a){a.parentNode&&Qa(a);},destroy:function(){this.destroyClip&&this.destroyClip();return S.prototype.destroy.apply(this);},on:function(a,b){this.element["on"+a]=function(){var a=G.event;a.target=a.srcElement;b(a);};return this;},cutOffPath:function(a,b){var c,a=a.split(/[ ,]/);c=a.length;if(c===9||c===11)a[c-4]=a[c-2]=y(a[c-2])-10*b;return a.join(" ");},shadow:function(a,b,c){var d=[],e,f=this.element,g=this.renderer,h,i=f.style,j,k=f.path,l,n,m,o;k&&typeof k.value!=="string"&&(k="x");n=k;if(a){m=p(a.width,3);o=(a.opacity||0.15)/m;for(e=1;e<=3;e++){l=m*2+1-2*e;c&&(n=this.cutOffPath(k.value,l+0.5));j=['<shape isShadow="true" strokeweight="',l,'" filled="false" path="',n,'" coordsize="10 10" style="',f.style.cssText,'" />'];h=$(g.prepVML(j),null,{left:y(i.left)+p(a.offsetX,1),top:y(i.top)+p(a.offsetY,1)});if(c)h.cutOff=l+1;j=['<stroke color="',a.color||"black",'" opacity="',o*e,'"/>'];$(g.prepVML(j),null,null,h);b?b.element.appendChild(h):f.parentNode.insertBefore(h,f);d.push(h);}this.shadows=d;}return this;},updateShadows:sa,setAttr:function(a,b){hb?this.element[a]=b:this.element.setAttribute(a,b);},classSetter:function(a){this.element.className=a;},dashstyleSetter:function(a,b,c){(c.getElementsByTagName("stroke")[0]||$(this.renderer.prepVML(["<stroke/>"]),null,null,c))[b]=a||"solid";this[b]=a;},dSetter:function(a,b,c){var d=this.shadows,a=a||[];this.d=a.join&&a.join(" ");c.path=a=this.pathToVML(a);if(d)for(c=d.length;c--;)d[c].path=d[c].cutOff?this.cutOffPath(a,d[c].cutOff):a;this.setAttr(b,a);},fillSetter:function(a,b,c){var d=c.nodeName;if(d==="SPAN")c.style.color=a;else{if(d!=="IMG")c.filled=a!==P,this.setAttr("fillcolor",this.renderer.color(a,c,b,this));}},opacitySetter:sa,rotationSetter:function(a,b,c){c=c.style;this[b]=c[b]=a;c.left=-v(fa(a*Ea)+1)+"px";c.top=v(aa(a*Ea))+"px";},strokeSetter:function(a,b,c){this.setAttr("strokecolor",this.renderer.color(a,c,b));},"stroke-widthSetter":function(a,b,c){c.stroked=!!a;this[b]=a;ja(a)&&(a+="px");this.setAttr("strokeweight",a);},titleSetter:function(a,b){this.setAttr(b,a);},visibilitySetter:function(a,b,c){a==="inherit"&&(a="visible");this.shadows&&q(this.shadows,function(c){c.style[b]=a;});c.nodeName==="DIV"&&(a=a==="hidden"?"-999em":0,hb||(c.style[b]=a?"visible":"hidden"),b="top");c.style[b]=a;},xSetter:function(a,b,c){this[b]=a;b==="x"?b="left":b==="y"&&(b="top");this.updateClipping?(this[b]=a,this.updateClipping()):c.style[b]=a;},zIndexSetter:function(a,b,c){c.style[b]=a;}};K.VMLElement=Z=ma(S,Z);Z.prototype.ySetter=Z.prototype.widthSetter=Z.prototype.heightSetter=Z.prototype.xSetter;var ia={Element:Z,isIE8:wa.indexOf("MSIE 8.0")>-1,init:function(a,b,c,d){var e;this.alignedObjects=[];d=this.createElement(Ka).css(r(this.getStyle(d),{position:"relative"}));e=d.element;a.appendChild(d.element);this.isVML=!0;this.box=e;this.boxWrapper=d;this.cache={};this.setSize(b,c,!1);if(!x.namespaces.hcv){x.namespaces.add("hcv","urn:schemas-microsoft-com:vml");try{x.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } ";}catch(f){x.styleSheets[0].cssText+="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } ";}}},isHidden:function(){return !this.box.offsetWidth;},clipRect:function(a,b,c,d){var e=this.createElement(),f=da(a);return r(e,{members:[],left:(f?a.x:a)+1,top:(f?a.y:b)+1,width:(f?a.width:c)-1,height:(f?a.height:d)-1,getCSS:function(a){var b=a.element,c=b.nodeName,a=a.inverted,d=this.top-(c==="shape"?b.offsetTop:0),e=this.left,b=e+this.width,f=d+this.height,d={clip:"rect("+v(a?e:d)+"px,"+v(a?f:b)+"px,"+v(a?b:f)+"px,"+v(a?d:e)+"px)"};!a&&hb&&c==="DIV"&&r(d,{width:b+"px",height:f+"px"});return d;},updateClipping:function(){q(e.members,function(a){a.element&&a.css(e.getCSS(a));});}});},color:function(a,b,c,d){var e=this,f,g=/^rgba/,h,i,j=P;a&&a.linearGradient?i="gradient":a&&a.radialGradient&&(i="pattern");if(i){var k,l,n=a.linearGradient||a.radialGradient,m,o,p,D,J,C="",a=a.stops,t,s=[],u=function(){h=['<fill colors="'+s.join(",")+'" opacity="',p,'" o:opacity2="',o,'" type="',i,'" ',C,'focus="100%" method="any" />'];$(e.prepVML(h),null,null,b);};m=a[0];t=a[a.length-1];m[0]>0&&a.unshift([0,m[1]]);t[0]<1&&a.push([1,t[1]]);q(a,function(a,b){g.test(a[1])?(f=ya(a[1]),k=f.get("rgb"),l=f.get("a")):(k=a[1],l=1);s.push(a[0]*100+"% "+k);b?(p=l,D=k):(o=l,J=k);});if(c==="fill")if(i==="gradient")c=n.x1||n[0]||0,a=n.y1||n[1]||0,m=n.x2||n[2]||0,n=n.y2||n[3]||0,C='angle="'+(90-V.atan((n-a)/(m-c))*180/oa)+'"',u();else{var j=n.r,r=j*2,v=j*2,x=n.cx,z=n.cy,R=b.radialReference,w,j=function(){R&&(w=d.getBBox(),x+=(R[0]-w.x)/w.width-0.5,z+=(R[1]-w.y)/w.height-0.5,r*=R[2]/w.width,v*=R[2]/w.height);C='src="'+E.global.VMLRadialGradientURL+'" size="'+r+","+v+'" origin="0.5,0.5" position="'+x+","+z+'" color2="'+J+'" ';u();};d.added?j():d.onAdd=j;j=D;}else j=k;}else if(g.test(a)&&b.tagName!=="IMG")f=ya(a),h=["<",c,' opacity="',f.get("a"),'"/>'],$(this.prepVML(h),null,null,b),j=f.get("rgb");else{j=b.getElementsByTagName(c);if(j.length)j[0].opacity=1,j[0].type="solid";j=a;}return j;},prepVML:function(a){var b=this.isIE8,a=a.join("");b?(a=a.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),a=a.indexOf('style="')===-1?a.replace("/>",' style="display:inline-block;behavior:url(#default#VML);" />'):a.replace('style="','style="display:inline-block;behavior:url(#default#VML);')):a=a.replace("<","<hcv:");return a;},text:ta.prototype.html,path:function(a){var b={coordsize:"10 10"};Ha(a)?b.d=a:da(a)&&r(b,a);return this.createElement("shape").attr(b);},circle:function(a,b,c){var d=this.symbol("circle");if(da(a))c=a.r,b=a.y,a=a.x;d.isCircle=!0;d.r=c;return d.attr({x:a,y:b});},g:function(a){var b;a&&(b={className:"highcharts-"+a,"class":"highcharts-"+a});return this.createElement(Ka).attr(b);},image:function(a,b,c,d,e){var f=this.createElement("img").attr({src:a});arguments.length>1&&f.attr({x:b,y:c,width:d,height:e});return f;},createElement:function(a){return a==="rect"?this.symbol(a):ta.prototype.createElement.call(this,a);},invertChild:function(a,b){var c=this,d=b.style,e=a.tagName==="IMG"&&a.style;B(a,{flip:"x",left:y(d.width)-(e?y(e.top):1),top:y(d.height)-(e?y(e.left):1),rotation:-90});q(a.childNodes,function(b){c.invertChild(b,a);});},symbols:{arc:function(a,b,c,d,e){var f=e.start,g=e.end,h=e.r||c||d,c=e.innerR,d=aa(f),i=fa(f),j=aa(g),k=fa(g);if(g-f===0)return ["x"];f=["wa",a-h,b-h,a+h,b+h,a+h*d,b+h*i,a+h*j,b+h*k];e.open&&!c&&f.push("e","M",a,b);f.push("at",a-c,b-c,a+c,b+c,a+c*j,b+c*k,a+c*d,b+c*i,"x","e");f.isArc=!0;return f;},circle:function(a,b,c,d,e){e&&(c=d=2*e.r);e&&e.isCircle&&(a-=c/2,b-=d/2);return ["wa",a,b,a+c,b+d,a+c,b+d/2,a+c,b+d/2,"e"];},rect:function(a,b,c,d,e){return ta.prototype.symbols[!s(e)||!e.r?"square":"callout"].call(0,a,b,c,d,e);}}};K.VMLRenderer=Z=function(){this.init.apply(this,arguments);};Z.prototype=w(ta.prototype,ia);Za=Z;}ta.prototype.measureSpanWidth=function(a,b){var c=x.createElement("span"),d;d=x.createTextNode(a);c.appendChild(d);B(c,b);this.box.appendChild(c);d=c.offsetWidth;Qa(c);return d;};var Mb;if(ga)K.CanVGRenderer=Z=function(){xa="http://www.w3.org/1999/xhtml";},Z.prototype.symbols={},Mb=function(){function a(){var a=b.length,d;for(d=0;d<a;d++)b[d]();b=[];}var b=[];return {push:function(c,d){b.length===0&&Rb(d,a);b.push(c);}};}(),Za=Z;Ta.prototype={addLabel:function(){var a=this.axis,b=a.options,c=a.chart,d=a.horiz,e=a.categories,f=a.names,g=this.pos,h=b.labels,i=h.rotation,j=a.tickPositions,d=d&&e&&!h.step&&!h.staggerLines&&!h.rotation&&c.plotWidth/j.length||!d&&(c.margin[3]||c.chartWidth*0.33),k=g===j[0],l=g===j[j.length-1],n,f=e?p(e[g],f[g],g):g,e=this.label,m=j.info;a.isDatetimeAxis&&m&&(n=b.dateTimeLabelFormats[m.higherRanks[g]||m.unitName]);this.isFirst=k;this.isLast=l;b=a.labelFormatter.call({axis:a,chart:c,isFirst:k,isLast:l,dateTimeLabelFormat:n,value:a.isLog?ea(ka(f)):f});g=d&&{width:t(1,v(d-2*(h.padding||10)))+"px"};if(s(e))e&&e.attr({text:b}).css(g);else{n={align:a.labelAlign};if(ja(i))n.rotation=i;if(d&&h.ellipsis)g.HcHeight=a.len/j.length;this.label=e=s(b)&&h.enabled?c.renderer.text(b,0,0,h.useHTML).attr(n).css(r(g,h.style)).add(a.labelGroup):null;a.tickBaseline=c.renderer.fontMetrics(h.style.fontSize,e).b;i&&a.side===2&&(a.tickBaseline*=aa(i*Ea));}this.yOffset=e?p(h.y,a.tickBaseline+(a.side===2?8:-(e.getBBox().height/2))):0;},getLabelSize:function(){var a=this.label,b=this.axis;return a?a.getBBox()[b.horiz?"height":"width"]:0;},getLabelSides:function(){var a=this.label.getBBox(),b=this.axis,c=b.horiz,d=b.options.labels,a=c?a.width:a.height,b=c?d.x-a*{left:0,center:0.5,right:1}[b.labelAlign]:0;return [b,c?a+b:a];},handleOverflow:function(a,b){var c=!0,d=this.axis,e=this.isFirst,f=this.isLast,g=d.horiz?b.x:b.y,h=d.reversed,i=d.tickPositions,j=this.getLabelSides(),k=j[0],j=j[1],l,n,m,o=this.label.line;l=o||0;n=d.labelEdge;m=d.justifyLabels&&(e||f);n[l]===u||g+k>n[l]?n[l]=g+j:m||(c=!1);if(m){l=(n=d.justifyToPlot)?d.pos:0;n=n?l+d.len:d.chart.chartWidth;do a+=e?1:-1,m=d.ticks[i[a]];while(i[a]&&(!m||!m.label||m.label.line!==o));d=m&&m.label.xy&&m.label.xy.x+m.getLabelSides()[e?0:1];e&&!h||f&&h?g+k<l&&(g=l-k,m&&g+j>d&&(c=!1)):g+j>n&&(g=n-j,m&&g+k<d&&(c=!1));b.x=g;}return c;},getPosition:function(a,b,c,d){var e=this.axis,f=e.chart,g=d&&f.oldChartHeight||f.chartHeight;return {x:a?e.translate(b+c,null,null,d)+e.transB:e.left+e.offset+(e.opposite?(d&&f.oldChartWidth||f.chartWidth)-e.right-e.left:0),y:a?g-e.bottom+e.offset-(e.opposite?e.height:0):g-e.translate(b+c,null,null,d)-e.transB};},getLabelPosition:function(a,b,c,d,e,f,g,h){var i=this.axis,j=i.transA,k=i.reversed,l=i.staggerLines,a=a+e.x-(f&&d?f*j*(k?-1:1):0),b=b+this.yOffset-(f&&!d?f*j*(k?1:-1):0);if(l)c.line=g/(h||1)%l,b+=c.line*(i.labelOffset/l);return {x:a,y:b};},getMarkPath:function(a,b,c,d,e,f){return f.crispLine(["M",a,b,"L",a+(e?0:-c),b+(e?c:0)],d);},render:function(a,b,c){var d=this.axis,e=d.options,f=d.chart.renderer,g=d.horiz,h=this.type,i=this.label,j=this.pos,k=e.labels,l=this.gridLine,n=h?h+"Grid":"grid",m=h?h+"Tick":"tick",o=e[n+"LineWidth"],q=e[n+"LineColor"],D=e[n+"LineDashStyle"],J=e[m+"Length"],n=e[m+"Width"]||0,C=e[m+"Color"],t=e[m+"Position"],m=this.mark,s=k.step,r=!0,v=d.tickmarkOffset,w=this.getPosition(g,j,v,b),x=w.x,w=w.y,z=g&&x===d.pos+d.len||!g&&w===d.pos?-1:1,c=p(c,1);this.isActive=!0;if(o){j=d.getPlotLinePath(j+v,o*z,b,!0);if(l===u){l={stroke:q,"stroke-width":o};if(D)l.dashstyle=D;if(!h)l.zIndex=1;if(b)l.opacity=0;this.gridLine=l=o?f.path(j).attr(l).add(d.gridGroup):null;}if(!b&&l&&j)l[this.isNew?"attr":"animate"]({d:j,opacity:c});}if(n&&J)t==="inside"&&(J=-J),d.opposite&&(J=-J),h=this.getMarkPath(x,w,J,n*z,g,f),m?m.animate({d:h,opacity:c}):this.mark=f.path(h).attr({stroke:C,"stroke-width":n,opacity:c}).add(d.axisGroup);if(i&&!isNaN(x))i.xy=w=this.getLabelPosition(x,w,i,g,k,v,a,s),this.isFirst&&!this.isLast&&!p(e.showFirstLabel,1)||this.isLast&&!this.isFirst&&!p(e.showLastLabel,1)?r=!1:!d.isRadial&&!k.step&&!k.rotation&&!b&&c!==0&&(r=this.handleOverflow(a,w)),s&&a%s&&(r=!1),r&&!isNaN(w.y)?(w.opacity=c,i[this.isNew?"attr":"animate"](w),this.isNew=!1):i.attr("y",-9999);},destroy:function(){Pa(this,this.axis);}};K.PlotLineOrBand=function(a,b){this.axis=a;if(b)this.options=b,this.id=b.id;};K.PlotLineOrBand.prototype={render:function(){var a=this,b=a.axis,c=b.horiz,d=(b.pointRange||0)/2,e=a.options,f=e.label,g=a.label,h=e.width,i=e.to,j=e.from,k=s(j)&&s(i),l=e.value,n=e.dashStyle,m=a.svgElem,o=[],p,q=e.color,J=e.zIndex,C=e.events,r={},u=b.chart.renderer;b.isLog&&(j=za(j),i=za(i),l=za(l));if(h){if(o=b.getPlotLinePath(l,h),r={stroke:q,"stroke-width":h},n)r.dashstyle=n;}else if(k){j=t(j,b.min-d);i=L(i,b.max+d);o=b.getPlotBandPath(j,i,e);if(q)r.fill=q;if(e.borderWidth)r.stroke=e.borderColor,r["stroke-width"]=e.borderWidth;}else return;if(s(J))r.zIndex=J;if(m)if(o)m.animate({d:o},null,m.onGetPath);else{if(m.hide(),m.onGetPath=function(){m.show();},g)a.label=g=g.destroy();}else{if(o&&o.length&&(a.svgElem=m=u.path(o).attr(r).add(),C))for(p in d=function(b){m.on(b,function(c){C[b].apply(a,[c]);});},C)d(p);}if(f&&s(f.text)&&o&&o.length&&b.width>0&&b.height>0){f=w({align:c&&k&&"center",x:c?!k&&4:10,verticalAlign:!c&&k&&"middle",y:c?k?16:10:k?6:-4,rotation:c&&!k&&90},f);if(!g){r={align:f.textAlign||f.align,rotation:f.rotation};if(s(J))r.zIndex=J;a.label=g=u.text(f.text,0,0,f.useHTML).attr(r).css(f.style).add();}b=[o[1],o[4],k?o[6]:o[1]];k=[o[2],o[5],k?o[7]:o[2]];o=Oa(b);c=Oa(k);g.align(f,!1,{x:o,y:c,width:Ca(b)-o,height:Ca(k)-c});g.show();}else g&&g.hide();return a;},destroy:function(){la(this.axis.plotLinesAndBands,this);delete this.axis;Pa(this);}};na.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#C0C0C0",labels:M,lineColor:"#C0D0E0",lineWidth:1,minPadding:0.01,maxPadding:0.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:10,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",tickWidth:1,title:{align:"middle",style:{color:"#707070"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8,y:3},lineWidth:0,maxPadding:0.05,minPadding:0.05,startOnTick:!0,tickWidth:0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return Ba(this.total,-1);},style:M.style}},defaultLeftAxisOptions:{labels:{x:-15,y:null},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{x:0,y:null},title:{rotation:0}},defaultTopAxisOptions:{labels:{x:0,y:-15},title:{rotation:0}},init:function(a,b){var c=b.isX;this.horiz=a.inverted?!c:c;this.coll=(this.isXAxis=c)?"xAxis":"yAxis";this.opposite=b.opposite;this.side=b.side||(this.horiz?this.opposite?0:2:this.opposite?1:3);this.setOptions(b);var d=this.options,e=d.type;this.labelFormatter=d.labels.formatter||this.defaultLabelFormatter;this.userOptions=b;this.minPixelPadding=0;this.chart=a;this.reversed=d.reversed;this.zoomEnabled=d.zoomEnabled!==!1;this.categories=d.categories||e==="category";this.names=[];this.isLog=e==="logarithmic";this.isDatetimeAxis=e==="datetime";this.isLinked=s(d.linkedTo);this.tickmarkOffset=this.categories&&d.tickmarkPlacement==="between"&&p(d.tickInterval,1)===1?0.5:0;this.ticks={};this.labelEdge=[];this.minorTicks={};this.plotLinesAndBands=[];this.alternateBands={};this.len=0;this.minRange=this.userMinRange=d.minRange||d.maxZoom;this.range=d.range;this.offset=d.offset||0;this.stacks={};this.oldStacks={};this.min=this.max=null;this.crosshair=p(d.crosshair,ra(a.options.tooltip.crosshairs)[c?0:1],!1);var f,d=this.options.events;Ma(this,a.axes)===-1&&(c&&!this.isColorAxis?a.axes.splice(a.xAxis.length,0,this):a.axes.push(this),a[this.coll].push(this));this.series=this.series||[];if(a.inverted&&c&&this.reversed===u)this.reversed=!0;this.removePlotLine=this.removePlotBand=this.removePlotBandOrLine;for(f in d)N(this,f,d[f]);if(this.isLog)this.val2lin=za,this.lin2val=ka;},setOptions:function(a){this.options=w(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],w(E[this.coll],a));},defaultLabelFormatter:function(){var a=this.axis,b=this.value,c=a.categories,d=this.dateTimeLabelFormat,e=E.lang.numericSymbols,f=e&&e.length,g,h=a.options.labels.format,a=a.isLog?b:a.tickInterval;if(h)g=Ja(h,this);else if(c)g=b;else if(d)g=cb(d,b);else{if(f&&a>=1E3)for(;f--&&g===u;)c=Math.pow(1E3,f+1),a>=c&&e[f]!==null&&(g=Ba(b/c,-1)+e[f]);}g===u&&(g=Q(b)>=1E4?Ba(b,0):Ba(b,-1,u,""));return g;},getSeriesExtremes:function(){var a=this,b=a.chart;a.hasVisibleSeries=!1;a.dataMin=a.dataMax=a.ignoreMinPadding=a.ignoreMaxPadding=null;a.buildStacks&&a.buildStacks();q(a.series,function(c){if(c.visible||!b.options.chart.ignoreHiddenSeries){var d;d=c.options.threshold;var e;a.hasVisibleSeries=!0;a.isLog&&d<=0&&(d=null);if(a.isXAxis){if(d=c.xData,d.length)a.dataMin=L(p(a.dataMin,d[0]),Oa(d)),a.dataMax=t(p(a.dataMax,d[0]),Ca(d));}else{c.getExtremes();e=c.dataMax;c=c.dataMin;if(s(c)&&s(e))a.dataMin=L(p(a.dataMin,c),c),a.dataMax=t(p(a.dataMax,e),e);if(s(d))if(a.dataMin>=d)a.dataMin=d,a.ignoreMinPadding=!0;else{if(a.dataMax<d)a.dataMax=d,a.ignoreMaxPadding=!0;}}}});},translate:function(a,b,c,d,e,f){var g=1,h=0,i=d?this.oldTransA:this.transA,d=d?this.oldMin:this.min,j=this.minPixelPadding,e=(this.options.ordinal||this.isLog&&e)&&this.lin2val;if(!i)i=this.transA;if(c)g*=-1,h=this.len;this.reversed&&(g*=-1,h-=g*(this.sector||this.len));b?(a=a*g+h,a-=j,a=a/i+d,e&&(a=this.lin2val(a))):(e&&(a=this.val2lin(a)),f==="between"&&(f=0.5),a=g*(a-d)*i+h+g*j+(ja(f)?i*f*this.pointRange:0));return a;},toPixels:function(a,b){return this.translate(a,!1,!this.horiz,null,!0)+(b?0:this.pos);},toValue:function(a,b){return this.translate(a-(b?0:this.pos),!0,!this.horiz,null,!0);},getPlotLinePath:function(a,b,c,d,e){var f=this.chart,g=this.left,h=this.top,i,j,k=c&&f.oldChartHeight||f.chartHeight,l=c&&f.oldChartWidth||f.chartWidth,n;i=this.transB;e=p(e,this.translate(a,null,null,c));a=c=v(e+i);i=j=v(k-e-i);if(isNaN(e))n=!0;else if(this.horiz){if(i=h,j=k-this.bottom,a<g||a>g+this.width)n=!0;}else{if(a=g,c=l-this.right,i<h||i>h+this.height)n=!0;}return n&&!d?null:f.renderer.crispLine(["M",a,i,"L",c,j],b||1);},getLinearTickPositions:function(a,b,c){var d,e=ea(U(b/a)*a),f=ea(La(c/a)*a),g=[];if(b===c&&ja(b))return [b];for(b=e;b<=f;){g.push(b);b=ea(b+a);if(b===d)break;d=b;}return g;},getMinorTickPositions:function(){var a=this.options,b=this.tickPositions,c=this.minorTickInterval,d=[],e;if(this.isLog){e=b.length;for(a=1;a<e;a++)d=d.concat(this.getLogTickPositions(c,b[a-1],b[a],!0));}else if(this.isDatetimeAxis&&a.minorTickInterval==="auto")d=d.concat(this.getTimeTicks(this.normalizeTimeTickInterval(c),this.min,this.max,a.startOfWeek)),d[0]<this.min&&d.shift();else for(b=this.min+(b[0]-this.min)%c;b<=this.max;b+=c)d.push(b);return d;},adjustForMinRange:function(){var a=this.options,b=this.min,c=this.max,d,e=this.dataMax-this.dataMin>=this.minRange,f,g,h,i,j;if(this.isXAxis&&this.minRange===u&&!this.isLog)s(a.min)||s(a.max)?this.minRange=null:(q(this.series,function(a){i=a.xData;for(g=j=a.xIncrement?1:i.length-1;g>0;g--)if(h=i[g]-i[g-1],f===u||h<f)f=h;}),this.minRange=L(f*5,this.dataMax-this.dataMin));if(c-b<this.minRange){var k=this.minRange;d=(k-c+b)/2;d=[b-d,p(a.min,b-d)];if(e)d[2]=this.dataMin;b=Ca(d);c=[b+k,p(a.max,b+k)];if(e)c[2]=this.dataMax;c=Oa(c);c-b<k&&(d[0]=c-k,d[1]=p(a.min,c-k),b=Ca(d));}this.min=b;this.max=c;},setAxisTranslation:function(a){var b=this,c=b.max-b.min,d=b.axisPointRange||0,e,f=0,g=0,h=b.linkedParent,i=!!b.categories,j=b.transA;if(b.isXAxis||i||d)h?(f=h.minPointOffset,g=h.pointRangePadding):q(b.series,function(a){var h=i?1:b.isXAxis?a.pointRange:b.axisPointRange||0,j=a.options.pointPlacement,m=a.closestPointRange;h>c&&(h=0);d=t(d,h);f=t(f,Ga(j)?0:h/2);g=t(g,j==="on"?0:h);!a.noSharedTooltip&&s(m)&&(e=s(e)?L(e,m):m);}),h=b.ordinalSlope&&e?b.ordinalSlope/e:1,b.minPointOffset=f*=h,b.pointRangePadding=g*=h,b.pointRange=L(d,c),b.closestPointRange=e;if(a)b.oldTransA=j;b.translationSlope=b.transA=j=b.len/(c+g||1);b.transB=b.horiz?b.left:b.bottom;b.minPixelPadding=j*f;},setTickPositions:function(a){var b=this,c=b.chart,d=b.options,e=d.startOnTick,f=d.endOnTick,g=b.isLog,h=b.isDatetimeAxis,i=b.isXAxis,j=b.isLinked,k=b.options.tickPositioner,l=d.maxPadding,n=d.minPadding,m=d.tickInterval,o=d.minTickInterval,Y=d.tickPixelInterval,D,J=b.categories;j?(b.linkedParent=c[b.coll][d.linkedTo],c=b.linkedParent.getExtremes(),b.min=p(c.min,c.dataMin),b.max=p(c.max,c.dataMax),d.type!==b.linkedParent.options.type&&ha(11,1)):(b.min=p(b.userMin,d.min,b.dataMin),b.max=p(b.userMax,d.max,b.dataMax));if(g)!a&&L(b.min,p(b.dataMin,b.min))<=0&&ha(10,1),b.min=ea(za(b.min)),b.max=ea(za(b.max));if(b.range&&s(b.max))b.userMin=b.min=t(b.min,b.max-b.range),b.userMax=b.max,b.range=null;b.beforePadding&&b.beforePadding();b.adjustForMinRange();if(!J&&!b.axisPointRange&&!b.usePercentage&&!j&&s(b.min)&&s(b.max)&&(c=b.max-b.min)){if(!s(d.min)&&!s(b.userMin)&&n&&(b.dataMin<0||!b.ignoreMinPadding))b.min-=c*n;if(!s(d.max)&&!s(b.userMax)&&l&&(b.dataMax>0||!b.ignoreMaxPadding))b.max+=c*l;}if(ja(d.floor))b.min=t(b.min,d.floor);if(ja(d.ceiling))b.max=L(b.max,d.ceiling);b.min===b.max||b.min===void 0||b.max===void 0?b.tickInterval=1:j&&!m&&Y===b.linkedParent.options.tickPixelInterval?b.tickInterval=b.linkedParent.tickInterval:(b.tickInterval=p(m,J?1:(b.max-b.min)*Y/t(b.len,Y)),!s(m)&&b.len<Y&&!this.isRadial&&!this.isLog&&!J&&e&&f&&(D=!0,b.tickInterval/=4));i&&!a&&q(b.series,function(a){a.processData(b.min!==b.oldMin||b.max!==b.oldMax);});b.setAxisTranslation(!0);b.beforeSetTickPositions&&b.beforeSetTickPositions();if(b.postProcessTickInterval)b.tickInterval=b.postProcessTickInterval(b.tickInterval);if(b.pointRange)b.tickInterval=t(b.pointRange,b.tickInterval);if(!m&&b.tickInterval<o)b.tickInterval=o;if(!h&&!g&&!m)b.tickInterval=nb(b.tickInterval,null,mb(b.tickInterval),p(d.allowDecimals,!(b.tickInterval>1&&b.tickInterval<5&&b.max>1E3&&b.max<9999)));b.minorTickInterval=d.minorTickInterval==="auto"&&b.tickInterval?b.tickInterval/5:d.minorTickInterval;b.tickPositions=a=d.tickPositions?[].concat(d.tickPositions):k&&k.apply(b,[b.min,b.max]);if(!a)!b.ordinalPositions&&(b.max-b.min)/b.tickInterval>t(2*b.len,200)&&ha(19,!0),a=h?b.getTimeTicks(b.normalizeTimeTickInterval(b.tickInterval,d.units),b.min,b.max,d.startOfWeek,b.ordinalPositions,b.closestPointRange,!0):g?b.getLogTickPositions(b.tickInterval,b.min,b.max):b.getLinearTickPositions(b.tickInterval,b.min,b.max),D&&a.splice(1,a.length-2),b.tickPositions=a;if(!j)d=a[0],g=a[a.length-1],h=b.minPointOffset||0,e?b.min=d:b.min-h>d&&a.shift(),f?b.max=g:b.max+h<g&&a.pop(),a.length===0&&s(d)&&a.push((g+d)/2),a.length===1&&(e=Q(b.max)>1E13?1:0.001,b.min-=e,b.max+=e);},setMaxTicks:function(){var a=this.chart,b=a.maxTicks||{},c=this.tickPositions,d=this._maxTicksKey=[this.coll,this.pos,this.len].join("-");if(!this.isLinked&&!this.isDatetimeAxis&&c&&c.length>(b[d]||0)&&this.options.alignTicks!==!1)b[d]=c.length;a.maxTicks=b;},adjustTickAmount:function(){var a=this._maxTicksKey,b=this.tickPositions,c=this.chart.maxTicks;if(c&&c[a]&&!this.isDatetimeAxis&&!this.categories&&!this.isLinked&&this.options.alignTicks!==!1&&this.min!==u){var d=this.tickAmount,e=b.length;this.tickAmount=a=c[a];if(e<a){for(;b.length<a;)b.push(ea(b[b.length-1]+this.tickInterval));this.transA*=(e-1)/(a-1);this.max=b[b.length-1];}if(s(d)&&a!==d)this.isDirty=!0;}},setScale:function(){var a=this.stacks,b,c,d,e;this.oldMin=this.min;this.oldMax=this.max;this.oldAxisLength=this.len;this.setAxisSize();e=this.len!==this.oldAxisLength;q(this.series,function(a){if(a.isDirtyData||a.isDirty||a.xAxis.isDirty)d=!0;});if(e||d||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax){if(!this.isXAxis)for(b in a)for(c in a[b])a[b][c].total=null,a[b][c].cum=0;this.forceRedraw=!1;this.getSeriesExtremes();this.setTickPositions();this.oldUserMin=this.userMin;this.oldUserMax=this.userMax;if(!this.isDirty)this.isDirty=e||this.min!==this.oldMin||this.max!==this.oldMax;}else{if(!this.isXAxis){if(this.oldStacks)a=this.stacks=this.oldStacks;for(b in a)for(c in a[b])a[b][c].cum=a[b][c].total;}}this.setMaxTicks();},setExtremes:function(a,b,c,d,e){var f=this,g=f.chart,c=p(c,!0),e=r(e,{min:a,max:b});I(f,"setExtremes",e,function(){f.userMin=a;f.userMax=b;f.eventArgs=e;f.isDirtyExtremes=!0;c&&g.redraw(d);});},zoom:function(a,b){var c=this.dataMin,d=this.dataMax,e=this.options;this.allowZoomOutside||(s(c)&&a<=L(c,p(e.min,c))&&(a=u),s(d)&&b>=t(d,p(e.max,d))&&(b=u));this.displayBtn=a!==u||b!==u;this.setExtremes(a,b,!1,u,{trigger:"zoom"});return !0;},setAxisSize:function(){var a=this.chart,b=this.options,c=b.offsetLeft||0,d=this.horiz,e=p(b.width,a.plotWidth-c+(b.offsetRight||0)),f=p(b.height,a.plotHeight),g=p(b.top,a.plotTop),b=p(b.left,a.plotLeft+c),c=/%$/;c.test(f)&&(f=parseInt(f,10)/100*a.plotHeight);c.test(g)&&(g=parseInt(g,10)/100*a.plotHeight+a.plotTop);this.left=b;this.top=g;this.width=e;this.height=f;this.bottom=a.chartHeight-f-g;this.right=a.chartWidth-e-b;this.len=t(d?e:f,0);this.pos=d?b:g;},getExtremes:function(){var a=this.isLog;return {min:a?ea(ka(this.min)):this.min,max:a?ea(ka(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax};},getThreshold:function(a){var b=this.isLog,c=b?ka(this.min):this.min,b=b?ka(this.max):this.max;c>a||a===null?a=c:b<a&&(a=b);return this.translate(a,0,1,0,1);},autoLabelAlign:function(a){a=(p(a,0)-this.side*90+720)%360;return a>15&&a<165?"right":a>195&&a<345?"left":"center";},getOffset:function(){var a=this,b=a.chart,c=b.renderer,d=a.options,e=a.tickPositions,f=a.ticks,g=a.horiz,h=a.side,i=b.inverted?[1,0,3,2][h]:h,j,k,l=0,n,m=0,o=d.title,Y=d.labels,D=0,J=b.axisOffset,b=b.clipOffset,C=[-1,1,1,-1][h],r,v=1,w=p(Y.maxStaggerLines,5),x,y,A,z,R;a.hasData=j=a.hasVisibleSeries||s(a.min)&&s(a.max)&&!!e;a.showAxis=k=j||p(d.showEmpty,!0);a.staggerLines=a.horiz&&Y.staggerLines;if(!a.axisGroup)a.gridGroup=c.g("grid").attr({zIndex:d.gridZIndex||1}).add(),a.axisGroup=c.g("axis").attr({zIndex:d.zIndex||2}).add(),a.labelGroup=c.g("axis-labels").attr({zIndex:Y.zIndex||7}).addClass("highcharts-"+a.coll.toLowerCase()+"-labels").add();if(j||a.isLinked){a.labelAlign=p(Y.align||a.autoLabelAlign(Y.rotation));q(e,function(b){f[b]?f[b].addLabel():f[b]=new Ta(a,b);});if(a.horiz&&!a.staggerLines&&w&&!Y.rotation){for(j=a.reversed?[].concat(e).reverse():e;v<w;){x=[];y=!1;for(r=0;r<j.length;r++)A=j[r],z=(z=f[A].label&&f[A].label.getBBox())?z.width:0,R=r%v,z&&(A=a.translate(A),x[R]!==u&&A<x[R]&&(y=!0),x[R]=A+z);if(y)v++;else break;}if(v>1)a.staggerLines=v;}q(e,function(b){if(h===0||h===2||{1:"left",3:"right"}[h]===a.labelAlign)D=t(f[b].getLabelSize(),D);});if(a.staggerLines)D*=a.staggerLines,a.labelOffset=D;}else for(r in f)f[r].destroy(),delete f[r];if(o&&o.text&&o.enabled!==!1){if(!a.axisTitle)a.axisTitle=c.text(o.text,0,0,o.useHTML).attr({zIndex:7,rotation:o.rotation||0,align:o.textAlign||{low:"left",middle:"center",high:"right"}[o.align]}).addClass("highcharts-"+this.coll.toLowerCase()+"-title").css(o.style).add(a.axisGroup),a.axisTitle.isNew=!0;if(k)l=a.axisTitle.getBBox()[g?"height":"width"],n=o.offset,m=s(n)?0:p(o.margin,g?5:10);a.axisTitle[k?"show":"hide"]();}a.offset=C*p(d.offset,J[h]);c=h===2?a.tickBaseline:0;g=D+m+(D&&C*(g?p(Y.y,a.tickBaseline+8):Y.x)-c);a.axisTitleMargin=p(n,g);J[h]=t(J[h],a.axisTitleMargin+l+C*a.offset,g);b[i]=t(b[i],U(d.lineWidth/2)*2);},getLinePath:function(a){var b=this.chart,c=this.opposite,d=this.offset,e=this.horiz,f=this.left+(c?this.width:0)+d,d=b.chartHeight-this.bottom-(c?this.height:0)+d;c&&(a*=-1);return b.renderer.crispLine(["M",e?this.left:f,e?d:this.top,"L",e?b.chartWidth-this.right:f,e?d:b.chartHeight-this.bottom],a);},getTitlePosition:function(){var a=this.horiz,b=this.left,c=this.top,d=this.len,e=this.options.title,f=a?b:c,g=this.opposite,h=this.offset,i=y(e.style.fontSize||12),d={low:f+(a?0:d),middle:f+d/2,high:f+(a?d:0)}[e.align],b=(a?c+this.height:b)+(a?1:-1)*(g?-1:1)*this.axisTitleMargin+(this.side===2?i:0);return {x:a?d:b+(g?this.width:0)+h+(e.x||0),y:a?b-(g?this.height:0)+h:d+(e.y||0)};},render:function(){var a=this,b=a.horiz,c=a.reversed,d=a.chart,e=d.renderer,f=a.options,g=a.isLog,h=a.isLinked,i=a.tickPositions,j,k=a.axisTitle,l=a.ticks,n=a.minorTicks,m=a.alternateBands,o=f.stackLabels,p=f.alternateGridColor,D=a.tickmarkOffset,J=f.lineWidth,C=d.hasRendered&&s(a.oldMin)&&!isNaN(a.oldMin),r=a.hasData,t=a.showAxis,v,w=f.labels.overflow,x=a.justifyLabels=b&&w!==!1,A;a.labelEdge.length=0;a.justifyToPlot=w==="justify";q([l,n,m],function(a){for(var b in a)a[b].isActive=!1;});if(r||h)if(a.minorTickInterval&&!a.categories&&q(a.getMinorTickPositions(),function(b){n[b]||(n[b]=new Ta(a,b,"minor"));C&&n[b].isNew&&n[b].render(null,!0);n[b].render(null,!1,1);}),i.length&&(j=i.slice(),(b&&c||!b&&!c)&&j.reverse(),x&&(j=j.slice(1).concat([j[0]])),q(j,function(b,c){x&&(c=c===j.length-1?0:c+1);if(!h||b>=a.min&&b<=a.max)l[b]||(l[b]=new Ta(a,b)),C&&l[b].isNew&&l[b].render(c,!0,0.1),l[b].render(c);}),D&&a.min===0&&(l[-1]||(l[-1]=new Ta(a,-1,null,!0)),l[-1].render(-1))),p&&q(i,function(b,c){if(c%2===0&&b<a.max)m[b]||(m[b]=new K.PlotLineOrBand(a)),v=b+D,A=i[c+1]!==u?i[c+1]+D:a.max,m[b].options={from:g?ka(v):v,to:g?ka(A):A,color:p},m[b].render(),m[b].isActive=!0;}),!a._addedPlotLB)q((f.plotLines||[]).concat(f.plotBands||[]),function(b){a.addPlotBandOrLine(b);}),a._addedPlotLB=!0;q([l,n,m],function(a){var b,c,e=[],f=va?va.duration||500:0,g=function(){for(c=e.length;c--;)a[e[c]]&&!a[e[c]].isActive&&(a[e[c]].destroy(),delete a[e[c]]);};for(b in a)if(!a[b].isActive)a[b].render(b,!1,0),a[b].isActive=!1,e.push(b);a===m||!d.hasRendered||!f?g():f&&setTimeout(g,f);});if(J)b=a.getLinePath(J),a.axisLine?a.axisLine.animate({d:b}):a.axisLine=e.path(b).attr({stroke:f.lineColor,"stroke-width":J,zIndex:7}).add(a.axisGroup),a.axisLine[t?"show":"hide"]();if(k&&t)k[k.isNew?"attr":"animate"](a.getTitlePosition()),k.isNew=!1;o&&o.enabled&&a.renderStackTotals();a.isDirty=!1;},redraw:function(){this.render();q(this.plotLinesAndBands,function(a){a.render();});q(this.series,function(a){a.isDirty=!0;});},destroy:function(a){var b=this,c=b.stacks,d,e=b.plotLinesAndBands;a||X(b);for(d in c)Pa(c[d]),c[d]=null;q([b.ticks,b.minorTicks,b.alternateBands],function(a){Pa(a);});for(a=e.length;a--;)e[a].destroy();q("stackTotalGroup,axisLine,axisTitle,axisGroup,cross,gridGroup,labelGroup".split(","),function(a){b[a]&&(b[a]=b[a].destroy());});this.cross&&this.cross.destroy();},drawCrosshair:function(a,b){if(this.crosshair)if((s(b)||!p(this.crosshair.snap,!0))===!1)this.hideCrosshair();else{var c,d=this.crosshair,e=d.animation;p(d.snap,!0)?s(b)&&(c=this.chart.inverted!=this.horiz?b.plotX:this.len-b.plotY):c=this.horiz?a.chartX-this.pos:this.len-a.chartY+this.pos;c=this.isRadial?this.getPlotLinePath(this.isXAxis?b.x:p(b.stackY,b.y)):this.getPlotLinePath(null,null,null,null,c);if(c===null)this.hideCrosshair();else if(this.cross)this.cross.attr({visibility:"visible"})[e?"animate":"attr"]({d:c},e);else{e={"stroke-width":d.width||1,stroke:d.color||"#C0C0C0",zIndex:d.zIndex||2};if(d.dashStyle)e.dashstyle=d.dashStyle;this.cross=this.chart.renderer.path(c).attr(e).add();}}},hideCrosshair:function(){this.cross&&this.cross.hide();}};r(na.prototype,{getPlotBandPath:function(a,b){var c=this.getPlotLinePath(b),d=this.getPlotLinePath(a);d&&c?d.push(c[4],c[5],c[1],c[2]):d=null;return d;},addPlotBand:function(a){return this.addPlotBandOrLine(a,"plotBands");},addPlotLine:function(a){return this.addPlotBandOrLine(a,"plotLines");},addPlotBandOrLine:function(a,b){var c=(new K.PlotLineOrBand(this,a)).render(),d=this.userOptions;c&&(b&&(d[b]=d[b]||[],d[b].push(a)),this.plotLinesAndBands.push(c));return c;},removePlotBandOrLine:function(a){for(var b=this.plotLinesAndBands,c=this.options,d=this.userOptions,e=b.length;e--;)b[e].id===a&&b[e].destroy();q([c.plotLines||[],d.plotLines||[],c.plotBands||[],d.plotBands||[]],function(b){for(e=b.length;e--;)b[e].id===a&&la(b,b[e]);});}});na.prototype.getTimeTicks=function(a,b,c,d){var e=[],f={},g=E.global.useUTC,h,i=new Da(b-Sa),j=a.unitRange,k=a.count;if(s(b)){j>=A.second&&(i.setMilliseconds(0),i.setSeconds(j>=A.minute?0:k*U(i.getSeconds()/k)));if(j>=A.minute)i[Cb](j>=A.hour?0:k*U(i[pb]()/k));if(j>=A.hour)i[Db](j>=A.day?0:k*U(i[qb]()/k));if(j>=A.day)i[sb](j>=A.month?1:k*U(i[Xa]()/k));j>=A.month&&(i[Eb](j>=A.year?0:k*U(i[fb]()/k)),h=i[gb]());j>=A.year&&(h-=h%k,i[Fb](h));if(j===A.week)i[sb](i[Xa]()-i[rb]()+p(d,1));b=1;Sa&&(i=new Da(i.getTime()+Sa));h=i[gb]();for(var d=i.getTime(),l=i[fb](),n=i[Xa](),m=(A.day+(g?Sa:i.getTimezoneOffset()*6E4))%A.day;d<c;)e.push(d),j===A.year?d=eb(h+b*k,0):j===A.month?d=eb(h,l+b*k):!g&&(j===A.day||j===A.week)?d=eb(h,l,n+b*k*(j===A.day?1:7)):d+=j*k,b++;e.push(d);q(wb(e,function(a){return j<=A.hour&&a%A.day===m;}),function(a){f[a]="day";});}e.info=r(a,{higherRanks:f,totalRange:j*k});return e;};na.prototype.normalizeTimeTickInterval=function(a,b){var c=b||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],d=c[c.length-1],e=A[d[0]],f=d[1],g;for(g=0;g<c.length;g++)if(d=c[g],e=A[d[0]],f=d[1],c[g+1]&&a<=(e*f[f.length-1]+A[c[g+1][0]])/2)break;e===A.year&&a<5*e&&(f=[1,2,5]);c=nb(a/e,f,d[0]==="year"?t(mb(a/e),1):1);return {unitRange:e,count:c,unitName:d[0]};};na.prototype.getLogTickPositions=function(a,b,c,d){var e=this.options,f=this.len,g=[];if(!d)this._minorAutoInterval=null;if(a>=0.5)a=v(a),g=this.getLinearTickPositions(a,b,c);else if(a>=0.08)for(var f=U(b),h,i,j,k,l,e=a>0.3?[1,2,4]:a>0.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];f<c+1&&!l;f++){i=e.length;for(h=0;h<i&&!l;h++)j=za(ka(f)*e[h]),j>b&&(!d||k<=c)&&k!==u&&g.push(k),k>c&&(l=!0),k=j;}else{if(b=ka(b),c=ka(c),a=e[d?"minorTickInterval":"tickInterval"],a=p(a==="auto"?null:a,this._minorAutoInterval,(c-b)*(e.tickPixelInterval/(d?5:1))/((d?f/this.tickPositions.length:f)||1)),a=nb(a,null,mb(a)),g=Va(this.getLinearTickPositions(a,b,c),za),!d)this._minorAutoInterval=a/5;}if(!d)this.tickInterval=a;return g;};var Nb=K.Tooltip=function(){this.init.apply(this,arguments);};Nb.prototype={init:function(a,b){var c=b.borderWidth,d=b.style,e=y(d.padding);this.chart=a;this.options=b;this.crosshairs=[];this.now={x:0,y:0};this.isHidden=!0;this.label=a.renderer.label("",0,0,b.shape||"callout",null,null,b.useHTML,null,"tooltip").attr({padding:e,fill:b.backgroundColor,"stroke-width":c,r:b.borderRadius,zIndex:8}).css(d).css({padding:0}).add().attr({y:-9999});ga||this.label.shadow(b.shadow);this.shared=b.shared;},destroy:function(){if(this.label)this.label=this.label.destroy();clearTimeout(this.hideTimer);clearTimeout(this.tooltipTimeout);},move:function(a,b,c,d){var e=this,f=e.now,g=e.options.animation!==!1&&!e.isHidden&&(Q(a-f.x)>1||Q(b-f.y)>1),h=e.followPointer||e.len>1;r(f,{x:g?(2*f.x+a)/3:a,y:g?(f.y+b)/2:b,anchorX:h?u:g?(2*f.anchorX+c)/3:c,anchorY:h?u:g?(f.anchorY+d)/2:d});e.label.attr(f);if(g)clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){e&&e.move(a,b,c,d);},32);},hide:function(a){var b=this,c;clearTimeout(this.hideTimer);if(!this.isHidden)c=this.chart.hoverPoints,this.hideTimer=setTimeout(function(){b.label.fadeOut();b.isHidden=!0;},p(a,this.options.hideDelay,500)),c&&q(c,function(a){a.setState();}),this.chart.hoverPoints=null;},getAnchor:function(a,b){var c,d=this.chart,e=d.inverted,f=d.plotTop,g=0,h=0,i,a=ra(a);c=a[0].tooltipPos;this.followPointer&&b&&(b.chartX===u&&(b=d.pointer.normalize(b)),c=[b.chartX-d.plotLeft,b.chartY-f]);c||(q(a,function(a){i=a.series.yAxis;g+=a.plotX;h+=(a.plotLow?(a.plotLow+a.plotHigh)/2:a.plotY)+(!e&&i?i.top-f:0);}),g/=a.length,h/=a.length,c=[e?d.plotWidth-h:g,this.shared&&!e&&a.length>1&&b?b.chartY-f:e?d.plotHeight-g:h]);return Va(c,v);},getPosition:function(a,b,c){var d=this.chart,e=this.distance,f={},g,h=["y",d.chartHeight,b,c.plotY+d.plotTop],i=["x",d.chartWidth,a,c.plotX+d.plotLeft],j=c.ttBelow||d.inverted&&!c.negative||!d.inverted&&c.negative,k=function(a,b,c,d){var g=c<d-e,b=d+e+c<b,c=d-e-c;d+=e;if(j&&b)f[a]=d;else if(!j&&g)f[a]=c;else if(g)f[a]=c;else if(b)f[a]=d;else return !1;},l=function(a,b,c,d){if(d<e||d>b-e)return !1;else f[a]=d<c/2?1:d>b-c/2?b-c-2:d-c/2;},n=function(a){var b=h;h=i;i=b;g=a;},m=function(){k.apply(0,h)!==!1?l.apply(0,i)===!1&&!g&&(n(!0),m()):g?f.x=f.y=0:(n(!0),m());};(d.inverted||this.len>1)&&n();m();return f;},defaultFormatter:function(a){var b=this.points||ra(this),c=b[0].series,d;d=[a.tooltipHeaderFormatter(b[0])];q(b,function(a){c=a.series;d.push(c.tooltipFormatter&&c.tooltipFormatter(a)||a.point.tooltipFormatter(c.tooltipOptions.pointFormat));});d.push(a.options.footerFormat||"");return d.join("");},refresh:function(a,b){var c=this.chart,d=this.label,e=this.options,f,g,h={},i,j=[];i=e.formatter||this.defaultFormatter;var h=c.hoverPoints,k,l=this.shared;clearTimeout(this.hideTimer);this.followPointer=ra(a)[0].series.tooltipOptions.followPointer;g=this.getAnchor(a,b);f=g[0];g=g[1];l&&(!a.series||!a.series.noSharedTooltip)?(c.hoverPoints=a,h&&q(h,function(a){a.setState();}),q(a,function(a){a.setState("hover");j.push(a.getLabelConfig());}),h={x:a[0].category,y:a[0].y},h.points=j,this.len=j.length,a=a[0]):h=a.getLabelConfig();i=i.call(h,this);h=a.series;this.distance=p(h.tooltipOptions.distance,16);i===!1?this.hide():(this.isHidden&&(bb(d),d.attr("opacity",1).show()),d.attr({text:i}),k=e.borderColor||a.color||h.color||"#606060",d.attr({stroke:k}),this.updatePosition({plotX:f,plotY:g,negative:a.negative,ttBelow:a.ttBelow}),this.isHidden=!1);I(c,"tooltipRefresh",{text:i,x:f+c.plotLeft,y:g+c.plotTop,borderColor:k});},updatePosition:function(a){var b=this.chart,c=this.label,c=(this.options.positioner||this.getPosition).call(this,c.width,c.height,a);this.move(v(c.x),v(c.y),a.plotX+b.plotLeft,a.plotY+b.plotTop);},tooltipHeaderFormatter:function(a){var b=a.series,c=b.tooltipOptions,d=c.dateTimeLabelFormats,e=c.xDateFormat,f=b.xAxis,g=f&&f.options.type==="datetime"&&ja(a.key),c=c.headerFormat,f=f&&f.closestPointRange,h;if(g&&!e){if(f){for(h in A)if(A[h]>=f||A[h]<=A.day&&a.key%A[h]>0){e=d[h];break;}}else e=d.day;e=e||d.year;}g&&e&&(c=c.replace("{point.key}","{point.key:"+e+"}"));return Ja(c,{point:a,series:b});}};var pa;$a=x.documentElement.ontouchstart!==u;var Wa=K.Pointer=function(a,b){this.init(a,b);};Wa.prototype={init:function(a,b){var c=b.chart,d=c.events,e=ga?"":c.zoomType,c=a.inverted,f;this.options=b;this.chart=a;this.zoomX=f=/x/.test(e);this.zoomY=e=/y/.test(e);this.zoomHor=f&&!c||e&&c;this.zoomVert=e&&!c||f&&c;this.hasZoom=f||e;this.runChartClick=d&&!!d.click;this.pinchDown=[];this.lastValidTouch={};if(K.Tooltip&&b.tooltip.enabled)a.tooltip=new Nb(a,b.tooltip),this.followTouchMove=b.tooltip.followTouchMove;this.setDOMEvents();},normalize:function(a,b){var c,d,a=a||window.event,a=Tb(a);if(!a.target)a.target=a.srcElement;d=a.touches?a.touches.length?a.touches.item(0):a.changedTouches[0]:a;if(!b)this.chartPosition=b=Sb(this.chart.container);d.pageX===u?(c=t(a.x,a.clientX-b.left),d=a.y):(c=d.pageX-b.left,d=d.pageY-b.top);return r(a,{chartX:v(c),chartY:v(d)});},getCoordinates:function(a){var b={xAxis:[],yAxis:[]};q(this.chart.axes,function(c){b[c.isXAxis?"xAxis":"yAxis"].push({axis:c,value:c.toValue(a[c.horiz?"chartX":"chartY"])});});return b;},getIndex:function(a){var b=this.chart;return b.inverted?b.plotHeight+b.plotTop-a.chartY:a.chartX-b.plotLeft;},runPointActions:function(a){var b=this.chart,c=b.series,d=b.tooltip,e,f,g=b.hoverPoint,h=b.hoverSeries,i,j,k=b.chartWidth,l=this.getIndex(a);if(d&&this.options.tooltip.shared&&(!h||!h.noSharedTooltip)){f=[];i=c.length;for(j=0;j<i;j++)if(c[j].visible&&c[j].options.enableMouseTracking!==!1&&!c[j].noSharedTooltip&&c[j].singularTooltips!==!0&&c[j].tooltipPoints.length&&(e=c[j].tooltipPoints[l])&&e.series)e._dist=Q(l-e.clientX),k=L(k,e._dist),f.push(e);for(i=f.length;i--;)f[i]._dist>k&&f.splice(i,1);if(f.length&&f[0].clientX!==this.hoverX)d.refresh(f,a),this.hoverX=f[0].clientX;}c=h&&h.tooltipOptions.followPointer;if(h&&h.tracker&&!c){if((e=h.tooltipPoints[l])&&e!==g)e.onMouseOver(a);}else d&&c&&!d.isHidden&&(h=d.getAnchor([{}],a),d.updatePosition({plotX:h[0],plotY:h[1]}));if(d&&!this._onDocumentMouseMove)this._onDocumentMouseMove=function(a){if(W[pa])W[pa].pointer.onDocumentMouseMove(a);},N(x,"mousemove",this._onDocumentMouseMove);q(b.axes,function(b){b.drawCrosshair(a,p(e,g));});},reset:function(a,b){var c=this.chart,d=c.hoverSeries,e=c.hoverPoint,f=c.tooltip,g=f&&f.shared?c.hoverPoints:e;(a=a&&f&&g)&&ra(g)[0].plotX===u&&(a=!1);if(a)f.refresh(g),e&&e.setState(e.state,!0);else{if(e)e.onMouseOut();if(d)d.onMouseOut();f&&f.hide(b);if(this._onDocumentMouseMove)X(x,"mousemove",this._onDocumentMouseMove),this._onDocumentMouseMove=null;q(c.axes,function(a){a.hideCrosshair();});this.hoverX=null;}},scaleGroups:function(a,b){var c=this.chart,d;q(c.series,function(e){d=a||e.getPlotBox();e.xAxis&&e.xAxis.zoomEnabled&&(e.group.attr(d),e.markerGroup&&(e.markerGroup.attr(d),e.markerGroup.clip(b?c.clipRect:null)),e.dataLabelsGroup&&e.dataLabelsGroup.attr(d));});c.clipRect.attr(b||c.clipBox);},dragStart:function(a){var b=this.chart;b.mouseIsDown=a.type;b.cancelClick=!1;b.mouseDownX=this.mouseDownX=a.chartX;b.mouseDownY=this.mouseDownY=a.chartY;},drag:function(a){var b=this.chart,c=b.options.chart,d=a.chartX,e=a.chartY,f=this.zoomHor,g=this.zoomVert,h=b.plotLeft,i=b.plotTop,j=b.plotWidth,k=b.plotHeight,l,n=this.mouseDownX,m=this.mouseDownY,o=c.panKey&&a[c.panKey+"Key"];d<h?d=h:d>h+j&&(d=h+j);e<i?e=i:e>i+k&&(e=i+k);this.hasDragged=Math.sqrt(Math.pow(n-d,2)+Math.pow(m-e,2));if(this.hasDragged>10){l=b.isInsidePlot(n-h,m-i);if(b.hasCartesianSeries&&(this.zoomX||this.zoomY)&&l&&!o&&!this.selectionMarker)this.selectionMarker=b.renderer.rect(h,i,f?1:j,g?1:k,0).attr({fill:c.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add();this.selectionMarker&&f&&(d-=n,this.selectionMarker.attr({width:Q(d),x:(d>0?0:d)+n}));this.selectionMarker&&g&&(d=e-m,this.selectionMarker.attr({height:Q(d),y:(d>0?0:d)+m}));l&&!this.selectionMarker&&c.panning&&b.pan(a,c.panning);}},drop:function(a){var b=this.chart,c=this.hasPinched;if(this.selectionMarker){var d={xAxis:[],yAxis:[],originalEvent:a.originalEvent||a},e=this.selectionMarker,f=e.attr?e.attr("x"):e.x,g=e.attr?e.attr("y"):e.y,h=e.attr?e.attr("width"):e.width,i=e.attr?e.attr("height"):e.height,j;if(this.hasDragged||c)q(b.axes,function(b){if(b.zoomEnabled){var c=b.horiz,e=a.type==="touchend"?b.minPixelPadding:0,m=b.toValue((c?f:g)+e),c=b.toValue((c?f+h:g+i)-e);!isNaN(m)&&!isNaN(c)&&(d[b.coll].push({axis:b,min:L(m,c),max:t(m,c)}),j=!0);}}),j&&I(b,"selection",d,function(a){b.zoom(r(a,c?{animation:!1}:null));});this.selectionMarker=this.selectionMarker.destroy();c&&this.scaleGroups();}if(b)B(b.container,{cursor:b._cursor}),b.cancelClick=this.hasDragged>10,b.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[];},onContainerMouseDown:function(a){a=this.normalize(a);a.preventDefault&&a.preventDefault();this.dragStart(a);},onDocumentMouseUp:function(a){W[pa]&&W[pa].pointer.drop(a);},onDocumentMouseMove:function(a){var b=this.chart,c=this.chartPosition,d=b.hoverSeries,a=this.normalize(a,c);c&&d&&!this.inClass(a.target,"highcharts-tracker")&&!b.isInsidePlot(a.chartX-b.plotLeft,a.chartY-b.plotTop)&&this.reset();},onContainerMouseLeave:function(){var a=W[pa];if(a)a.pointer.reset(),a.pointer.chartPosition=null;},onContainerMouseMove:function(a){var b=this.chart;pa=b.index;a=this.normalize(a);a.returnValue=!1;b.mouseIsDown==="mousedown"&&this.drag(a);(this.inClass(a.target,"highcharts-tracker")||b.isInsidePlot(a.chartX-b.plotLeft,a.chartY-b.plotTop))&&!b.openMenu&&this.runPointActions(a);},inClass:function(a,b){for(var c;a;){if(c=F(a,"class"))if(c.indexOf(b)!==-1)return !0;else{if(c.indexOf("highcharts-container")!==-1)return !1;}a=a.parentNode;}},onTrackerMouseOut:function(a){var b=this.chart.hoverSeries,c=(a=a.relatedTarget||a.toElement)&&a.point&&a.point.series;if(b&&!b.options.stickyTracking&&!this.inClass(a,"highcharts-tooltip")&&c!==b)b.onMouseOut();},onContainerClick:function(a){var b=this.chart,c=b.hoverPoint,d=b.plotLeft,e=b.plotTop,a=this.normalize(a);a.cancelBubble=!0;b.cancelClick||(c&&this.inClass(a.target,"highcharts-tracker")?(I(c.series,"click",r(a,{point:c})),b.hoverPoint&&c.firePointEvent("click",a)):(r(a,this.getCoordinates(a)),b.isInsidePlot(a.chartX-d,a.chartY-e)&&I(b,"click",a)));},setDOMEvents:function(){var a=this,b=a.chart.container;b.onmousedown=function(b){a.onContainerMouseDown(b);};b.onmousemove=function(b){a.onContainerMouseMove(b);};b.onclick=function(b){a.onContainerClick(b);};N(b,"mouseleave",a.onContainerMouseLeave);ab===1&&N(x,"mouseup",a.onDocumentMouseUp);if($a)b.ontouchstart=function(b){a.onContainerTouchStart(b);},b.ontouchmove=function(b){a.onContainerTouchMove(b);},ab===1&&N(x,"touchend",a.onDocumentTouchEnd);},destroy:function(){var a;X(this.chart.container,"mouseleave",this.onContainerMouseLeave);ab||(X(x,"mouseup",this.onDocumentMouseUp),X(x,"touchend",this.onDocumentTouchEnd));clearInterval(this.tooltipTimeout);for(a in this)this[a]=null;}};r(K.Pointer.prototype,{pinchTranslate:function(a,b,c,d,e,f){(this.zoomHor||this.pinchHor)&&this.pinchTranslateDirection(!0,a,b,c,d,e,f);(this.zoomVert||this.pinchVert)&&this.pinchTranslateDirection(!1,a,b,c,d,e,f);},pinchTranslateDirection:function(a,b,c,d,e,f,g,h){var i=this.chart,j=a?"x":"y",k=a?"X":"Y",l="chart"+k,n=a?"width":"height",m=i["plot"+(a?"Left":"Top")],o,p,q=h||1,r=i.inverted,C=i.bounds[a?"h":"v"],t=b.length===1,s=b[0][l],v=c[0][l],u=!t&&b[1][l],w=!t&&c[1][l],x,c=function(){!t&&Q(s-u)>20&&(q=h||Q(v-w)/Q(s-u));p=(m-v)/q+s;o=i["plot"+(a?"Width":"Height")]/q;};c();b=p;b<C.min?(b=C.min,x=!0):b+o>C.max&&(b=C.max-o,x=!0);x?(v-=0.8*(v-g[j][0]),t||(w-=0.8*(w-g[j][1])),c()):g[j]=[v,w];r||(f[j]=p-m,f[n]=o);f=r?1/q:q;e[n]=o;e[j]=b;d[r?a?"scaleY":"scaleX":"scale"+k]=q;d["translate"+k]=f*m+(v-f*s);},pinch:function(a){var b=this,c=b.chart,d=b.pinchDown,e=b.followTouchMove,f=a.touches,g=f.length,h=b.lastValidTouch,i=b.hasZoom,j=b.selectionMarker,k={},l=g===1&&(b.inClass(a.target,"highcharts-tracker")&&c.runTrackerClick||b.runChartClick),n={};(i||e)&&!l&&a.preventDefault();Va(f,function(a){return b.normalize(a);});if(a.type==="touchstart")q(f,function(a,b){d[b]={chartX:a.chartX,chartY:a.chartY};}),h.x=[d[0].chartX,d[1]&&d[1].chartX],h.y=[d[0].chartY,d[1]&&d[1].chartY],q(c.axes,function(a){if(a.zoomEnabled){var b=c.bounds[a.horiz?"h":"v"],d=a.minPixelPadding,e=a.toPixels(p(a.options.min,a.dataMin)),f=a.toPixels(p(a.options.max,a.dataMax)),g=L(e,f),e=t(e,f);b.min=L(a.pos,g-d);b.max=t(a.pos+a.len,e+d);}}),b.res=!0;else{if(d.length){if(!j)b.selectionMarker=j=r({destroy:sa},c.plotBox);b.pinchTranslate(d,f,k,j,n,h);b.hasPinched=i;b.scaleGroups(k,n);if(!i&&e&&g===1)this.runPointActions(b.normalize(a));else{if(b.res)b.res=!1,this.reset(!1,0);}}}},onContainerTouchStart:function(a){var b=this.chart;pa=b.index;a.touches.length===1?(a=this.normalize(a),b.isInsidePlot(a.chartX-b.plotLeft,a.chartY-b.plotTop)?(this.runPointActions(a),this.pinch(a)):this.reset()):a.touches.length===2&&this.pinch(a);},onContainerTouchMove:function(a){(a.touches.length===1||a.touches.length===2)&&this.pinch(a);},onDocumentTouchEnd:function(a){W[pa]&&W[pa].pointer.drop(a);}});if(G.PointerEvent||G.MSPointerEvent){var ua={},zb=!!G.PointerEvent,Xb=function(){var a,b=[];b.item=function(a){return this[a];};for(a in ua)ua.hasOwnProperty(a)&&b.push({pageX:ua[a].pageX,pageY:ua[a].pageY,target:ua[a].target});return b;},Ab=function(a,b,c,d){a=a.originalEvent||a;if((a.pointerType==="touch"||a.pointerType===a.MSPOINTER_TYPE_TOUCH)&&W[pa])d(a),d=W[pa].pointer,d[b]({type:c,target:a.currentTarget,preventDefault:sa,touches:Xb()});};r(Wa.prototype,{onContainerPointerDown:function(a){Ab(a,"onContainerTouchStart","touchstart",function(a){ua[a.pointerId]={pageX:a.pageX,pageY:a.pageY,target:a.currentTarget};});},onContainerPointerMove:function(a){Ab(a,"onContainerTouchMove","touchmove",function(a){ua[a.pointerId]={pageX:a.pageX,pageY:a.pageY};if(!ua[a.pointerId].target)ua[a.pointerId].target=a.currentTarget;});},onDocumentPointerUp:function(a){Ab(a,"onContainerTouchEnd","touchend",function(a){delete ua[a.pointerId];});},batchMSEvents:function(a){a(this.chart.container,zb?"pointerdown":"MSPointerDown",this.onContainerPointerDown);a(this.chart.container,zb?"pointermove":"MSPointerMove",this.onContainerPointerMove);a(x,zb?"pointerup":"MSPointerUp",this.onDocumentPointerUp);}});Na(Wa.prototype,"init",function(a,b,c){a.call(this,b,c);(this.hasZoom||this.followTouchMove)&&B(b.container,{"-ms-touch-action":P,"touch-action":P});});Na(Wa.prototype,"setDOMEvents",function(a){a.apply(this);(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(N);});Na(Wa.prototype,"destroy",function(a){this.batchMSEvents(X);a.call(this);});}var lb=K.Legend=function(a,b){this.init(a,b);};lb.prototype={init:function(a,b){var c=this,d=b.itemStyle,e=p(b.padding,8),f=b.itemMarginTop||0;this.options=b;if(b.enabled)c.itemStyle=d,c.itemHiddenStyle=w(d,b.itemHiddenStyle),c.itemMarginTop=f,c.padding=e,c.initialItemX=e,c.initialItemY=e-5,c.maxItemWidth=0,c.chart=a,c.itemHeight=0,c.lastLineHeight=0,c.symbolWidth=p(b.symbolWidth,16),c.pages=[],c.render(),N(c.chart,"endResize",function(){c.positionCheckboxes();});},colorizeItem:function(a,b){var c=this.options,d=a.legendItem,e=a.legendLine,f=a.legendSymbol,g=this.itemHiddenStyle.color,c=b?c.itemStyle.color:g,h=b?a.legendColor||a.color||"#CCC":g,g=a.options&&a.options.marker,i={fill:h},j;d&&d.css({fill:c,color:c});e&&e.attr({stroke:h});if(f){if(g&&f.isMarker)for(j in i.stroke=h,g=a.convertAttribs(g),g)d=g[j],d!==u&&(i[j]=d);f.attr(i);}},positionItem:function(a){var b=this.options,c=b.symbolPadding,b=!b.rtl,d=a._legendItemPos,e=d[0],d=d[1],f=a.checkbox;a.legendGroup&&a.legendGroup.translate(b?e:this.legendWidth-e-2*c-4,d);if(f)f.x=e,f.y=d;},destroyItem:function(a){var b=a.checkbox;q(["legendItem","legendLine","legendSymbol","legendGroup"],function(b){a[b]&&(a[b]=a[b].destroy());});b&&Qa(a.checkbox);},destroy:function(){var a=this.group,b=this.box;if(b)this.box=b.destroy();if(a)this.group=a.destroy();},positionCheckboxes:function(a){var b=this.group.alignAttr,c,d=this.clipHeight||this.legendHeight;if(b)c=b.translateY,q(this.allItems,function(e){var f=e.checkbox,g;f&&(g=c+f.y+(a||0)+3,B(f,{left:b.translateX+e.checkboxOffset+f.x-20+"px",top:g+"px",display:g>c-6&&g<c+d-6?"":P}));});},renderTitle:function(){var a=this.padding,b=this.options.title,c=0;if(b.text){if(!this.title)this.title=this.chart.renderer.label(b.text,a-3,a-4,null,null,null,null,null,"legend-title").attr({zIndex:1}).css(b.style).add(this.group);a=this.title.getBBox();c=a.height;this.offsetWidth=a.width;this.contentGroup.attr({translateY:c});}this.titleHeight=c;},renderItem:function(a){var b=this.chart,c=b.renderer,d=this.options,e=d.layout==="horizontal",f=this.symbolWidth,g=d.symbolPadding,h=this.itemStyle,i=this.itemHiddenStyle,j=this.padding,k=e?p(d.itemDistance,20):0,l=!d.rtl,n=d.width,m=d.itemMarginBottom||0,o=this.itemMarginTop,q=this.initialItemX,r=a.legendItem,s=a.series&&a.series.drawLegendSymbol?a.series:a,C=s.options,C=this.createCheckboxForItem&&C&&C.showCheckbox,u=d.useHTML;if(!r){a.legendGroup=c.g("legend-item").attr({zIndex:1}).add(this.scrollGroup);a.legendItem=r=c.text(d.labelFormat?Ja(d.labelFormat,a):d.labelFormatter.call(a),l?f+g:-g,this.baseline||0,u).css(w(a.visible?h:i)).attr({align:l?"left":"right",zIndex:2}).add(a.legendGroup);if(!this.baseline)this.baseline=c.fontMetrics(h.fontSize,r).f+3+o,r.attr("y",this.baseline);s.drawLegendSymbol(this,a);this.setItemEvents&&this.setItemEvents(a,r,u,h,i);this.colorizeItem(a,a.visible);C&&this.createCheckboxForItem(a);}c=r.getBBox();f=a.checkboxOffset=d.itemWidth||a.legendItemWidth||f+g+c.width+k+(C?20:0);this.itemHeight=g=v(a.legendItemHeight||c.height);if(e&&this.itemX-q+f>(n||b.chartWidth-2*j-q-d.x))this.itemX=q,this.itemY+=o+this.lastLineHeight+m,this.lastLineHeight=0;this.maxItemWidth=t(this.maxItemWidth,f);this.lastItemY=o+this.itemY+m;this.lastLineHeight=t(g,this.lastLineHeight);a._legendItemPos=[this.itemX,this.itemY];e?this.itemX+=f:(this.itemY+=o+g+m,this.lastLineHeight=g);this.offsetWidth=n||t((e?this.itemX-q-k:f)+j,this.offsetWidth);},getAllItems:function(){var a=[];q(this.chart.series,function(b){var c=b.options;if(p(c.showInLegend,!s(c.linkedTo)?u:!1,!0))a=a.concat(b.legendItems||(c.legendType==="point"?b.data:b));});return a;},render:function(){var a=this,b=a.chart,c=b.renderer,d=a.group,e,f,g,h,i=a.box,j=a.options,k=a.padding,l=j.borderWidth,n=j.backgroundColor;a.itemX=a.initialItemX;a.itemY=a.initialItemY;a.offsetWidth=0;a.lastItemY=0;if(!d)a.group=d=c.g("legend").attr({zIndex:7}).add(),a.contentGroup=c.g().attr({zIndex:1}).add(d),a.scrollGroup=c.g().add(a.contentGroup);a.renderTitle();e=a.getAllItems();ob(e,function(a,b){return (a.options&&a.options.legendIndex||0)-(b.options&&b.options.legendIndex||0);});j.reversed&&e.reverse();a.allItems=e;a.display=f=!!e.length;q(e,function(b){a.renderItem(b);});g=j.width||a.offsetWidth;h=a.lastItemY+a.lastLineHeight+a.titleHeight;h=a.handleOverflow(h);if(l||n){g+=k;h+=k;if(i){if(g>0&&h>0)i[i.isNew?"attr":"animate"](i.crisp({width:g,height:h})),i.isNew=!1;}else a.box=i=c.rect(0,0,g,h,j.borderRadius,l||0).attr({stroke:j.borderColor,"stroke-width":l||0,fill:n||P}).add(d).shadow(j.shadow),i.isNew=!0;i[f?"show":"hide"]();}a.legendWidth=g;a.legendHeight=h;q(e,function(b){a.positionItem(b);});f&&d.align(r({width:g,height:h},j),!0,"spacingBox");b.isResizing||this.positionCheckboxes();},handleOverflow:function(a){var b=this,c=this.chart,d=c.renderer,e=this.options,f=e.y,f=c.spacingBox.height+(e.verticalAlign==="top"?-f:f)-this.padding,g=e.maxHeight,h,i=this.clipRect,j=e.navigation,k=p(j.animation,!0),l=j.arrowSize||12,n=this.nav,m=this.pages,o,r=this.allItems;e.layout==="horizontal"&&(f/=2);g&&(f=L(f,g));m.length=0;if(a>f&&!e.useHTML){this.clipHeight=h=t(f-20-this.titleHeight-this.padding,0);this.currentPage=p(this.currentPage,1);this.fullHeight=a;q(r,function(a,b){var c=a._legendItemPos[1],d=v(a.legendItem.getBBox().height),e=m.length;if(!e||c-m[e-1]>h&&(o||c)!==m[e-1])m.push(o||c),e++;b===r.length-1&&c+d-m[e-1]>h&&m.push(c);c!==o&&(o=c);});if(!i)i=b.clipRect=d.clipRect(0,this.padding,9999,0),b.contentGroup.clip(i);i.attr({height:h});if(!n)this.nav=n=d.g().attr({zIndex:1}).add(this.group),this.up=d.symbol("triangle",0,0,l,l).on("click",function(){b.scroll(-1,k);}).add(n),this.pager=d.text("",15,10).css(j.style).add(n),this.down=d.symbol("triangle-down",0,0,l,l).on("click",function(){b.scroll(1,k);}).add(n);b.scroll(0);a=f;}else{if(n)i.attr({height:c.chartHeight}),n.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0;}return a;},scroll:function(a,b){var c=this.pages,d=c.length,e=this.currentPage+a,f=this.clipHeight,g=this.options.navigation,h=g.activeColor,g=g.inactiveColor,i=this.pager,j=this.padding;e>d&&(e=d);if(e>0)b!==u&&Ra(b,this.chart),this.nav.attr({translateX:j,translateY:f+this.padding+7+this.titleHeight,visibility:"visible"}),this.up.attr({fill:e===1?g:h}).css({cursor:e===1?"default":"pointer"}),i.attr({text:e+"/"+d}),this.down.attr({x:18+this.pager.getBBox().width,fill:e===d?g:h}).css({cursor:e===d?"default":"pointer"}),c=-c[e-1]+this.initialItemY,this.scrollGroup.animate({translateY:c}),this.currentPage=e,this.positionCheckboxes(c);}};M=K.LegendSymbolMixin={drawRectangle:function(a,b){var c=a.options.symbolHeight||12;b.legendSymbol=this.chart.renderer.rect(0,a.baseline-5-c/2,a.symbolWidth,c,a.options.symbolRadius||0).attr({zIndex:3}).add(b.legendGroup);},drawLineMarker:function(a){var b=this.options,c=b.marker,d;d=a.symbolWidth;var e=this.chart.renderer,f=this.legendGroup,a=a.baseline-v(e.fontMetrics(a.options.itemStyle.fontSize,this.legendItem).b*0.3),g;if(b.lineWidth){g={"stroke-width":b.lineWidth};if(b.dashStyle)g.dashstyle=b.dashStyle;this.legendLine=e.path(["M",0,a,"L",d,a]).attr(g).add(f);}if(c&&c.enabled!==!1)b=c.radius,this.legendSymbol=d=e.symbol(this.symbol,d/2-b,a-b,2*b,2*b).add(f),d.isMarker=!0;}};(/Trident\/7\.0/.test(wa)||Ua)&&Na(lb.prototype,"positionItem",function(a,b){var c=this,d=function(){b._legendItemPos&&a.call(c,b);};d();setTimeout(d);});Ya.prototype={init:function(a,b){var c,d=a.series;a.series=null;c=w(E,a);c.series=a.series=d;this.userOptions=a;d=c.chart;this.margin=this.splashArray("margin",d);this.spacing=this.splashArray("spacing",d);var e=d.events;this.bounds={h:{},v:{}};this.callback=b;this.isResizing=0;this.options=c;this.axes=[];this.series=[];this.hasCartesianSeries=d.showAxes;var f=this,g;f.index=W.length;W.push(f);ab++;d.reflow!==!1&&N(f,"load",function(){f.initReflow();});if(e)for(g in e)N(f,g,e[g]);f.xAxis=[];f.yAxis=[];f.animation=ga?!1:p(d.animation,!0);f.pointCount=f.colorCounter=f.symbolCounter=0;f.firstRender();},initSeries:function(a){var b=this.options.chart;(b=H[a.type||b.type||b.defaultSeriesType])||ha(17,!0);b=new b();b.init(this,a);return b;},isInsidePlot:function(a,b,c){var d=c?b:a,a=c?a:b;return d>=0&&d<=this.plotWidth&&a>=0&&a<=this.plotHeight;},adjustTickAmounts:function(){this.options.chart.alignTicks!==!1&&q(this.axes,function(a){a.adjustTickAmount();});this.maxTicks=null;},redraw:function(a){var b=this.axes,c=this.series,d=this.pointer,e=this.legend,f=this.isDirtyLegend,g,h,i=this.hasCartesianSeries,j=this.isDirtyBox,k=c.length,l=k,n=this.renderer,m=n.isHidden(),o=[];Ra(a,this);m&&this.cloneRenderTo();for(this.layOutTitles();l--;)if(a=c[l],a.options.stacking&&(g=!0,a.isDirty)){h=!0;break;}if(h)for(l=k;l--;)if(a=c[l],a.options.stacking)a.isDirty=!0;q(c,function(a){a.isDirty&&a.options.legendType==="point"&&(f=!0);});if(f&&e.options.enabled)e.render(),this.isDirtyLegend=!1;g&&this.getStacks();if(i){if(!this.isResizing)this.maxTicks=null,q(b,function(a){a.setScale();});this.adjustTickAmounts();}this.getMargins();i&&(q(b,function(a){a.isDirty&&(j=!0);}),q(b,function(a){if(a.isDirtyExtremes)a.isDirtyExtremes=!1,o.push(function(){I(a,"afterSetExtremes",r(a.eventArgs,a.getExtremes()));delete a.eventArgs;});(j||g)&&a.redraw();}));j&&this.drawChartBox();q(c,function(a){a.isDirty&&a.visible&&(!a.isCartesian||a.xAxis)&&a.redraw();});d&&d.reset(!0);n.draw();I(this,"redraw");m&&this.cloneRenderTo(!0);q(o,function(a){a.call();});},get:function(a){var b=this.axes,c=this.series,d,e;for(d=0;d<b.length;d++)if(b[d].options.id===a)return b[d];for(d=0;d<c.length;d++)if(c[d].options.id===a)return c[d];for(d=0;d<c.length;d++){e=c[d].points||[];for(b=0;b<e.length;b++)if(e[b].id===a)return e[b];}return null;},getAxes:function(){var a=this,b=this.options,c=b.xAxis=ra(b.xAxis||{}),b=b.yAxis=ra(b.yAxis||{});q(c,function(a,b){a.index=b;a.isX=!0;});q(b,function(a,b){a.index=b;});c=c.concat(b);q(c,function(b){new na(a,b);});a.adjustTickAmounts();},getSelectedPoints:function(){var a=[];q(this.series,function(b){a=a.concat(wb(b.points||[],function(a){return a.selected;}));});return a;},getSelectedSeries:function(){return wb(this.series,function(a){return a.selected;});},getStacks:function(){var a=this;q(a.yAxis,function(a){if(a.stacks&&a.hasVisibleSeries)a.oldStacks=a.stacks;});q(a.series,function(b){if(b.options.stacking&&(b.visible===!0||a.options.chart.ignoreHiddenSeries===!1))b.stackKey=b.type+p(b.options.stack,"");});},setTitle:function(a,b,c){var g;var d=this,e=d.options,f;f=e.title=w(e.title,a);g=e.subtitle=w(e.subtitle,b),e=g;q([["title",a,f],["subtitle",b,e]],function(a){var b=a[0],c=d[b],e=a[1],a=a[2];c&&e&&(d[b]=c=c.destroy());a&&a.text&&!c&&(d[b]=d.renderer.text(a.text,0,0,a.useHTML).attr({align:a.align,"class":"highcharts-"+b,zIndex:a.zIndex||4}).css(a.style).add());});d.layOutTitles(c);},layOutTitles:function(a){var b=0,c=this.title,d=this.subtitle,e=this.options,f=e.title,e=e.subtitle,g=this.renderer,h=this.spacingBox.width-44;if(c&&(c.css({width:(f.width||h)+"px"}).align(r({y:g.fontMetrics(f.style.fontSize,c).b-3},f),!1,"spacingBox"),!f.floating&&!f.verticalAlign))b=c.getBBox().height;d&&(d.css({width:(e.width||h)+"px"}).align(r({y:b+(f.margin-13)+g.fontMetrics(f.style.fontSize,d).b},e),!1,"spacingBox"),!e.floating&&!e.verticalAlign&&(b=La(b+d.getBBox().height)));c=this.titleOffset!==b;this.titleOffset=b;if(!this.isDirtyBox&&c)this.isDirtyBox=c,this.hasRendered&&p(a,!0)&&this.isDirtyBox&&this.redraw();},getChartSize:function(){var a=this.options.chart,b=a.width,a=a.height,c=this.renderToClone||this.renderTo;if(!s(b))this.containerWidth=ib(c,"width");if(!s(a))this.containerHeight=ib(c,"height");this.chartWidth=t(0,b||this.containerWidth||600);this.chartHeight=t(0,p(a,this.containerHeight>19?this.containerHeight:400));},cloneRenderTo:function(a){var b=this.renderToClone,c=this.container;a?b&&(this.renderTo.appendChild(c),Qa(b),delete this.renderToClone):(c&&c.parentNode===this.renderTo&&this.renderTo.removeChild(c),this.renderToClone=b=this.renderTo.cloneNode(0),B(b,{position:"absolute",top:"-9999px",display:"block"}),b.style.setProperty&&b.style.setProperty("display","block","important"),x.body.appendChild(b),c&&b.appendChild(c));},getContainer:function(){var a,b=this.options.chart,c,d,e;this.renderTo=a=b.renderTo;e="highcharts-"+ub++;if(Ga(a))this.renderTo=a=x.getElementById(a);a||ha(13,!0);c=y(F(a,"data-highcharts-chart"));!isNaN(c)&&W[c]&&W[c].hasRendered&&W[c].destroy();F(a,"data-highcharts-chart",this.index);a.innerHTML="";!b.skipClone&&!a.offsetWidth&&this.cloneRenderTo();this.getChartSize();c=this.chartWidth;d=this.chartHeight;this.container=a=$(Ka,{className:"highcharts-container"+(b.className?" "+b.className:""),id:e},r({position:"relative",overflow:"hidden",width:c+"px",height:d+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},b.style),this.renderToClone||a);this._cursor=a.style.cursor;this.renderer=b.forExport?new ta(a,c,d,b.style,!0):new Za(a,c,d,b.style);ga&&this.renderer.create(this,a,c,d);},getMargins:function(){var a=this.spacing,b,c=this.legend,d=this.margin,e=this.options.legend,f=p(e.margin,20),g=e.x,h=e.y,i=e.align,j=e.verticalAlign,k=this.titleOffset;this.resetMargins();b=this.axisOffset;if(k&&!s(d[0]))this.plotTop=t(this.plotTop,k+this.options.title.margin+a[0]);if(c.display&&!e.floating)if(i==="right"){if(!s(d[1]))this.marginRight=t(this.marginRight,c.legendWidth-g+f+a[1]);}else if(i==="left"){if(!s(d[3]))this.plotLeft=t(this.plotLeft,c.legendWidth+g+f+a[3]);}else if(j==="top"){if(!s(d[0]))this.plotTop=t(this.plotTop,c.legendHeight+h+f+a[0]);}else{if(j==="bottom"&&!s(d[2]))this.marginBottom=t(this.marginBottom,c.legendHeight-h+f+a[2]);}this.extraBottomMargin&&(this.marginBottom+=this.extraBottomMargin);this.extraTopMargin&&(this.plotTop+=this.extraTopMargin);this.hasCartesianSeries&&q(this.axes,function(a){a.getOffset();});s(d[3])||(this.plotLeft+=b[3]);s(d[0])||(this.plotTop+=b[0]);s(d[2])||(this.marginBottom+=b[2]);s(d[1])||(this.marginRight+=b[1]);this.setChartSize();},reflow:function(a){var b=this,c=b.options.chart,d=b.renderTo,e=c.width||ib(d,"width"),f=c.height||ib(d,"height"),c=a?a.target:G,d=function(){if(b.container)b.setSize(e,f,!1),b.hasUserSize=null;};if(!b.hasUserSize&&e&&f&&(c===G||c===x)){if(e!==b.containerWidth||f!==b.containerHeight)clearTimeout(b.reflowTimeout),a?b.reflowTimeout=setTimeout(d,100):d();b.containerWidth=e;b.containerHeight=f;}},initReflow:function(){var a=this,b=function(b){a.reflow(b);};N(G,"resize",b);N(a,"destroy",function(){X(G,"resize",b);});},setSize:function(a,b,c){var d=this,e,f,g;d.isResizing+=1;g=function(){d&&I(d,"endResize",null,function(){d.isResizing-=1;});};Ra(c,d);d.oldChartHeight=d.chartHeight;d.oldChartWidth=d.chartWidth;if(s(a))d.chartWidth=e=t(0,v(a)),d.hasUserSize=!!e;if(s(b))d.chartHeight=f=t(0,v(b));(va?jb:B)(d.container,{width:e+"px",height:f+"px"},va);d.setChartSize(!0);d.renderer.setSize(e,f,c);d.maxTicks=null;q(d.axes,function(a){a.isDirty=!0;a.setScale();});q(d.series,function(a){a.isDirty=!0;});d.isDirtyLegend=!0;d.isDirtyBox=!0;d.layOutTitles();d.getMargins();d.redraw(c);d.oldChartHeight=null;I(d,"resize");va===!1?g():setTimeout(g,va&&va.duration||500);},setChartSize:function(a){var b=this.inverted,c=this.renderer,d=this.chartWidth,e=this.chartHeight,f=this.options.chart,g=this.spacing,h=this.clipOffset,i,j,k,l;this.plotLeft=i=v(this.plotLeft);this.plotTop=j=v(this.plotTop);this.plotWidth=k=t(0,v(d-i-this.marginRight));this.plotHeight=l=t(0,v(e-j-this.marginBottom));this.plotSizeX=b?l:k;this.plotSizeY=b?k:l;this.plotBorderWidth=f.plotBorderWidth||0;this.spacingBox=c.spacingBox={x:g[3],y:g[0],width:d-g[3]-g[1],height:e-g[0]-g[2]};this.plotBox=c.plotBox={x:i,y:j,width:k,height:l};d=2*U(this.plotBorderWidth/2);b=La(t(d,h[3])/2);c=La(t(d,h[0])/2);this.clipBox={x:b,y:c,width:U(this.plotSizeX-t(d,h[1])/2-b),height:t(0,U(this.plotSizeY-t(d,h[2])/2-c))};a||q(this.axes,function(a){a.setAxisSize();a.setAxisTranslation();});},resetMargins:function(){var a=this.spacing,b=this.margin;this.plotTop=p(b[0],a[0]);this.marginRight=p(b[1],a[1]);this.marginBottom=p(b[2],a[2]);this.plotLeft=p(b[3],a[3]);this.axisOffset=[0,0,0,0];this.clipOffset=[0,0,0,0];},drawChartBox:function(){var a=this.options.chart,b=this.renderer,c=this.chartWidth,d=this.chartHeight,e=this.chartBackground,f=this.plotBackground,g=this.plotBorder,h=this.plotBGImage,i=a.borderWidth||0,j=a.backgroundColor,k=a.plotBackgroundColor,l=a.plotBackgroundImage,n=a.plotBorderWidth||0,m,o=this.plotLeft,p=this.plotTop,q=this.plotWidth,r=this.plotHeight,t=this.plotBox,s=this.clipRect,v=this.clipBox;m=i+(a.shadow?8:0);if(i||j)if(e)e.animate(e.crisp({width:c-m,height:d-m}));else{e={fill:j||P};if(i)e.stroke=a.borderColor,e["stroke-width"]=i;this.chartBackground=b.rect(m/2,m/2,c-m,d-m,a.borderRadius,i).attr(e).addClass("highcharts-background").add().shadow(a.shadow);}if(k)f?f.animate(t):this.plotBackground=b.rect(o,p,q,r,0).attr({fill:k}).add().shadow(a.plotShadow);if(l)h?h.animate(t):this.plotBGImage=b.image(l,o,p,q,r).add();s?s.animate({width:v.width,height:v.height}):this.clipRect=b.clipRect(v);if(n)g?g.animate(g.crisp({x:o,y:p,width:q,height:r,strokeWidth:-n})):this.plotBorder=b.rect(o,p,q,r,0,-n).attr({stroke:a.plotBorderColor,"stroke-width":n,fill:P,zIndex:1}).add();this.isDirtyBox=!1;},propFromSeries:function(){var a=this,b=a.options.chart,c,d=a.options.series,e,f;q(["inverted","angular","polar"],function(g){c=H[b.type||b.defaultSeriesType];f=a[g]||b[g]||c&&c.prototype[g];for(e=d&&d.length;!f&&e--;)(c=H[d[e].type])&&c.prototype[g]&&(f=!0);a[g]=f;});},linkSeries:function(){var a=this,b=a.series;q(b,function(a){a.linkedSeries.length=0;});q(b,function(b){var d=b.options.linkedTo;if(Ga(d)&&(d=d===":previous"?a.series[b.index-1]:a.get(d)))d.linkedSeries.push(b),b.linkedParent=d;});},renderSeries:function(){q(this.series,function(a){a.translate();a.setTooltipPoints&&a.setTooltipPoints();a.render();});},renderLabels:function(){var a=this,b=a.options.labels;b.items&&q(b.items,function(c){var d=r(b.style,c.style),e=y(d.left)+a.plotLeft,f=y(d.top)+a.plotTop+12;delete d.left;delete d.top;a.renderer.text(c.html,e,f).attr({zIndex:2}).css(d).add();});},render:function(){var a=this.axes,b=this.renderer,c=this.options;this.setTitle();this.legend=new lb(this,c.legend);this.getStacks();q(a,function(a){a.setScale();});this.getMargins();this.maxTicks=null;q(a,function(a){a.setTickPositions(!0);a.setMaxTicks();});this.adjustTickAmounts();this.getMargins();this.drawChartBox();this.hasCartesianSeries&&q(a,function(a){a.render();});if(!this.seriesGroup)this.seriesGroup=b.g("series-group").attr({zIndex:3}).add();this.renderSeries();this.renderLabels();this.showCredits(c.credits);this.hasRendered=!0;},showCredits:function(a){if(a.enabled&&!this.credits)this.credits=this.renderer.text(a.text,0,0).on("click",function(){if(a.href)location.href=a.href;}).attr({align:a.position.align,zIndex:8}).css(a.style).add().align(a.position);},destroy:function(){var a=this,b=a.axes,c=a.series,d=a.container,e,f=d&&d.parentNode;I(a,"destroy");W[a.index]=u;ab--;a.renderTo.removeAttribute("data-highcharts-chart");X(a);for(e=b.length;e--;)b[e]=b[e].destroy();for(e=c.length;e--;)c[e]=c[e].destroy();q("title,subtitle,chartBackground,plotBackground,plotBGImage,plotBorder,seriesGroup,clipRect,credits,pointer,scroller,rangeSelector,legend,resetZoomButton,tooltip,renderer".split(","),function(b){var c=a[b];c&&c.destroy&&(a[b]=c.destroy());});if(d)d.innerHTML="",X(d),f&&Qa(d);for(e in a)delete a[e];},isReadyToRender:function(){var a=this;return !ba&&G==G.top&&x.readyState!=="complete"||ga&&!G.canvg?(ga?Mb.push(function(){a.firstRender();},a.options.global.canvasToolsURL):x.attachEvent("onreadystatechange",function(){x.detachEvent("onreadystatechange",a.firstRender);x.readyState==="complete"&&a.firstRender();}),!1):!0;},firstRender:function(){var a=this,b=a.options,c=a.callback;if(a.isReadyToRender()){a.getContainer();I(a,"init");a.resetMargins();a.setChartSize();a.propFromSeries();a.getAxes();q(b.series||[],function(b){a.initSeries(b);});a.linkSeries();I(a,"beforeRender");if(K.Pointer)a.pointer=new Wa(a,b);a.render();a.renderer.draw();c&&c.apply(a,[a]);q(a.callbacks,function(b){b.apply(a,[a]);});a.cloneRenderTo(!0);I(a,"load");}},splashArray:function(a,b){var c=b[a],c=da(c)?c:[c,c,c,c];return [p(b[a+"Top"],c[0]),p(b[a+"Right"],c[1]),p(b[a+"Bottom"],c[2]),p(b[a+"Left"],c[3])];}};Ya.prototype.callbacks=[];Z=K.CenteredSeriesMixin={getCenter:function(){var a=this.options,b=this.chart,c=2*(a.slicedOffset||0),d,e=b.plotWidth-2*c,f=b.plotHeight-2*c,b=a.center,a=[p(b[0],"50%"),p(b[1],"50%"),a.size||"100%",a.innerSize||0],g=L(e,f),h;return Va(a,function(a,b){h=/%$/.test(a);d=b<2||b===2&&h;return (h?[e,f,g,g][b]*y(a)/100:a)+(d?c:0);});}};var Fa=function(){};Fa.prototype={init:function(a,b,c){this.series=a;this.applyOptions(b,c);this.pointAttr={};if(a.options.colorByPoint&&(b=a.options.colors||a.chart.options.colors,this.color=this.color||b[a.colorCounter++],a.colorCounter===b.length))a.colorCounter=0;a.chart.pointCount++;return this;},applyOptions:function(a,b){var c=this.series,d=c.options.pointValKey||c.pointValKey,a=Fa.prototype.optionsToObject.call(this,a);r(this,a);this.options=this.options?r(this.options,a):a;if(d)this.y=this[d];if(this.x===u&&c)this.x=b===u?c.autoIncrement():b;return this;},optionsToObject:function(a){var b={},c=this.series,d=c.pointArrayMap||["y"],e=d.length,f=0,g=0;if(typeof a==="number"||a===null)b[d[0]]=a;else if(Ha(a)){if(a.length>e){c=typeof a[0];if(c==="string")b.name=a[0];else{if(c==="number")b.x=a[0];}f++;}for(;g<e;)b[d[g++]]=a[f++];}else{if(typeof a==="object"){b=a;if(a.dataLabels)c._hasPointLabels=!0;if(a.marker)c._hasPointMarkers=!0;}}return b;},destroy:function(){var a=this.series.chart,b=a.hoverPoints,c;a.pointCount--;if(b&&(this.setState(),la(b,this),!b.length))a.hoverPoints=null;if(this===a.hoverPoint)this.onMouseOut();if(this.graphic||this.dataLabel)X(this),this.destroyElements();this.legendItem&&a.legend.destroyItem(this);for(c in this)this[c]=null;},destroyElements:function(){for(var a="graphic,dataLabel,dataLabelUpper,group,connector,shadowGroup".split(","),b,c=6;c--;)b=a[c],this[b]&&(this[b]=this[b].destroy());},getLabelConfig:function(){return {x:this.category,y:this.y,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal};},tooltipFormatter:function(a){var b=this.series,c=b.tooltipOptions,d=p(c.valueDecimals,""),e=c.valuePrefix||"",f=c.valueSuffix||"";q(b.pointArrayMap||["y"],function(b){b="{point."+b;if(e||f)a=a.replace(b+"}",e+b+"}"+f);a=a.replace(b+"}",b+":,."+d+"f}");});return Ja(a,{point:this,series:this.series});},firePointEvent:function(a,b,c){var d=this,e=this.series.options;(e.point.events[a]||d.options&&d.options.events&&d.options.events[a])&&this.importEvents();a==="click"&&e.allowPointSelect&&(c=function(a){d.select(null,a.ctrlKey||a.metaKey||a.shiftKey);});I(this,a,b,c);}};var O=function(){};O.prototype={isCartesian:!0,type:"line",pointClass:Fa,sorted:!0,requireSorting:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],init:function(a,b){var c=this,d,e,f=a.series,g=function(a,b){return p(a.options.index,a._i)-p(b.options.index,b._i);};c.chart=a;c.options=b=c.setOptions(b);c.linkedSeries=[];c.bindAxes();r(c,{name:b.name,state:"",pointAttr:{},visible:b.visible!==!1,selected:b.selected===!0});if(ga)b.animation=!1;e=b.events;for(d in e)N(c,d,e[d]);if(e&&e.click||b.point&&b.point.events&&b.point.events.click||b.allowPointSelect)a.runTrackerClick=!0;c.getColor();c.getSymbol();q(c.parallelArrays,function(a){c[a+"Data"]=[];});c.setData(b.data,!1);if(c.isCartesian)a.hasCartesianSeries=!0;f.push(c);c._i=f.length-1;ob(f,g);this.yAxis&&ob(this.yAxis.series,g);q(f,function(a,b){a.index=b;a.name=a.name||"Series "+(b+1);});},bindAxes:function(){var a=this,b=a.options,c=a.chart,d;q(a.axisTypes||[],function(e){q(c[e],function(c){d=c.options;if(b[e]===d.index||b[e]!==u&&b[e]===d.id||b[e]===u&&d.index===0)c.series.push(a),a[e]=c,c.isDirty=!0;});!a[e]&&a.optionalAxis!==e&&ha(18,!0);});},updateParallelArrays:function(a,b){var c=a.series,d=arguments;q(c.parallelArrays,typeof b==="number"?function(d){var f=d==="y"&&c.toYData?c.toYData(a):a[d];c[d+"Data"][b]=f;}:function(a){Array.prototype[b].apply(c[a+"Data"],Array.prototype.slice.call(d,2));});},autoIncrement:function(){var a=this.options,b=this.xIncrement,b=p(b,a.pointStart,0);this.pointInterval=p(this.pointInterval,a.pointInterval,1);this.xIncrement=b+this.pointInterval;return b;},getSegments:function(){var a=-1,b=[],c,d=this.points,e=d.length;if(e)if(this.options.connectNulls){for(c=e;c--;)d[c].y===null&&d.splice(c,1);d.length&&(b=[d]);}else q(d,function(c,g){c.y===null?(g>a+1&&b.push(d.slice(a+1,g)),a=g):g===e-1&&b.push(d.slice(a+1,g+1));});this.segments=b;},setOptions:function(a){var b=this.chart,c=b.options.plotOptions,b=b.userOptions||{},d=b.plotOptions||{},e=c[this.type];this.userOptions=a;c=w(e,c.series,a);this.tooltipOptions=w(E.tooltip,E.plotOptions[this.type].tooltip,b.tooltip,d.series&&d.series.tooltip,d[this.type]&&d[this.type].tooltip,a.tooltip);e.marker===null&&delete c.marker;return c;},getCyclic:function(a,b,c){var d=this.userOptions,e="_"+a+"Index",f=a+"Counter";b||(s(d[e])?b=d[e]:(d[e]=b=this.chart[f]%c.length,this.chart[f]+=1),b=c[b]);this[a]=b;},getColor:function(){this.options.colorByPoint||this.getCyclic("color",this.options.color||ca[this.type].color,this.chart.options.colors);},getSymbol:function(){var a=this.options.marker;this.getCyclic("symbol",a.symbol,this.chart.options.symbols);if(/^url/.test(this.symbol))a.radius=0;},drawLegendSymbol:M.drawLineMarker,setData:function(a,b,c,d){var e=this,f=e.points,g=f&&f.length||0,h,i=e.options,j=e.chart,k=null,l=e.xAxis,n=l&&!!l.categories,m=e.tooltipPoints,o=i.turboThreshold,r=this.xData,t=this.yData,s=(h=e.pointArrayMap)&&h.length,a=a||[];h=a.length;b=p(b,!0);if(d!==!1&&h&&g===h&&!e.cropped&&!e.hasGroupedData)q(a,function(a,b){f[b].update(a,!1,null,!1);});else{e.xIncrement=null;e.pointRange=n?1:i.pointRange;e.colorCounter=0;q(this.parallelArrays,function(a){e[a+"Data"].length=0;});if(o&&h>o){for(c=0;k===null&&c<h;)k=a[c],c++;if(ja(k)){n=p(i.pointStart,0);i=p(i.pointInterval,1);for(c=0;c<h;c++)r[c]=n,t[c]=a[c],n+=i;e.xIncrement=n;}else if(Ha(k))if(s)for(c=0;c<h;c++)i=a[c],r[c]=i[0],t[c]=i.slice(1,s+1);else for(c=0;c<h;c++)i=a[c],r[c]=i[0],t[c]=i[1];else ha(12);}else{for(c=0;c<h;c++)if(a[c]!==u&&(i={series:e},e.pointClass.prototype.applyOptions.apply(i,[a[c]]),e.updateParallelArrays(i,c),n&&i.name))l.names[i.x]=i.name;}Ga(t[0])&&ha(14,!0);e.data=[];e.options.data=a;for(c=g;c--;)f[c]&&f[c].destroy&&f[c].destroy();if(m)m.length=0;if(l)l.minRange=l.userMinRange;e.isDirty=e.isDirtyData=j.isDirtyBox=!0;c=!1;}b&&j.redraw(c);},processData:function(a){var b=this.xData,c=this.yData,d=b.length,e;e=0;var f,g,h=this.xAxis,i,j=this.options;i=j.cropThreshold;var k=0,l=this.isCartesian,n,m;if(l&&!this.isDirty&&!h.isDirty&&!this.yAxis.isDirty&&!a)return !1;if(h)n=h.getExtremes(),m=n.min,n=n.max;if(l&&this.sorted&&(!i||d>i||this.forceCrop))if(b[d-1]<m||b[0]>n)b=[],c=[];else{if(b[0]<m||b[d-1]>n)e=this.cropData(this.xData,this.yData,m,n),b=e.xData,c=e.yData,e=e.start,f=!0,k=b.length;}for(i=b.length-1;i>=0;i--)d=b[i]-b[i-1],!f&&b[i]>m&&b[i]<n&&k++,d>0&&(g===u||d<g)?g=d:d<0&&this.requireSorting&&ha(15);this.cropped=f;this.cropStart=e;this.processedXData=b;this.processedYData=c;this.activePointCount=k;if(j.pointRange===null)this.pointRange=g||1;this.closestPointRange=g;},cropData:function(a,b,c,d){var e=a.length,f=0,g=e,h=p(this.cropShoulder,1),i;for(i=0;i<e;i++)if(a[i]>=c){f=t(0,i-h);break;}for(;i<e;i++)if(a[i]>d){g=i+h;break;}return {xData:a.slice(f,g),yData:b.slice(f,g),start:f,end:g};},generatePoints:function(){var a=this.options.data,b=this.data,c,d=this.processedXData,e=this.processedYData,f=this.pointClass,g=d.length,h=this.cropStart||0,i,j=this.hasGroupedData,k,l=[],n;if(!b&&!j)b=[],b.length=a.length,b=this.data=b;for(n=0;n<g;n++)i=h+n,j?l[n]=(new f()).init(this,[d[n]].concat(ra(e[n]))):(b[i]?k=b[i]:a[i]!==u&&(b[i]=k=(new f()).init(this,a[i],d[n])),l[n]=k),l[n].index=i;if(b&&(g!==(c=b.length)||j))for(n=0;n<c;n++)if(n===h&&!j&&(n+=g),b[n])b[n].destroyElements(),b[n].plotX=u;this.data=b;this.points=l;},getExtremes:function(a){var b=this.yAxis,c=this.processedXData,d,e=[],f=0;d=this.xAxis.getExtremes();var g=d.min,h=d.max,i,j,k,l,a=a||this.stackedYData||this.processedYData;d=a.length;for(l=0;l<d;l++)if(j=c[l],k=a[l],i=k!==null&&k!==u&&(!b.isLog||k.length||k>0),j=this.getExtremesFromAll||this.cropped||(c[l+1]||j)>=g&&(c[l-1]||j)<=h,i&&j)if(i=k.length)for(;i--;)k[i]!==null&&(e[f++]=k[i]);else e[f++]=k;this.dataMin=p(void 0,Oa(e));this.dataMax=p(void 0,Ca(e));},translate:function(){this.processedXData||this.processData();this.generatePoints();for(var a=this.options,b=a.stacking,c=this.xAxis,d=c.categories,e=this.yAxis,f=this.points,g=f.length,h=!!this.modifyValue,i=a.pointPlacement,j=i==="between"||ja(i),k=a.threshold,a=0;a<g;a++){var l=f[a],n=l.x,m=l.y,o=l.low,q=b&&e.stacks[(this.negStacks&&m<k?"-":"")+this.stackKey];if(e.isLog&&m<=0)l.y=m=null,ha(10);l.plotX=c.translate(n,0,0,0,1,i,this.type==="flags");if(b&&this.visible&&q&&q[n])q=q[n],m=q.points[this.index+","+a],o=m[0],m=m[1],o===0&&(o=p(k,e.min)),e.isLog&&o<=0&&(o=null),l.total=l.stackTotal=q.total,l.percentage=q.total&&l.y/q.total*100,l.stackY=m,q.setOffset(this.pointXOffset||0,this.barW||0);l.yBottom=s(o)?e.translate(o,0,1,0,1):null;h&&(m=this.modifyValue(m,l));l.plotY=typeof m==="number"&&m!==Infinity?e.translate(m,0,1,0,1):u;l.clientX=j?c.translate(n,0,0,0,1):l.plotX;l.negative=l.y<(k||0);l.category=d&&d[l.x]!==u?d[l.x]:l.x;}this.getSegments();},animate:function(a){var b=this.chart,c=b.renderer,d;d=this.options.animation;var e=this.clipBox||b.clipBox,f=b.inverted,g;if(d&&!da(d))d=ca[this.type].animation;g=["_sharedClip",d.duration,d.easing,e.height].join(",");a?(a=b[g],d=b[g+"m"],a||(b[g]=a=c.clipRect(r(e,{width:0})),b[g+"m"]=d=c.clipRect(-99,f?-b.plotLeft:-b.plotTop,99,f?b.chartWidth:b.chartHeight)),this.group.clip(a),this.markerGroup.clip(d),this.sharedClipKey=g):((a=b[g])&&a.animate({width:b.plotSizeX},d),b[g+"m"]&&b[g+"m"].animate({width:b.plotSizeX+99},d),this.animate=null);},afterAnimate:function(){var a=this.chart,b=this.sharedClipKey,c=this.group,d=this.clipBox;if(c&&this.options.clip!==!1){if(!b||!d)c.clip(d?a.renderer.clipRect(d):a.clipRect);this.markerGroup.clip();}I(this,"afterAnimate");setTimeout(function(){b&&a[b]&&(d||(a[b]=a[b].destroy()),a[b+"m"]&&(a[b+"m"]=a[b+"m"].destroy()));},100);},drawPoints:function(){var a,b=this.points,c=this.chart,d,e,f,g,h,i,j,k,l=this.options.marker,n=this.pointAttr[""],m,o,q,t=this.markerGroup,s=p(l.enabled,!this.requireSorting||this.activePointCount<0.5*this.xAxis.len/l.radius);if(l.enabled!==!1||this._hasPointMarkers)for(f=b.length;f--;)if(g=b[f],d=U(g.plotX),e=g.plotY,k=g.graphic,m=g.marker||{},o=!!g.marker,a=s&&m.enabled===u||m.enabled,q=c.isInsidePlot(v(d),e,c.inverted),a&&e!==u&&!isNaN(e)&&g.y!==null)if(a=g.pointAttr[g.selected?"select":""]||n,h=a.r,i=p(m.symbol,this.symbol),j=i.indexOf("url")===0,k)k[q?"show":"hide"](!0).animate(r({x:d-h,y:e-h},k.symbolName?{width:2*h,height:2*h}:{}));else{if(q&&(h>0||j))g.graphic=c.renderer.symbol(i,d-h,e-h,2*h,2*h,o?m:l).attr(a).add(t);}else{if(k)g.graphic=k.destroy();}},convertAttribs:function(a,b,c,d){var e=this.pointAttrToOptions,f,g,h={},a=a||{},b=b||{},c=c||{},d=d||{};for(f in e)g=e[f],h[f]=p(a[g],b[f],c[f],d[f]);return h;},getAttribs:function(){var a=this,b=a.options,c=ca[a.type].marker?b.marker:b,d=c.states,e=d.hover,f,g=a.color;f={stroke:g,fill:g};var h=a.points||[],i,j=[],k,l=a.pointAttrToOptions;k=a.hasPointSpecificOptions;var n=b.negativeColor,m=c.lineColor,o=c.fillColor;i=b.turboThreshold;var p;b.marker?(e.radius=e.radius||c.radius+e.radiusPlus,e.lineWidth=e.lineWidth||c.lineWidth+e.lineWidthPlus):e.color=e.color||ya(e.color||g).brighten(e.brightness).get();j[""]=a.convertAttribs(c,f);q(["hover","select"],function(b){j[b]=a.convertAttribs(d[b],j[""]);});a.pointAttr=j;g=h.length;if(!i||g<i||k)for(;g--;){i=h[g];if((c=i.options&&i.options.marker||i.options)&&c.enabled===!1)c.radius=0;if(i.negative&&n)i.color=i.fillColor=n;k=b.colorByPoint||i.color;if(i.options)for(p in l)s(c[l[p]])&&(k=!0);if(k){c=c||{};k=[];d=c.states||{};f=d.hover=d.hover||{};if(!b.marker)f.color=f.color||!i.options.color&&e.color||ya(i.color).brighten(f.brightness||e.brightness).get();f={color:i.color};if(!o)f.fillColor=i.color;if(!m)f.lineColor=i.color;k[""]=a.convertAttribs(r(f,c),j[""]);k.hover=a.convertAttribs(d.hover,j.hover,k[""]);k.select=a.convertAttribs(d.select,j.select,k[""]);}else k=j;i.pointAttr=k;}},destroy:function(){var a=this,b=a.chart,c=/AppleWebKit\/533/.test(wa),d,e,f=a.data||[],g,h,i;I(a,"destroy");X(a);q(a.axisTypes||[],function(b){if(i=a[b])la(i.series,a),i.isDirty=i.forceRedraw=!0;});a.legendItem&&a.chart.legend.destroyItem(a);for(e=f.length;e--;)(g=f[e])&&g.destroy&&g.destroy();a.points=null;clearTimeout(a.animationTimeout);q("area,graph,dataLabelsGroup,group,markerGroup,tracker,graphNeg,areaNeg,posClip,negClip".split(","),function(b){a[b]&&(d=c&&b==="group"?"hide":"destroy",a[b][d]());});if(b.hoverSeries===a)b.hoverSeries=null;la(b.series,a);for(h in a)delete a[h];},getSegmentPath:function(a){var b=this,c=[],d=b.options.step;q(a,function(e,f){var g=e.plotX,h=e.plotY,i;b.getPointSpline?c.push.apply(c,b.getPointSpline(a,e,f)):(c.push(f?"L":"M"),d&&f&&(i=a[f-1],d==="right"?c.push(i.plotX,h):d==="center"?c.push((i.plotX+g)/2,i.plotY,(i.plotX+g)/2,h):c.push(g,i.plotY)),c.push(e.plotX,e.plotY));});return c;},getGraphPath:function(){var a=this,b=[],c,d=[];q(a.segments,function(e){c=a.getSegmentPath(e);e.length>1?b=b.concat(c):d.push(e[0]);});a.singlePoints=d;return a.graphPath=b;},drawGraph:function(){var a=this,b=this.options,c=[["graph",b.lineColor||this.color]],d=b.lineWidth,e=b.dashStyle,f=b.linecap!=="square",g=this.getGraphPath(),h=b.negativeColor;h&&c.push(["graphNeg",h]);q(c,function(c,h){var k=c[0],l=a[k];if(l)bb(l),l.animate({d:g});else{if(d&&g.length)l={stroke:c[1],"stroke-width":d,fill:P,zIndex:1},e?l.dashstyle=e:f&&(l["stroke-linecap"]=l["stroke-linejoin"]="round"),a[k]=a.chart.renderer.path(g).attr(l).add(a.group).shadow(!h&&b.shadow);}});},clipNeg:function(){var a=this.options,b=this.chart,c=b.renderer,d=a.negativeColor||a.negativeFillColor,e,f=this.graph,g=this.area,h=this.posClip,i=this.negClip;e=b.chartWidth;var j=b.chartHeight,k=t(e,j),l=this.yAxis;if(d&&(f||g)){d=v(l.toPixels(a.threshold||0,!0));d<0&&(k-=d);a={x:0,y:0,width:k,height:d};k={x:0,y:d,width:k,height:k};if(b.inverted)a.height=k.y=b.plotWidth-d,c.isVML&&(a={x:b.plotWidth-d-b.plotLeft,y:0,width:e,height:j},k={x:d+b.plotLeft-e,y:0,width:b.plotLeft+d,height:e});l.reversed?(b=k,e=a):(b=a,e=k);h?(h.animate(b),i.animate(e)):(this.posClip=h=c.clipRect(b),this.negClip=i=c.clipRect(e),f&&this.graphNeg&&(f.clip(h),this.graphNeg.clip(i)),g&&(g.clip(h),this.areaNeg.clip(i)));}},invertGroups:function(){function a(){var a={width:b.yAxis.len,height:b.xAxis.len};q(["group","markerGroup"],function(c){b[c]&&b[c].attr(a).invert();});}var b=this,c=b.chart;if(b.xAxis)N(c,"resize",a),N(b,"destroy",function(){X(c,"resize",a);}),a(),b.invertGroups=a;},plotGroup:function(a,b,c,d,e){var f=this[a],g=!f;g&&(this[a]=f=this.chart.renderer.g(b).attr({visibility:c,zIndex:d||0.1}).add(e));f[g?"attr":"animate"](this.getPlotBox());return f;},getPlotBox:function(){var a=this.chart,b=this.xAxis,c=this.yAxis;if(a.inverted)b=c,c=this.xAxis;return {translateX:b?b.left:a.plotLeft,translateY:c?c.top:a.plotTop,scaleX:1,scaleY:1};},render:function(){var a=this,b=a.chart,c,d=a.options,e=(c=d.animation)&&!!a.animate&&b.renderer.isSVG&&p(c.duration,500)||0,f=a.visible?"visible":"hidden",g=d.zIndex,h=a.hasRendered,i=b.seriesGroup;c=a.plotGroup("group","series",f,g,i);a.markerGroup=a.plotGroup("markerGroup","markers",f,g,i);e&&a.animate(!0);a.getAttribs();c.inverted=a.isCartesian?b.inverted:!1;a.drawGraph&&(a.drawGraph(),a.clipNeg());q(a.points,function(a){a.redraw&&a.redraw();});a.drawDataLabels&&a.drawDataLabels();a.visible&&a.drawPoints();a.drawTracker&&a.options.enableMouseTracking!==!1&&a.drawTracker();b.inverted&&a.invertGroups();d.clip!==!1&&!a.sharedClipKey&&!h&&c.clip(b.clipRect);e&&a.animate();if(!h)e?a.animationTimeout=setTimeout(function(){a.afterAnimate();},e):a.afterAnimate();a.isDirty=a.isDirtyData=!1;a.hasRendered=!0;},redraw:function(){var a=this.chart,b=this.isDirtyData,c=this.group,d=this.xAxis,e=this.yAxis;c&&(a.inverted&&c.attr({width:a.plotWidth,height:a.plotHeight}),c.animate({translateX:p(d&&d.left,a.plotLeft),translateY:p(e&&e.top,a.plotTop)}));this.translate();this.setTooltipPoints&&this.setTooltipPoints(!0);this.render();b&&I(this,"updatedData");}};Gb.prototype={destroy:function(){Pa(this,this.axis);},render:function(a){var b=this.options,c=b.format,c=c?Ja(c,this):b.formatter.call(this);this.label?this.label.attr({text:c,visibility:"hidden"}):this.label=this.axis.chart.renderer.text(c,null,null,b.useHTML).css(b.style).attr({align:this.textAlign,rotation:b.rotation,visibility:"hidden"}).add(a);},setOffset:function(a,b){var c=this.axis,d=c.chart,e=d.inverted,f=this.isNegative,g=c.translate(c.usePercentage?100:this.total,0,0,0,1),c=c.translate(0),c=Q(g-c),h=d.xAxis[0].translate(this.x)+a,i=d.plotHeight,f={x:e?f?g:g-c:h,y:e?i-h-b:f?i-g-c:i-g,width:e?c:b,height:e?b:c};if(e=this.label)e.align(this.alignOptions,null,f),f=e.alignAttr,e[this.options.crop===!1||d.isInsidePlot(f.x,f.y)?"show":"hide"](!0);}};na.prototype.buildStacks=function(){var a=this.series,b=p(this.options.reversedStacks,!0),c=a.length;if(!this.isXAxis){for(this.usePercentage=!1;c--;)a[b?c:a.length-c-1].setStackedPoints();if(this.usePercentage)for(c=0;c<a.length;c++)a[c].setPercentStacks();}};na.prototype.renderStackTotals=function(){var a=this.chart,b=a.renderer,c=this.stacks,d,e,f=this.stackTotalGroup;if(!f)this.stackTotalGroup=f=b.g("stack-labels").attr({visibility:"visible",zIndex:6}).add();f.translate(a.plotLeft,a.plotTop);for(d in c)for(e in a=c[d],a)a[e].render(f);};O.prototype.setStackedPoints=function(){if(this.options.stacking&&!(this.visible!==!0&&this.chart.options.chart.ignoreHiddenSeries!==!1)){var a=this.processedXData,b=this.processedYData,c=[],d=b.length,e=this.options,f=e.threshold,g=e.stack,e=e.stacking,h=this.stackKey,i="-"+h,j=this.negStacks,k=this.yAxis,l=k.stacks,n=k.oldStacks,m,o,p,q,r,s;for(q=0;q<d;q++){r=a[q];s=b[q];p=this.index+","+q;o=(m=j&&s<f)?i:h;l[o]||(l[o]={});if(!l[o][r])n[o]&&n[o][r]?(l[o][r]=n[o][r],l[o][r].total=null):l[o][r]=new Gb(k,k.options.stackLabels,m,r,g);o=l[o][r];o.points[p]=[o.cum||0];e==="percent"?(m=m?h:i,j&&l[m]&&l[m][r]?(m=l[m][r],o.total=m.total=t(m.total,o.total)+Q(s)||0):o.total=ea(o.total+(Q(s)||0))):o.total=ea(o.total+(s||0));o.cum=(o.cum||0)+(s||0);o.points[p].push(o.cum);c[q]=o.cum;}if(e==="percent")k.usePercentage=!0;this.stackedYData=c;k.oldStacks={};}};O.prototype.setPercentStacks=function(){var a=this,b=a.stackKey,c=a.yAxis.stacks,d=a.processedXData;q([b,"-"+b],function(b){var e;for(var f=d.length,g,h;f--;)if(g=d[f],e=(h=c[b]&&c[b][g])&&h.points[a.index+","+f],g=e)h=h.total?100/h.total:0,g[0]=ea(g[0]*h),g[1]=ea(g[1]*h),a.stackedYData[f]=g[1];});};r(Ya.prototype,{addSeries:function(a,b,c){var d,e=this;a&&(b=p(b,!0),I(e,"addSeries",{options:a},function(){d=e.initSeries(a);e.isDirtyLegend=!0;e.linkSeries();b&&e.redraw(c);}));return d;},addAxis:function(a,b,c,d){var e=b?"xAxis":"yAxis",f=this.options;new na(this,w(a,{index:this[e].length,isX:b}));f[e]=ra(f[e]||{});f[e].push(a);p(c,!0)&&this.redraw(d);},showLoading:function(a){var b=this,c=b.options,d=b.loadingDiv,e=c.loading,f=function(){d&&B(d,{left:b.plotLeft+"px",top:b.plotTop+"px",width:b.plotWidth+"px",height:b.plotHeight+"px"});};if(!d)b.loadingDiv=d=$(Ka,{className:"highcharts-loading"},r(e.style,{zIndex:10,display:P}),b.container),b.loadingSpan=$("span",null,e.labelStyle,d),N(b,"redraw",f);b.loadingSpan.innerHTML=a||c.lang.loading;if(!b.loadingShown)B(d,{opacity:0,display:""}),jb(d,{opacity:e.style.opacity},{duration:e.showDuration||0}),b.loadingShown=!0;f();},hideLoading:function(){var a=this.options,b=this.loadingDiv;b&&jb(b,{opacity:0},{duration:a.loading.hideDuration||100,complete:function(){B(b,{display:P});}});this.loadingShown=!1;}});r(Fa.prototype,{update:function(a,b,c,d){function e(){f.applyOptions(a);if(da(a)&&!Ha(a))f.redraw=function(){if(h)a&&a.marker&&a.marker.symbol?f.graphic=h.destroy():h.attr(f.pointAttr[f.state||""]);if(a&&a.dataLabels&&f.dataLabel)f.dataLabel=f.dataLabel.destroy();f.redraw=null;};i=f.index;g.updateParallelArrays(f,i);k.data[i]=f.options;g.isDirty=g.isDirtyData=!0;if(!g.fixedBox&&g.hasCartesianSeries)j.isDirtyBox=!0;k.legendType==="point"&&j.legend.destroyItem(f);b&&j.redraw(c);}var f=this,g=f.series,h=f.graphic,i,j=g.chart,k=g.options,b=p(b,!0);d===!1?e():f.firePointEvent("update",{options:a},e);},remove:function(a,b){var c=this,d=c.series,e=d.points,f=d.chart,g,h=d.data;Ra(b,f);a=p(a,!0);c.firePointEvent("remove",null,function(){g=Ma(c,h);h.length===e.length&&e.splice(g,1);h.splice(g,1);d.options.data.splice(g,1);d.updateParallelArrays(c,"splice",g,1);c.destroy();d.isDirty=!0;d.isDirtyData=!0;a&&f.redraw();});}});r(O.prototype,{addPoint:function(a,b,c,d){var e=this.options,f=this.data,g=this.graph,h=this.area,i=this.chart,j=this.xAxis&&this.xAxis.names,k=g&&g.shift||0,l=e.data,n,m=this.xData;Ra(d,i);c&&q([g,h,this.graphNeg,this.areaNeg],function(a){if(a)a.shift=k+1;});if(h)h.isArea=!0;b=p(b,!0);d={series:this};this.pointClass.prototype.applyOptions.apply(d,[a]);g=d.x;h=m.length;if(this.requireSorting&&g<m[h-1])for(n=!0;h&&m[h-1]>g;)h--;this.updateParallelArrays(d,"splice",h,0,0);this.updateParallelArrays(d,h);if(j&&d.name)j[g]=d.name;l.splice(h,0,a);n&&(this.data.splice(h,0,null),this.processData());e.legendType==="point"&&this.generatePoints();c&&(f[0]&&f[0].remove?f[0].remove(!1):(f.shift(),this.updateParallelArrays(d,"shift"),l.shift()));this.isDirtyData=this.isDirty=!0;b&&(this.getAttribs(),i.redraw());},remove:function(a,b){var c=this,d=c.chart,a=p(a,!0);if(!c.isRemoving)c.isRemoving=!0,I(c,"remove",null,function(){c.destroy();d.isDirtyLegend=d.isDirtyBox=!0;d.linkSeries();a&&d.redraw(b);});c.isRemoving=!1;},update:function(a,b){var c=this,d=this.chart,e=this.userOptions,f=this.type,g=H[f].prototype,h=["group","markerGroup","dataLabelsGroup"],i;q(h,function(a){h[a]=c[a];delete c[a];});a=w(e,{animation:!1,index:this.index,pointStart:this.xData[0]},{data:this.options.data},a);this.remove(!1);for(i in g)g.hasOwnProperty(i)&&(this[i]=u);r(this,H[a.type||f].prototype);q(h,function(a){c[a]=h[a];});this.init(d,a);d.linkSeries();p(b,!0)&&d.redraw(!1);}});r(na.prototype,{update:function(a,b){var c=this.chart,a=c.options[this.coll][this.options.index]=w(this.userOptions,a);this.destroy(!0);this._addedPlotLB=u;this.init(c,r(a,{events:u}));c.isDirtyBox=!0;p(b,!0)&&c.redraw();},remove:function(a){for(var b=this.chart,c=this.coll,d=this.series,e=d.length;e--;)d[e]&&d[e].remove(!1);la(b.axes,this);la(b[c],this);b.options[c].splice(this.options.index,1);q(b[c],function(a,b){a.options.index=b;});this.destroy();b.isDirtyBox=!0;p(a,!0)&&b.redraw();},setTitle:function(a,b){this.update({title:a},b);},setCategories:function(a,b){this.update({categories:a},b);}});ia=ma(O);H.line=ia;ca.area=w(T,{threshold:0});var qa=ma(O,{type:"area",getSegments:function(){var a=this,b=[],c=[],d=[],e=this.xAxis,f=this.yAxis,g=f.stacks[this.stackKey],h={},i,j,k=this.points,l=this.options.connectNulls,n,m;if(this.options.stacking&&!this.cropped){for(n=0;n<k.length;n++)h[k[n].x]=k[n];for(m in g)g[m].total!==null&&d.push(+m);d.sort(function(a,b){return a-b;});q(d,function(b){var d=0,k;if(!l||h[b]&&h[b].y!==null)if(h[b])c.push(h[b]);else{for(n=a.index;n<=f.series.length;n++)if(k=g[b].points[n+","+b]){d=k[1];break;}i=e.translate(b);j=f.toPixels(d,!0);c.push({y:null,plotX:i,clientX:i,plotY:j,yBottom:j,onMouseOver:sa});}});c.length&&b.push(c);}else O.prototype.getSegments.call(this),b=this.segments;this.segments=b;},getSegmentPath:function(a){var b=O.prototype.getSegmentPath.call(this,a),c=[].concat(b),d,e=this.options;d=b.length;var f=this.yAxis.getThreshold(e.threshold),g;d===3&&c.push("L",b[1],b[2]);if(e.stacking&&!this.closedStacks)for(d=a.length-1;d>=0;d--)g=p(a[d].yBottom,f),d<a.length-1&&e.step&&c.push(a[d+1].plotX,g),c.push(a[d].plotX,g);else this.closeSegment(c,a,f);this.areaPath=this.areaPath.concat(c);return b;},closeSegment:function(a,b,c){a.push("L",b[b.length-1].plotX,c,"L",b[0].plotX,c);},drawGraph:function(){this.areaPath=[];O.prototype.drawGraph.apply(this);var a=this,b=this.areaPath,c=this.options,d=c.negativeColor,e=c.negativeFillColor,f=[["area",this.color,c.fillColor]];(d||e)&&f.push(["areaNeg",d,e]);q(f,function(d){var e=d[0],f=a[e];f?f.animate({d:b}):a[e]=a.chart.renderer.path(b).attr({fill:p(d[2],ya(d[1]).setOpacity(p(c.fillOpacity,0.75)).get()),zIndex:0}).add(a.group);});},drawLegendSymbol:M.drawRectangle});H.area=qa;ca.spline=w(T);ia=ma(O,{type:"spline",getPointSpline:function(a,b,c){var d=b.plotX,e=b.plotY,f=a[c-1],g=a[c+1],h,i,j,k;if(f&&g){a=f.plotY;j=g.plotX;var g=g.plotY,l;h=(1.5*d+f.plotX)/2.5;i=(1.5*e+a)/2.5;j=(1.5*d+j)/2.5;k=(1.5*e+g)/2.5;l=(k-i)*(j-d)/(j-h)+e-k;i+=l;k+=l;i>a&&i>e?(i=t(a,e),k=2*e-i):i<a&&i<e&&(i=L(a,e),k=2*e-i);k>g&&k>e?(k=t(g,e),i=2*e-k):k<g&&k<e&&(k=L(g,e),i=2*e-k);b.rightContX=j;b.rightContY=k;}c?(b=["C",f.rightContX||f.plotX,f.rightContY||f.plotY,h||d,i||e,d,e],f.rightContX=f.rightContY=null):b=["M",d,e];return b;}});H.spline=ia;ca.areaspline=w(ca.area);qa=qa.prototype;ia=ma(ia,{type:"areaspline",closedStacks:!0,getSegmentPath:qa.getSegmentPath,closeSegment:qa.closeSegment,drawGraph:qa.drawGraph,drawLegendSymbol:M.drawRectangle});H.areaspline=ia;ca.column=w(T,{borderColor:"#FFFFFF",borderRadius:0,groupPadding:0.2,marker:null,pointPadding:0.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:0.1,shadow:!1,halo:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},stickyTracking:!1,tooltip:{distance:6},threshold:0});ia=ma(O,{type:"column",pointAttrToOptions:{stroke:"borderColor",fill:"color",r:"borderRadius"},cropShoulder:0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){O.prototype.init.apply(this,arguments);var a=this,b=a.chart;b.hasRendered&&q(b.series,function(b){if(b.type===a.type)b.isDirty=!0;});},getColumnMetrics:function(){var a=this,b=a.options,c=a.xAxis,d=a.yAxis,e=c.reversed,f,g={},h,i=0;b.grouping===!1?i=1:q(a.chart.series,function(b){var c=b.options,e=b.yAxis;if(b.type===a.type&&b.visible&&d.len===e.len&&d.pos===e.pos)c.stacking?(f=b.stackKey,g[f]===u&&(g[f]=i++),h=g[f]):c.grouping!==!1&&(h=i++),b.columnIndex=h;});var c=L(Q(c.transA)*(c.ordinalSlope||b.pointRange||c.closestPointRange||c.tickInterval||1),c.len),j=c*b.groupPadding,k=(c-2*j)/i,l=b.pointWidth,b=s(l)?(k-l)/2:k*b.pointPadding,l=p(l,k-2*b);return a.columnMetrics={width:l,offset:b+(j+((e?i-(a.columnIndex||0):a.columnIndex)||0)*k-c/2)*(e?-1:1)};},translate:function(){var a=this,b=a.chart,c=a.options,d=a.borderWidth=p(c.borderWidth,a.activePointCount>0.5*a.xAxis.len?0:1),e=a.yAxis,f=a.translatedThreshold=e.getThreshold(c.threshold),g=p(c.minPointLength,5),h=a.getColumnMetrics(),i=h.width,j=a.barW=t(i,1+2*d),k=a.pointXOffset=h.offset,l=-(d%2?0.5:0),n=d%2?0.5:1;b.renderer.isVML&&b.inverted&&(n+=1);c.pointPadding&&(j=La(j));O.prototype.translate.apply(a);q(a.points,function(c){var d=p(c.yBottom,f),h=L(t(-999-d,c.plotY),e.len+999+d),q=c.plotX+k,r=j,s=L(h,d),u;u=t(h,d)-s;Q(u)<g&&g&&(u=g,s=v(Q(s-f)>g?d-g:f-(e.translate(c.y,0,1,0,1)<=f?g:0)));c.barX=q;c.pointWidth=i;c.tooltipPos=b.inverted?[e.len-h,a.xAxis.len-q-r/2]:[q+r/2,h+e.pos-b.plotTop];r=v(q+r)+l;q=v(q)+l;r-=q;d=Q(s)<0.5;u=v(s+u)+n;s=v(s)+n;u-=s;d&&(s-=1,u+=1);c.shapeType="rect";c.shapeArgs={x:q,y:s,width:r,height:u};});},getSymbol:sa,drawLegendSymbol:M.drawRectangle,drawGraph:sa,drawPoints:function(){var a=this,b=this.chart,c=a.options,d=b.renderer,e=c.animationLimit||250,f,g;q(a.points,function(h){var i=h.plotY,j=h.graphic;if(i!==u&&!isNaN(i)&&h.y!==null)f=h.shapeArgs,i=s(a.borderWidth)?{"stroke-width":a.borderWidth}:{},g=h.pointAttr[h.selected?"select":""]||a.pointAttr[""],j?(bb(j),j.attr(i)[b.pointCount<e?"animate":"attr"](w(f))):h.graphic=d[h.shapeType](f).attr(g).attr(i).add(a.group).shadow(c.shadow,null,c.stacking&&!c.borderRadius);else{if(j)h.graphic=j.destroy();}});},animate:function(a){var b=this.yAxis,c=this.options,d=this.chart.inverted,e={};if(ba)a?(e.scaleY=0.001,a=L(b.pos+b.len,t(b.pos,b.toPixels(c.threshold))),d?e.translateX=a-b.len:e.translateY=a,this.group.attr(e)):(e.scaleY=1,e[d?"translateX":"translateY"]=b.pos,this.group.animate(e,this.options.animation),this.animate=null);},remove:function(){var a=this,b=a.chart;b.hasRendered&&q(b.series,function(b){if(b.type===a.type)b.isDirty=!0;});O.prototype.remove.apply(a,arguments);}});H.column=ia;ca.bar=w(ca.column);qa=ma(ia,{type:"bar",inverted:!0});H.bar=qa;ca.scatter=w(T,{lineWidth:0,tooltip:{headerFormat:'<span style="color:{series.color}"></span> <span style="font-size: 10px;"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"},stickyTracking:!1});qa=ma(O,{type:"scatter",sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,singularTooltips:!0,drawGraph:function(){this.options.lineWidth&&O.prototype.drawGraph.call(this);}});H.scatter=qa;ca.pie=w(T,{borderColor:"#FFFFFF",borderWidth:1,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.point.name;}},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,states:{hover:{brightness:0.1,shadow:!1}},stickyTracking:!1,tooltip:{followPointer:!0}});T={type:"pie",isCartesian:!1,pointClass:ma(Fa,{init:function(){Fa.prototype.init.apply(this,arguments);var a=this,b;if(a.y<0)a.y=null;r(a,{visible:a.visible!==!1,name:p(a.name,"Slice")});b=function(b){a.slice(b.type==="select");};N(a,"select",b);N(a,"unselect",b);return a;},setVisible:function(a){var b=this,c=b.series,d=c.chart;b.visible=b.options.visible=a=a===u?!b.visible:a;c.options.data[Ma(b,c.data)]=b.options;q(["graphic","dataLabel","connector","shadowGroup"],function(c){if(b[c])b[c][a?"show":"hide"](!0);});b.legendItem&&d.legend.colorizeItem(b,a);if(!c.isDirty&&c.options.ignoreHiddenPoint)c.isDirty=!0,d.redraw();},slice:function(a,b,c){var d=this.series;Ra(c,d.chart);p(b,!0);this.sliced=this.options.sliced=a=s(a)?a:!this.sliced;d.options.data[Ma(this,d.data)]=this.options;a=a?this.slicedTranslation:{translateX:0,translateY:0};this.graphic.animate(a);this.shadowGroup&&this.shadowGroup.animate(a);},haloPath:function(a){var b=this.shapeArgs,c=this.series.chart;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(c.plotLeft+b.x,c.plotTop+b.y,b.r+a,b.r+a,{innerR:this.shapeArgs.r,start:b.start,end:b.end});}}),requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},singularTooltips:!0,getColor:sa,animate:function(a){var b=this,c=b.points,d=b.startAngleRad;if(!a)q(c,function(a){var c=a.graphic,a=a.shapeArgs;c&&(c.attr({r:b.center[3]/2,start:d,end:d}),c.animate({r:a.r,start:a.start,end:a.end},b.options.animation));}),b.animate=null;},setData:function(a,b,c,d){O.prototype.setData.call(this,a,!1,c,d);this.processData();this.generatePoints();p(b,!0)&&this.chart.redraw(c);},generatePoints:function(){var a,b=0,c,d,e,f=this.options.ignoreHiddenPoint;O.prototype.generatePoints.call(this);c=this.points;d=c.length;for(a=0;a<d;a++)e=c[a],b+=f&&!e.visible?0:e.y;this.total=b;for(a=0;a<d;a++)e=c[a],e.percentage=b>0?e.y/b*100:0,e.total=b;},translate:function(a){this.generatePoints();var b=0,c=this.options,d=c.slicedOffset,e=d+c.borderWidth,f,g,h,i=c.startAngle||0,j=this.startAngleRad=oa/180*(i-90),i=(this.endAngleRad=oa/180*(p(c.endAngle,i+360)-90))-j,k=this.points,l=c.dataLabels.distance,c=c.ignoreHiddenPoint,n,m=k.length,o;if(!a)this.center=a=this.getCenter();this.getX=function(b,c){h=V.asin(L((b-a[1])/(a[2]/2+l),1));return a[0]+(c?-1:1)*aa(h)*(a[2]/2+l);};for(n=0;n<m;n++){o=k[n];f=j+b*i;if(!c||o.visible)b+=o.percentage/100;g=j+b*i;o.shapeType="arc";o.shapeArgs={x:a[0],y:a[1],r:a[2]/2,innerR:a[3]/2,start:v(f*1E3)/1E3,end:v(g*1E3)/1E3};h=(g+f)/2;h>1.5*oa?h-=2*oa:h<-oa/2&&(h+=2*oa);o.slicedTranslation={translateX:v(aa(h)*d),translateY:v(fa(h)*d)};f=aa(h)*a[2]/2;g=fa(h)*a[2]/2;o.tooltipPos=[a[0]+f*0.7,a[1]+g*0.7];o.half=h<-oa/2||h>oa/2?1:0;o.angle=h;e=L(e,l/2);o.labelPos=[a[0]+f+aa(h)*l,a[1]+g+fa(h)*l,a[0]+f+aa(h)*e,a[1]+g+fa(h)*e,a[0]+f,a[1]+g,l<0?"center":o.half?"right":"left",h];}},drawGraph:null,drawPoints:function(){var a=this,b=a.chart.renderer,c,d,e=a.options.shadow,f,g;if(e&&!a.shadowGroup)a.shadowGroup=b.g("shadow").add(a.group);q(a.points,function(h){d=h.graphic;g=h.shapeArgs;f=h.shadowGroup;if(e&&!f)f=h.shadowGroup=b.g("shadow").add(a.shadowGroup);c=h.sliced?h.slicedTranslation:{translateX:0,translateY:0};f&&f.attr(c);d?d.animate(r(g,c)):h.graphic=d=b[h.shapeType](g).setRadialReference(a.center).attr(h.pointAttr[h.selected?"select":""]).attr({"stroke-linejoin":"round"}).attr(c).add(a.group).shadow(e,f);h.visible!==void 0&&h.setVisible(h.visible);});},sortByAngle:function(a,b){a.sort(function(a,d){return a.angle!==void 0&&(d.angle-a.angle)*b;});},drawLegendSymbol:M.drawRectangle,getCenter:Z.getCenter,getSymbol:sa};T=ma(O,T);H.pie=T;O.prototype.drawDataLabels=function(){var a=this,b=a.options,c=b.cursor,d=b.dataLabels,e=a.points,f,g,h=a.hasRendered||0,i,j;if(d.enabled||a._hasPointLabels)a.dlProcessOptions&&a.dlProcessOptions(d),j=a.plotGroup("dataLabelsGroup","data-labels",d.defer?"hidden":"visible",d.zIndex||6),p(d.defer,!0)&&(j.attr({opacity:+h}),h||N(a,"afterAnimate",function(){a.visible&&j.show();j[b.animation?"animate":"attr"]({opacity:1},{duration:200});})),g=d,q(e,function(b){var e,h=b.dataLabel,m,o,q=b.connector,t=!0;f=b.options&&b.options.dataLabels;e=p(f&&f.enabled,g.enabled);if(h&&!e)b.dataLabel=h.destroy();else{if(e){d=w(g,f);e=d.rotation;m=b.getLabelConfig();i=d.format?Ja(d.format,m):d.formatter.call(m,d);d.style.color=p(d.color,d.style.color,a.color,"black");if(h)if(s(i))h.attr({text:i}),t=!1;else{if(b.dataLabel=h=h.destroy(),q)b.connector=q.destroy();}else{if(s(i)){h={fill:d.backgroundColor,stroke:d.borderColor,"stroke-width":d.borderWidth,r:d.borderRadius||0,rotation:e,padding:d.padding,zIndex:1};for(o in h)h[o]===u&&delete h[o];h=b.dataLabel=a.chart.renderer[e?"text":"label"](i,0,-999,null,null,null,d.useHTML).attr(h).css(r(d.style,c&&{cursor:c})).add(j).shadow(d.shadow);}}h&&a.alignDataLabel(b,h,d,null,t);}}});};O.prototype.alignDataLabel=function(a,b,c,d,e){var f=this.chart,g=f.inverted,h=p(a.plotX,-999),i=p(a.plotY,-999),j=b.getBBox();if(a=this.visible&&(a.series.forceDL||f.isInsidePlot(h,v(i),g)||d&&f.isInsidePlot(h,g?d.x+1:d.y+d.height-1,g)))d=r({x:g?f.plotWidth-i:h,y:v(g?f.plotHeight-h:i),width:0,height:0},d),r(c,{width:j.width,height:j.height}),c.rotation?b[e?"attr":"animate"]({x:d.x+c.x+d.width/2,y:d.y+c.y+d.height/2}).attr({align:c.align}):(b.align(c,null,d),g=b.alignAttr,p(c.overflow,"justify")==="justify"?this.justifyDataLabel(b,c,g,j,d,e):p(c.crop,!0)&&(a=f.isInsidePlot(g.x,g.y)&&f.isInsidePlot(g.x+j.width,g.y+j.height)));if(!a)b.attr({y:-999}),b.placed=!1;};O.prototype.justifyDataLabel=function(a,b,c,d,e,f){var g=this.chart,h=b.align,i=b.verticalAlign,j,k;j=c.x;if(j<0)h==="right"?b.align="left":b.x=-j,k=!0;j=c.x+d.width;if(j>g.plotWidth)h==="left"?b.align="right":b.x=g.plotWidth-j,k=!0;j=c.y;if(j<0)i==="bottom"?b.verticalAlign="top":b.y=-j,k=!0;j=c.y+d.height;if(j>g.plotHeight)i==="top"?b.verticalAlign="bottom":b.y=g.plotHeight-j,k=!0;if(k)a.placed=!f,a.align(b,null,e);};if(H.pie)H.pie.prototype.drawDataLabels=function(){var a=this,b=a.data,c,d=a.chart,e=a.options.dataLabels,f=p(e.connectorPadding,10),g=p(e.connectorWidth,1),h=d.plotWidth,i=d.plotHeight,j,k,l=p(e.softConnector,!0),n=e.distance,m=a.center,o=m[2]/2,r=m[1],s=n>0,u,w,x,A=[[],[]],y,B,I,H,z,R=[0,0,0,0],N=function(a,b){return b.y-a.y;};if(a.visible&&(e.enabled||a._hasPointLabels)){O.prototype.drawDataLabels.apply(a);q(b,function(a){a.dataLabel&&a.visible&&A[a.half].push(a);});for(H=2;H--;){var G=[],M=[],F=A[H],K=F.length,E;if(K){a.sortByAngle(F,H-0.5);for(z=b=0;!b&&F[z];)b=F[z]&&F[z].dataLabel&&(F[z].dataLabel.getBBox().height||21),z++;if(n>0){w=L(r+o+n,d.plotHeight);for(z=t(0,r-o-n);z<=w;z+=b)G.push(z);w=G.length;if(K>w){c=[].concat(F);c.sort(N);for(z=K;z--;)c[z].rank=z;for(z=K;z--;)F[z].rank>=w&&F.splice(z,1);K=F.length;}for(z=0;z<K;z++){c=F[z];x=c.labelPos;c=9999;var S,P;for(P=0;P<w;P++)S=Q(G[P]-x[1]),S<c&&(c=S,E=P);if(E<z&&G[z]!==null)E=z;else for(w<K-z+E&&G[z]!==null&&(E=w-K+z);G[E]===null;)E++;M.push({i:E,y:G[E]});G[E]=null;}M.sort(N);}for(z=0;z<K;z++){c=F[z];x=c.labelPos;u=c.dataLabel;I=c.visible===!1?"hidden":"visible";c=x[1];if(n>0){if(w=M.pop(),E=w.i,B=w.y,c>B&&G[E+1]!==null||c<B&&G[E-1]!==null)B=L(t(0,c),d.plotHeight);}else B=c;y=e.justify?m[0]+(H?-1:1)*(o+n):a.getX(B===r-o-n||B===r+o+n?c:B,H);u._attr={visibility:I,align:x[6]};u._pos={x:y+e.x+({left:f,right:-f}[x[6]]||0),y:B+e.y-10};u.connX=y;u.connY=B;if(this.options.size===null)w=u.width,y-w<f?R[3]=t(v(w-y+f),R[3]):y+w>h-f&&(R[1]=t(v(y+w-h+f),R[1])),B-b/2<0?R[0]=t(v(-B+b/2),R[0]):B+b/2>i&&(R[2]=t(v(B+b/2-i),R[2]));}}}if(Ca(R)===0||this.verifyDataLabelOverflow(R))this.placeDataLabels(),s&&g&&q(this.points,function(b){j=b.connector;x=b.labelPos;if((u=b.dataLabel)&&u._pos)I=u._attr.visibility,y=u.connX,B=u.connY,k=l?["M",y+(x[6]==="left"?5:-5),B,"C",y,B,2*x[2]-x[4],2*x[3]-x[5],x[2],x[3],"L",x[4],x[5]]:["M",y+(x[6]==="left"?5:-5),B,"L",x[2],x[3],"L",x[4],x[5]],j?(j.animate({d:k}),j.attr("visibility",I)):b.connector=j=a.chart.renderer.path(k).attr({"stroke-width":g,stroke:e.connectorColor||b.color||"#606060",visibility:I}).add(a.dataLabelsGroup);else{if(j)b.connector=j.destroy();}});}},H.pie.prototype.placeDataLabels=function(){q(this.points,function(a){var a=a.dataLabel,b;if(a)(b=a._pos)?(a.attr(a._attr),a[a.moved?"animate":"attr"](b),a.moved=!0):a&&a.attr({y:-999});});},H.pie.prototype.alignDataLabel=sa,H.pie.prototype.verifyDataLabelOverflow=function(a){var b=this.center,c=this.options,d=c.center,e=c=c.minSize||80,f;d[0]!==null?e=t(b[2]-t(a[1],a[3]),c):(e=t(b[2]-a[1]-a[3],c),b[0]+=(a[3]-a[1])/2);d[1]!==null?e=t(L(e,b[2]-t(a[0],a[2])),c):(e=t(L(e,b[2]-a[0]-a[2]),c),b[1]+=(a[0]-a[2])/2);e<b[2]?(b[2]=e,this.translate(b),q(this.points,function(a){if(a.dataLabel)a.dataLabel._pos=null;}),this.drawDataLabels&&this.drawDataLabels()):f=!0;return f;};if(H.column)H.column.prototype.alignDataLabel=function(a,b,c,d,e){var f=this.chart,g=f.inverted,h=a.dlBox||a.shapeArgs,i=a.below||a.plotY>p(this.translatedThreshold,f.plotSizeY),j=p(c.inside,!!this.options.stacking);if(h&&(d=w(h),g&&(d={x:f.plotWidth-d.y-d.height,y:f.plotHeight-d.x-d.width,width:d.height,height:d.width}),!j))g?(d.x+=i?0:d.width,d.width=0):(d.y+=i?d.height:0,d.height=0);c.align=p(c.align,!g||j?"center":i?"right":"left");c.verticalAlign=p(c.verticalAlign,g||j?"middle":i?"top":"bottom");O.prototype.alignDataLabel.call(this,a,b,c,d,e);};T=K.TrackerMixin={drawTrackerPoint:function(){var a=this,b=a.chart,c=b.pointer,d=a.options.cursor,e=d&&{cursor:d},f=function(c){var d=c.target,e;if(b.hoverSeries!==a)a.onMouseOver();for(;d&&!e;)e=d.point,d=d.parentNode;if(e!==u&&e!==b.hoverPoint)e.onMouseOver(c);};q(a.points,function(a){if(a.graphic)a.graphic.element.point=a;if(a.dataLabel)a.dataLabel.element.point=a;});if(!a._hasTracking)q(a.trackerGroups,function(b){if(a[b]&&(a[b].addClass("highcharts-tracker").on("mouseover",f).on("mouseout",function(a){c.onTrackerMouseOut(a);}).css(e),$a))a[b].on("touchstart",f);}),a._hasTracking=!0;},drawTrackerGraph:function(){var a=this,b=a.options,c=b.trackByArea,d=[].concat(c?a.areaPath:a.graphPath),e=d.length,f=a.chart,g=f.pointer,h=f.renderer,i=f.options.tooltip.snap,j=a.tracker,k=b.cursor,l=k&&{cursor:k},k=a.singlePoints,n,m=function(){if(f.hoverSeries!==a)a.onMouseOver();},o="rgba(192,192,192,"+(ba?1.0E-4:0.002)+")";if(e&&!c)for(n=e+1;n--;)d[n]==="M"&&d.splice(n+1,0,d[n+1]-i,d[n+2],"L"),(n&&d[n]==="M"||n===e)&&d.splice(n,0,"L",d[n-2]+i,d[n-1]);for(n=0;n<k.length;n++)e=k[n],d.push("M",e.plotX-i,e.plotY,"L",e.plotX+i,e.plotY);j?j.attr({d}):(a.tracker=h.path(d).attr({"stroke-linejoin":"round",visibility:a.visible?"visible":"hidden",stroke:o,fill:c?o:P,"stroke-width":b.lineWidth+(c?0:2*i),zIndex:2}).add(a.group),q([a.tracker,a.markerGroup],function(a){a.addClass("highcharts-tracker").on("mouseover",m).on("mouseout",function(a){g.onTrackerMouseOut(a);}).css(l);if($a)a.on("touchstart",m);}));}};if(H.column)ia.prototype.drawTracker=T.drawTrackerPoint;if(H.pie)H.pie.prototype.drawTracker=T.drawTrackerPoint;if(H.scatter)qa.prototype.drawTracker=T.drawTrackerPoint;r(lb.prototype,{setItemEvents:function(a,b,c,d,e){var f=this;(c?b:a.legendGroup).on("mouseover",function(){a.setState("hover");b.css(f.options.itemHoverStyle);}).on("mouseout",function(){b.css(a.visible?d:e);a.setState();}).on("click",function(b){var c=function(){a.setVisible();},b={browserEvent:b};a.firePointEvent?a.firePointEvent("legendItemClick",b,c):I(a,"legendItemClick",b,c);});},createCheckboxForItem:function(a){a.checkbox=$("input",{type:"checkbox",checked:a.selected,defaultChecked:a.selected},this.options.itemCheckboxStyle,this.chart.container);N(a.checkbox,"click",function(b){I(a,"checkboxClick",{checked:b.target.checked},function(){a.select();});});}});E.legend.itemStyle.cursor="pointer";r(Ya.prototype,{showResetZoom:function(){var a=this,b=E.lang,c=a.options.chart.resetZoomButton,d=c.theme,e=d.states,f=c.relativeTo==="chart"?null:"plotBox";this.resetZoomButton=a.renderer.button(b.resetZoom,null,null,function(){a.zoomOut();},d,e&&e.hover).attr({align:c.position.align,title:b.resetZoomTitle}).add().align(c.position,!1,f);},zoomOut:function(){var a=this;I(a,"selection",{resetSelection:!0},function(){a.zoom();});},zoom:function(a){var b,c=this.pointer,d=!1,e;!a||a.resetSelection?q(this.axes,function(a){b=a.zoom();}):q(a.xAxis.concat(a.yAxis),function(a){var e=a.axis,h=e.isXAxis;if(c[h?"zoomX":"zoomY"]||c[h?"pinchX":"pinchY"])b=e.zoom(a.min,a.max),e.displayBtn&&(d=!0);});e=this.resetZoomButton;if(d&&!e)this.showResetZoom();else{if(!d&&da(e))this.resetZoomButton=e.destroy();}b&&this.redraw(p(this.options.chart.animation,a&&a.animation,this.pointCount<100));},pan:function(a,b){var c=this,d=c.hoverPoints,e;d&&q(d,function(a){a.setState();});q(b==="xy"?[1,0]:[1],function(b){var d=a[b?"chartX":"chartY"],h=c[b?"xAxis":"yAxis"][0],i=c[b?"mouseDownX":"mouseDownY"],j=(h.pointRange||0)/2,k=h.getExtremes(),l=h.toValue(i-d,!0)+j,i=h.toValue(i+c[b?"plotWidth":"plotHeight"]-d,!0)-j;h.series.length&&l>L(k.dataMin,k.min)&&i<t(k.dataMax,k.max)&&(h.setExtremes(l,i,!1,!1,{trigger:"pan"}),e=!0);c[b?"mouseDownX":"mouseDownY"]=d;});e&&c.redraw(!1);B(c.container,{cursor:"move"});}});r(Fa.prototype,{select:function(a,b){var c=this,d=c.series,e=d.chart,a=p(a,!c.selected);c.firePointEvent(a?"select":"unselect",{accumulate:b},function(){c.selected=c.options.selected=a;d.options.data[Ma(c,d.data)]=c.options;c.setState(a&&"select");b||q(e.getSelectedPoints(),function(a){if(a.selected&&a!==c)a.selected=a.options.selected=!1,d.options.data[Ma(a,d.data)]=a.options,a.setState(""),a.firePointEvent("unselect");});});},onMouseOver:function(a){var b=this.series,c=b.chart,d=c.tooltip,e=c.hoverPoint;if(e&&e!==this)e.onMouseOut();this.firePointEvent("mouseOver");d&&(!d.shared||b.noSharedTooltip)&&d.refresh(this,a);this.setState("hover");c.hoverPoint=this;},onMouseOut:function(){var a=this.series.chart,b=a.hoverPoints;this.firePointEvent("mouseOut");if(!b||Ma(this,b)===-1)this.setState(),a.hoverPoint=null;},importEvents:function(){if(!this.hasImportedEvents){var a=w(this.series.options.point,this.options).events,b;this.events=a;for(b in a)N(this,b,a[b]);this.hasImportedEvents=!0;}},setState:function(a,b){var c=this.plotX,d=this.plotY,e=this.series,f=e.options.states,g=ca[e.type].marker&&e.options.marker,h=g&&!g.enabled,i=g&&g.states[a],j=i&&i.enabled===!1,k=e.stateMarkerGraphic,l=this.marker||{},n=e.chart,m=e.halo,o,a=a||"";o=this.pointAttr[a]||e.pointAttr[a];if(!(a===this.state&&!b||this.selected&&a!=="select"||f[a]&&f[a].enabled===!1||a&&(j||h&&i.enabled===!1)||a&&l.states&&l.states[a]&&l.states[a].enabled===!1)){if(this.graphic)g=g&&this.graphic.symbolName&&o.r,this.graphic.attr(w(o,g?{x:c-g,y:d-g,width:2*g,height:2*g}:{})),k&&k.hide();else{if(a&&i)if(g=i.radius,l=l.symbol||e.symbol,k&&k.currentSymbol!==l&&(k=k.destroy()),k)k[b?"animate":"attr"]({x:c-g,y:d-g});else{if(l)e.stateMarkerGraphic=k=n.renderer.symbol(l,c-g,d-g,2*g,2*g).attr(o).add(e.markerGroup),k.currentSymbol=l;}if(k)k[a&&n.isInsidePlot(c,d,n.inverted)?"show":"hide"]();}if((c=f[a]&&f[a].halo)&&c.size){if(!m)e.halo=m=n.renderer.path().add(e.seriesGroup);m.attr(r({fill:ya(this.color||e.color).setOpacity(c.opacity).get()},c.attributes))[b?"animate":"attr"]({d:this.haloPath(c.size)});}else m&&m.attr({d:[]});this.state=a;}},haloPath:function(a){var b=this.series,c=b.chart,d=b.getPlotBox(),e=c.inverted;return c.renderer.symbols.circle(d.translateX+(e?b.yAxis.len-this.plotY:this.plotX)-a,d.translateY+(e?b.xAxis.len-this.plotX:this.plotY)-a,a*2,a*2);}});r(O.prototype,{onMouseOver:function(){var a=this.chart,b=a.hoverSeries;if(b&&b!==this)b.onMouseOut();this.options.events.mouseOver&&I(this,"mouseOver");this.setState("hover");a.hoverSeries=this;},onMouseOut:function(){var a=this.options,b=this.chart,c=b.tooltip,d=b.hoverPoint;if(d)d.onMouseOut();this&&a.events.mouseOut&&I(this,"mouseOut");c&&!a.stickyTracking&&(!c.shared||this.noSharedTooltip)&&c.hide();this.setState();b.hoverSeries=null;},setState:function(a){var b=this.options,c=this.graph,d=this.graphNeg,e=b.states,b=b.lineWidth,a=a||"";if(this.state!==a)this.state=a,e[a]&&e[a].enabled===!1||(a&&(b=e[a].lineWidth||b+(e[a].lineWidthPlus||0)),c&&!c.dashstyle&&(a={"stroke-width":b},c.attr(a),d&&d.attr(a)));},setVisible:function(a,b){var c=this,d=c.chart,e=c.legendItem,f,g=d.options.chart.ignoreHiddenSeries,h=c.visible;f=(c.visible=a=c.userOptions.visible=a===u?!h:a)?"show":"hide";q(["group","dataLabelsGroup","markerGroup","tracker"],function(a){if(c[a])c[a][f]();});if(d.hoverSeries===c)c.onMouseOut();e&&d.legend.colorizeItem(c,a);c.isDirty=!0;c.options.stacking&&q(d.series,function(a){if(a.options.stacking&&a.visible)a.isDirty=!0;});q(c.linkedSeries,function(b){b.setVisible(a,!1);});if(g)d.isDirtyBox=!0;b!==!1&&d.redraw();I(c,f);},setTooltipPoints:function(a){var b=[],c,d,e=this.xAxis,f=e&&e.getExtremes(),g=e?e.tooltipLen||e.len:this.chart.plotSizeX,h,i,j=[];if(!(this.options.enableMouseTracking===!1||this.singularTooltips)){if(a)this.tooltipPoints=null;q(this.segments||this.points,function(a){b=b.concat(a);});e&&e.reversed&&(b=b.reverse());this.orderTooltipPoints&&this.orderTooltipPoints(b);a=b.length;for(i=0;i<a;i++)if(e=b[i],c=e.x,c>=f.min&&c<=f.max){h=b[i+1];c=d===u?0:d+1;for(d=b[i+1]?L(t(0,U((e.clientX+(h?h.wrappedClientX||h.clientX:g))/2)),g):g;c>=0&&c<=d;)j[c++]=e;}this.tooltipPoints=j;}},show:function(){this.setVisible(!0);},hide:function(){this.setVisible(!1);},select:function(a){this.selected=a=a===u?!this.selected:a;if(this.checkbox)this.checkbox.checked=a;I(this,a?"select":"unselect");},drawTracker:T.drawTrackerGraph});r(K,{Axis:na,Chart:Ya,Color:ya,Point:Fa,Tick:Ta,Renderer:Za,Series:O,SVGElement:S,SVGRenderer:ta,arrayMin:Oa,arrayMax:Ca,charts:W,dateFormat:cb,format:Ja,pathAnim:vb,getOptions:function(){return E;},hasBidiBug:Ob,isTouchDevice:Ib,numberFormat:Ba,seriesTypes:H,setOptions:function(a){E=w(!0,E,a);Bb();return E;},addEvent:N,removeEvent:X,createElement:$,discardElement:Qa,css:B,each:q,extend:r,map:Va,merge:w,pick:p,splat:ra,extendClass:ma,pInt:y,wrap:Na,svg:ba,canvas:ga,vml:!ba&&!ga,product:"Highcharts",version:"4.0.4"});})();;
function RGBColor(g){this.ok=false;if(g.charAt(0)=="#")g=g.substr(1,6);g=g.replace(/ /g,"");g=g.toLowerCase();var a={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};for(var c in a)if(g==c)g=a[c];var h=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(i){return [parseInt(i[1]),parseInt(i[2]),parseInt(i[3])];}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(i){return [parseInt(i[1],16),parseInt(i[2],16),parseInt(i[3],16)];}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(i){return [parseInt(i[1]+i[1],16),parseInt(i[2]+i[2],16),parseInt(i[3]+i[3],16)];}}];for(var b=0;b<h.length;b++){var e=h[b].re;var d=h[b].process;var f=e.exec(g);if(f){channels=d(f);this.r=channels[0];this.g=channels[1];this.b=channels[2];this.ok=true;}}this.r=(this.r<0||isNaN(this.r))?0:((this.r>255)?255:this.r);this.g=(this.g<0||isNaN(this.g))?0:((this.g>255)?255:this.g);this.b=(this.b<0||isNaN(this.b))?0:((this.b>255)?255:this.b);this.toRGB=function(){return "rgb("+this.r+", "+this.g+", "+this.b+")";};this.toHex=function(){var k=this.r.toString(16);var j=this.g.toString(16);var i=this.b.toString(16);if(k.length==1)k="0"+k;if(j.length==1)j="0"+j;if(i.length==1)i="0"+i;return "#"+k+j+i;};this.getHelpXML=function(){var m=new Array();for(var o=0;o<h.length;o++){var l=h[o].example;for(var n=0;n<l.length;n++)m[m.length]=l[n];}for(var t in a)m[m.length]=t;var p=document.createElement("ul");p.setAttribute("id","rgbcolor-examples");for(var o=0;o<m.length;o++)try{var q=document.createElement("li");var s=new RGBColor(m[o]);var u=document.createElement("div");u.style.cssText="margin: 3px; border: 1px solid black; background:"+s.toHex()+"; color:"+s.toHex();u.appendChild(document.createTextNode("test"));var k=document.createTextNode(" "+m[o]+" -> "+s.toRGB()+" -> "+s.toHex());q.appendChild(u);q.appendChild(k);p.appendChild(q);}catch(r){}return p;};};;
var mul_table=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259];var shg_table=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function premultiplyAlpha(f){var e=f.data;var d=f.width*f.height*4;for(var c=0;c<d;c+=4){var b=e[c+3]/255;e[c]*=b;e[c+1]*=b;e[c+2]*=b;}}function unpremultiplyAlpha(f){var e=f.data;var d=f.width*f.height*4;for(var c=0;c<d;c+=4){var b=e[c+3];if(b!=0){b=255/b;e[c]*=b;e[c+1]*=b;e[c+2]*=b;}}}function stackBlurImage(i,f,g,a){var d=document.getElementById(i);var j=d.naturalWidth;var e=d.naturalHeight;var c=document.getElementById(f);c.style.width=j+"px";c.style.height=e+"px";c.width=j;c.height=e;var b=c.getContext("2d");b.clearRect(0,0,j,e);b.drawImage(d,0,0);if(isNaN(g)||g<1)return;if(a)stackBlurCanvasRGBA(f,0,0,j,e,g);else stackBlurCanvasRGB(f,0,0,j,e,g);}function stackBlurCanvasRGBA(M,G,E,a,c,Q){if(isNaN(Q)||Q<1)return;Q|=0;var j=document.getElementById(M);var aa=j.getContext("2d");var V;try{try{V=aa.getImageData(G,E,a,c);}catch(Z){try{netscape.security.PrivilegeManager.enablePrivilege("UniversalBrowserRead");V=aa.getImageData(G,E,a,c);}catch(Z){alert("Cannot access local image");throw new Error("unable to access local image data: "+Z);return;}}}catch(Z){alert("Cannot access image");throw new Error("unable to access image data: "+Z);}premultiplyAlpha(V);var h=V.data;var O,N,X,U,s,v,n,f,g,D,T,r,F,B,b,J,P,t,q,m,u,w,z,I;var Y=Q+Q+1;var K=a<<2;var o=a-1;var S=c-1;var l=Q+1;var R=l*(l+1)/2;var H=new BlurStack();var C=H;for(X=1;X<Y;X++){C=C.next=new BlurStack();if(X==l)var k=C;}C.next=H;var W=null;var L=null;n=v=0;var A=mul_table[Q];var d=shg_table[Q];for(N=0;N<c;N++){J=P=t=q=f=g=D=T=0;r=l*(m=h[v]);F=l*(u=h[v+1]);B=l*(w=h[v+2]);b=l*(z=h[v+3]);f+=R*m;g+=R*u;D+=R*w;T+=R*z;C=H;for(X=0;X<l;X++){C.r=m;C.g=u;C.b=w;C.a=z;C=C.next;}for(X=1;X<l;X++){U=v+((o<X?o:X)<<2);f+=(C.r=(m=h[U]))*(I=l-X);g+=(C.g=(u=h[U+1]))*I;D+=(C.b=(w=h[U+2]))*I;T+=(C.a=(z=h[U+3]))*I;J+=m;P+=u;t+=w;q+=z;C=C.next;}W=H;L=k;for(O=0;O<a;O++){h[v]=(f*A)>>d;h[v+1]=(g*A)>>d;h[v+2]=(D*A)>>d;h[v+3]=(T*A)>>d;f-=r;g-=F;D-=B;T-=b;r-=W.r;F-=W.g;B-=W.b;b-=W.a;U=(n+((U=O+Q+1)<o?U:o))<<2;J+=(W.r=h[U]);P+=(W.g=h[U+1]);t+=(W.b=h[U+2]);q+=(W.a=h[U+3]);f+=J;g+=P;D+=t;T+=q;W=W.next;r+=(m=L.r);F+=(u=L.g);B+=(w=L.b);b+=(z=L.a);J-=m;P-=u;t-=w;q-=z;L=L.next;v+=4;}n+=a;}for(O=0;O<a;O++){P=t=q=J=g=D=T=f=0;v=O<<2;r=l*(m=h[v]);F=l*(u=h[v+1]);B=l*(w=h[v+2]);b=l*(z=h[v+3]);f+=R*m;g+=R*u;D+=R*w;T+=R*z;C=H;for(X=0;X<l;X++){C.r=m;C.g=u;C.b=w;C.a=z;C=C.next;}s=a;for(X=1;X<=Q;X++){v=(s+O)<<2;f+=(C.r=(m=h[v]))*(I=l-X);g+=(C.g=(u=h[v+1]))*I;D+=(C.b=(w=h[v+2]))*I;T+=(C.a=(z=h[v+3]))*I;J+=m;P+=u;t+=w;q+=z;C=C.next;if(X<S)s+=a;}v=O;W=H;L=k;for(N=0;N<c;N++){U=v<<2;h[U]=(f*A)>>d;h[U+1]=(g*A)>>d;h[U+2]=(D*A)>>d;h[U+3]=(T*A)>>d;f-=r;g-=F;D-=B;T-=b;r-=W.r;F-=W.g;B-=W.b;b-=W.a;U=(O+(((U=N+l)<S?U:S)*a))<<2;f+=(J+=(W.r=h[U]));g+=(P+=(W.g=h[U+1]));D+=(t+=(W.b=h[U+2]));T+=(q+=(W.a=h[U+3]));W=W.next;r+=(m=L.r);F+=(u=L.g);B+=(w=L.b);b+=(z=L.a);J-=m;P-=u;t-=w;q-=z;L=L.next;v+=a;}}unpremultiplyAlpha(V);aa.putImageData(V,G,E);}function stackBlurCanvasRGB(J,D,B,a,b,N){if(isNaN(N)||N<1)return;N|=0;var h=document.getElementById(J);var W=h.getContext("2d");var R;try{try{R=W.getImageData(D,B,a,b);}catch(V){try{netscape.security.PrivilegeManager.enablePrivilege("UniversalBrowserRead");R=W.getImageData(D,B,a,b);}catch(V){alert("Cannot access local image");throw new Error("unable to access local image data: "+V);return;}}}catch(V){alert("Cannot access image");throw new Error("unable to access image data: "+V);}var g=R.data;var L,K,T,Q,q,t,m,d,f,A,n,C,w,G,M,r,l,s,u,F;var U=N+N+1;var H=a<<2;var o=a-1;var P=b-1;var k=N+1;var O=k*(k+1)/2;var E=new BlurStack();var z=E;for(T=1;T<U;T++){z=z.next=new BlurStack();if(T==k)var j=z;}z.next=E;var S=null;var I=null;m=t=0;var v=mul_table[N];var c=shg_table[N];for(K=0;K<b;K++){G=M=r=d=f=A=0;n=k*(l=g[t]);C=k*(s=g[t+1]);w=k*(u=g[t+2]);d+=O*l;f+=O*s;A+=O*u;z=E;for(T=0;T<k;T++){z.r=l;z.g=s;z.b=u;z=z.next;}for(T=1;T<k;T++){Q=t+((o<T?o:T)<<2);d+=(z.r=(l=g[Q]))*(F=k-T);f+=(z.g=(s=g[Q+1]))*F;A+=(z.b=(u=g[Q+2]))*F;G+=l;M+=s;r+=u;z=z.next;}S=E;I=j;for(L=0;L<a;L++){g[t]=(d*v)>>c;g[t+1]=(f*v)>>c;g[t+2]=(A*v)>>c;d-=n;f-=C;A-=w;n-=S.r;C-=S.g;w-=S.b;Q=(m+((Q=L+N+1)<o?Q:o))<<2;G+=(S.r=g[Q]);M+=(S.g=g[Q+1]);r+=(S.b=g[Q+2]);d+=G;f+=M;A+=r;S=S.next;n+=(l=I.r);C+=(s=I.g);w+=(u=I.b);G-=l;M-=s;r-=u;I=I.next;t+=4;}m+=a;}for(L=0;L<a;L++){M=r=G=f=A=d=0;t=L<<2;n=k*(l=g[t]);C=k*(s=g[t+1]);w=k*(u=g[t+2]);d+=O*l;f+=O*s;A+=O*u;z=E;for(T=0;T<k;T++){z.r=l;z.g=s;z.b=u;z=z.next;}q=a;for(T=1;T<=N;T++){t=(q+L)<<2;d+=(z.r=(l=g[t]))*(F=k-T);f+=(z.g=(s=g[t+1]))*F;A+=(z.b=(u=g[t+2]))*F;G+=l;M+=s;r+=u;z=z.next;if(T<P)q+=a;}t=L;S=E;I=j;for(K=0;K<b;K++){Q=t<<2;g[Q]=(d*v)>>c;g[Q+1]=(f*v)>>c;g[Q+2]=(A*v)>>c;d-=n;f-=C;A-=w;n-=S.r;C-=S.g;w-=S.b;Q=(L+(((Q=K+k)<P?Q:P)*a))<<2;d+=(G+=(S.r=g[Q]));f+=(M+=(S.g=g[Q+1]));A+=(r+=(S.b=g[Q+2]));S=S.next;n+=(l=I.r);C+=(s=I.g);w+=(u=I.b);G-=l;M-=s;r-=u;I=I.next;t+=a;}}W.putImageData(R,D,B);}function BlurStack(){this.r=0;this.g=0;this.b=0;this.a=0;this.next=null;};;
(function(b,a){if(typeof define!=="undefined"&&define.amd)define("canvgModule",["rgbcolor","stackblur"],a);else{if(typeof module!=="undefined"&&module.exports)module.exports=a(require("rgbcolor"),require("stackblur"));}b.canvg=a(b.RGBColor,b.stackBlur);}(typeof window!=="undefined"?window:this,function(a,b){var h=function(v,y,o){if(v==null&&y==null&&o==null){var q=document.querySelectorAll("svg");for(var t=0;t<q.length;t++){var r=q[t];var w=document.createElement("canvas");w.width=r.clientWidth;w.height=r.clientHeight;r.parentNode.insertBefore(w,r);r.parentNode.removeChild(r);var p=document.createElement("div");p.appendChild(r);h(w,p.innerHTML);}return;}if(typeof v=="string")v=document.getElementById(v);if(v.svg!=null)v.svg.stop();var u=l(o||{});if(!(v.childNodes.length==1&&v.childNodes[0].nodeName=="OBJECT"))v.svg=u;var x=v.getContext("2d");if(typeof (y.documentElement)!="undefined")u.loadXmlDoc(x,y);else if(y.substr(0,1)=="<")u.loadXml(x,y);else u.load(x,y);};var n;if(typeof (Element.prototype.matches)!="undefined")n=function(p,o){return p.matches(o);};else if(typeof (Element.prototype.webkitMatchesSelector)!="undefined")n=function(p,o){return p.webkitMatchesSelector(o);};else if(typeof (Element.prototype.mozMatchesSelector)!="undefined")n=function(p,o){return p.mozMatchesSelector(o);};else if(typeof (Element.prototype.msMatchesSelector)!="undefined")n=function(p,o){return p.msMatchesSelector(o);};else if(typeof (Element.prototype.oMatchesSelector)!="undefined")n=function(p,o){return p.oMatchesSelector(o);};else{if(typeof jQuery==="function"||typeof Zepto==="function")n=function(p,o){return $(p).is(o);};if(typeof n==="undefined")n=Sizzle.matchesSelector;}var e=/(\[[^\]]+\])/g;var d=/(#[^\s\+>~\.\[:]+)/g;var c=/(\.[^\s\+>~\.\[:]+)/g;var k=/(::[^\s\+>~\.\[:]+|:first-line|:first-letter|:before|:after)/gi;var j=/(:[\w-]+\([^\)]*\))/gi;var m=/(:[^\s\+>~\.\[:]+)/g;var g=/([^\s\+>~\.\[:]+)/g;function f(o){var q=[0,0,0];var p=function(s,r){var t=o.match(s);if(t==null)return;q[r]+=t.length;o=o.replace(s," ");};o=o.replace(/:not\(([^\)]*)\)/g,"     $1 ");o=o.replace(/{[^]*/gm," ");p(e,1);p(d,0);p(c,1);p(k,2);p(j,1);p(m,1);o=o.replace(/[\*\s\+>~]/g," ");o=o.replace(/[#\.]/g," ");p(g,2);return q.join("");}function l(q){var p={opts:q};p.FRAMERATE=30;p.MAX_VIRTUAL_PIXELS=30000;p.log=function(r){};if(p.opts.log==true&&typeof (console)!="undefined")p.log=function(r){console.log(r);};p.init=function(r){var s=0;p.UniqueId=function(){s++;return "canvg"+s;};p.Definitions={};p.Styles={};p.StylesSpecificity={};p.Animations=[];p.Images=[];p.ctx=r;p.ViewPort=new (function(){this.viewPorts=[];this.Clear=function(){this.viewPorts=[];};this.SetCurrent=function(u,t){this.viewPorts.push({width:u,height:t});};this.RemoveCurrent=function(){this.viewPorts.pop();};this.Current=function(){return this.viewPorts[this.viewPorts.length-1];};this.width=function(){return this.Current().width;};this.height=function(){return this.Current().height;};this.ComputeSize=function(t){if(t!=null&&typeof (t)=="number")return t;if(t=="x")return this.width();if(t=="y")return this.height();return Math.sqrt(Math.pow(this.width(),2)+Math.pow(this.height(),2))/Math.sqrt(2);};})();};p.init();p.ImagesLoaded=function(){for(var r=0;r<p.Images.length;r++)if(!p.Images[r].loaded)return false;return true;};p.trim=function(r){return r.replace(/^\s+|\s+$/g,"");};p.compressSpaces=function(r){return r.replace(/[\s\r\t\n]+/gm," ");};p.ajax=function(s){var r;if(window.XMLHttpRequest)r=new XMLHttpRequest();else r=new ActiveXObject("Microsoft.XMLHTTP");if(r){r.open("GET",s,false);r.send(null);return r.responseText;}return null;};p.parseXml=function(r){if(typeof (Windows)!="undefined"&&typeof (Windows.Data)!="undefined"&&typeof (Windows.Data.Xml)!="undefined"){var t=new Windows.Data.Xml.Dom.XmlDocument();var s=new Windows.Data.Xml.Dom.XmlLoadSettings();s.prohibitDtd=false;t.loadXml(r,s);return t;}else if(window.DOMParser){var u=new DOMParser();return u.parseFromString(r,"text/xml");}else{r=r.replace(/<!DOCTYPE svg[^>]*>/,"");var t=new ActiveXObject("Microsoft.XMLDOM");t.async="false";t.loadXML(r);return t;}};p.Property=function(r,s){this.name=r;this.value=s;};p.Property.prototype.getValue=function(){return this.value;};p.Property.prototype.hasValue=function(){return (this.value!=null&&this.value!=="");};p.Property.prototype.numValue=function(){if(!this.hasValue())return 0;var r=parseFloat(this.value);if((this.value+"").match(/%$/))r=r/100;return r;};p.Property.prototype.valueOrDefault=function(r){if(this.hasValue())return this.value;return r;};p.Property.prototype.numValueOrDefault=function(r){if(this.hasValue())return this.numValue();return r;};p.Property.prototype.addOpacity=function(t){var s=this.value;if(t.value!=null&&t.value!=""&&typeof (this.value)=="string"){var r=new a(this.value);if(r.ok)s="rgba("+r.r+", "+r.g+", "+r.b+", "+t.numValue()+")";}return new p.Property(this.name,s);};p.Property.prototype.getDefinition=function(){var r=this.value.match(/#([^\)'"]+)/);if(r)r=r[1];if(!r)r=this.value;return p.Definitions[r];};p.Property.prototype.isUrlDefinition=function(){return this.value.indexOf("url(")==0;};p.Property.prototype.getFillStyleDefinition=function(u,t){var r=this.getDefinition();if(r!=null&&r.createGradient)return r.createGradient(p.ctx,u,t);if(r!=null&&r.createPattern){if(r.getHrefAttribute().hasValue()){var s=r.attribute("patternTransform");r=r.getHrefAttribute().getDefinition();if(s.hasValue())r.attribute("patternTransform",true).value=s.value;}return r.createPattern(p.ctx,u);}return null;};p.Property.prototype.getDPI=function(r){return 96;};p.Property.prototype.getEM=function(t){var r=12;var s=new p.Property("fontSize",p.Font.Parse(p.ctx.font).fontSize);if(s.hasValue())r=s.toPixels(t);return r;};p.Property.prototype.getUnits=function(){var r=this.value+"";return r.replace(/[0-9\.\-]/g,"");};p.Property.prototype.toPixels=function(u,r){if(!this.hasValue())return 0;var t=this.value+"";if(t.match(/em$/))return this.numValue()*this.getEM(u);if(t.match(/ex$/))return this.numValue()*this.getEM(u)/2;if(t.match(/px$/))return this.numValue();if(t.match(/pt$/))return this.numValue()*this.getDPI(u)*(1/72);if(t.match(/pc$/))return this.numValue()*15;if(t.match(/cm$/))return this.numValue()*this.getDPI(u)/2.54;if(t.match(/mm$/))return this.numValue()*this.getDPI(u)/25.4;if(t.match(/in$/))return this.numValue()*this.getDPI(u);if(t.match(/%$/))return this.numValue()*p.ViewPort.ComputeSize(u);var v=this.numValue();if(r&&v<1)return v*p.ViewPort.ComputeSize(u);return v;};p.Property.prototype.toMilliseconds=function(){if(!this.hasValue())return 0;var r=this.value+"";if(r.match(/s$/))return this.numValue()*1000;if(r.match(/ms$/))return this.numValue();return this.numValue();};p.Property.prototype.toRadians=function(){if(!this.hasValue())return 0;var r=this.value+"";if(r.match(/deg$/))return this.numValue()*(Math.PI/180);if(r.match(/grad$/))return this.numValue()*(Math.PI/200);if(r.match(/rad$/))return this.numValue();return this.numValue()*(Math.PI/180);};var o={baseline:"alphabetic","before-edge":"top","text-before-edge":"top",middle:"middle",central:"middle","after-edge":"bottom","text-after-edge":"bottom",ideographic:"ideographic",alphabetic:"alphabetic",hanging:"hanging",mathematical:"alphabetic"};p.Property.prototype.toTextBaseline=function(){if(!this.hasValue())return null;return o[this.value];};p.Font=new (function(){this.Styles="normal|italic|oblique|inherit";this.Variants="normal|small-caps|inherit";this.Weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit";this.CreateFont=function(y,v,t,x,s,u){var w=u!=null?this.Parse(u):this.CreateFont("","","","","",p.ctx.font);return {fontFamily:s||w.fontFamily,fontSize:x||w.fontSize,fontStyle:y||w.fontStyle,fontWeight:t||w.fontWeight,fontVariant:v||w.fontVariant,toString:function(){return [this.fontStyle,this.fontVariant,this.fontWeight,this.fontSize,this.fontFamily].join(" ");}};};var r=this;this.Parse=function(v){var w={};var x=p.trim(p.compressSpaces(v||"")).split(" ");var y={fontSize:false,fontStyle:false,fontWeight:false,fontVariant:false};var t="";for(var u=0;u<x.length;u++)if(!y.fontStyle&&r.Styles.indexOf(x[u])!=-1){if(x[u]!="inherit")w.fontStyle=x[u];y.fontStyle=true;}else if(!y.fontVariant&&r.Variants.indexOf(x[u])!=-1){if(x[u]!="inherit")w.fontVariant=x[u];y.fontStyle=y.fontVariant=true;}else if(!y.fontWeight&&r.Weights.indexOf(x[u])!=-1){if(x[u]!="inherit")w.fontWeight=x[u];y.fontStyle=y.fontVariant=y.fontWeight=true;}else if(!y.fontSize){if(x[u]!="inherit")w.fontSize=x[u].split("/")[0];y.fontStyle=y.fontVariant=y.fontWeight=y.fontSize=true;}else{if(x[u]!="inherit")t+=x[u];}if(t!="")w.fontFamily=t;return w;};})();p.ToNumberArray=function(u){var r=p.trim(p.compressSpaces((u||"").replace(/,/g," "))).split(" ");for(var t=0;t<r.length;t++)r[t]=parseFloat(r[t]);return r;};p.Point=function(r,s){this.x=r;this.y=s;};p.Point.prototype.angleTo=function(r){return Math.atan2(r.y-this.y,r.x-this.x);};p.Point.prototype.applyTransform=function(r){var s=this.x*r[0]+this.y*r[2]+r[4];var t=this.x*r[1]+this.y*r[3]+r[5];this.x=s;this.y=t;};p.CreatePoint=function(t){var r=p.ToNumberArray(t);return new p.Point(r[0],r[1]);};p.CreatePath=function(u){var r=p.ToNumberArray(u);var v=[];for(var t=0;t<r.length;t+=2)v.push(new p.Point(r[t],r[t+1]));return v;};p.BoundingBox=function(s,u,r,t){this.x1=Number.NaN;this.y1=Number.NaN;this.x2=Number.NaN;this.y2=Number.NaN;this.x=function(){return this.x1;};this.y=function(){return this.y1;};this.width=function(){return this.x2-this.x1;};this.height=function(){return this.y2-this.y1;};this.addPoint=function(v,w){if(v!=null){if(isNaN(this.x1)||isNaN(this.x2)){this.x1=v;this.x2=v;}if(v<this.x1)this.x1=v;if(v>this.x2)this.x2=v;}if(w!=null){if(isNaN(this.y1)||isNaN(this.y2)){this.y1=w;this.y2=w;}if(w<this.y1)this.y1=w;if(w>this.y2)this.y2=w;}};this.addX=function(v){this.addPoint(v,null);};this.addY=function(v){this.addPoint(null,v);};this.addBoundingBox=function(v){this.addPoint(v.x1,v.y1);this.addPoint(v.x2,v.y2);};this.addQuadraticCurve=function(A,z,w,v,C,B){var y=A+2/3*(w-A);var x=z+2/3*(v-z);var E=y+1/3*(C-A);var D=x+1/3*(B-z);this.addBezierCurve(A,z,y,E,x,D,C,B);};this.addBezierCurve=function(I,H,z,x,E,C,K,J){var A=[I,H],y=[z,x],w=[E,C],v=[K,J];this.addPoint(A[0],A[1]);this.addPoint(v[0],v[1]);for(i=0;i<=1;i++){var L=function(P){return Math.pow(1-P,3)*A[i]+3*Math.pow(1-P,2)*P*y[i]+3*(1-P)*Math.pow(P,2)*w[i]+Math.pow(P,3)*v[i];};var N=6*A[i]-12*y[i]+6*w[i];var O=-3*A[i]+9*y[i]-9*w[i]+3*v[i];var M=3*y[i]-3*A[i];if(O==0){if(N==0)continue;var G=-M/N;if(0<G&&G<1){if(i==0)this.addX(L(G));if(i==1)this.addY(L(G));}continue;}var B=Math.pow(N,2)-4*M*O;if(B<0)continue;var F=(-N+Math.sqrt(B))/(2*O);if(0<F&&F<1){if(i==0)this.addX(L(F));if(i==1)this.addY(L(F));}var D=(-N-Math.sqrt(B))/(2*O);if(0<D&&D<1){if(i==0)this.addX(L(D));if(i==1)this.addY(L(D));}}};this.isPointInBox=function(v,w){return (this.x1<=v&&v<=this.x2&&this.y1<=w&&w<=this.y2);};this.addPoint(s,u);this.addPoint(r,t);};p.Transform=function(r){var y=this;this.Type={};this.Type.translate=function(v){this.p=p.CreatePoint(v);this.apply=function(s){s.translate(this.p.x||0,this.p.y||0);};this.unapply=function(s){s.translate(-1*this.p.x||0,-1*this.p.y||0);};this.applyToPoint=function(s){s.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0]);};};this.Type.rotate=function(A){var v=p.ToNumberArray(A);this.angle=new p.Property("angle",v[0]);this.cx=v[1]||0;this.cy=v[2]||0;this.apply=function(s){s.translate(this.cx,this.cy);s.rotate(this.angle.toRadians());s.translate(-this.cx,-this.cy);};this.unapply=function(s){s.translate(this.cx,this.cy);s.rotate(-1*this.angle.toRadians());s.translate(-this.cx,-this.cy);};this.applyToPoint=function(B){var s=this.angle.toRadians();B.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0]);B.applyTransform([Math.cos(s),Math.sin(s),-Math.sin(s),Math.cos(s),0,0]);B.applyTransform([1,0,0,1,-this.p.x||0,-this.p.y||0]);};};this.Type.scale=function(v){this.p=p.CreatePoint(v);this.apply=function(s){s.scale(this.p.x||1,this.p.y||this.p.x||1);};this.unapply=function(s){s.scale(1/this.p.x||1,1/this.p.y||this.p.x||1);};this.applyToPoint=function(s){s.applyTransform([this.p.x||0,0,0,this.p.y||0,0,0]);};};this.Type.matrix=function(v){this.m=p.ToNumberArray(v);this.apply=function(s){s.transform(this.m[0],this.m[1],this.m[2],this.m[3],this.m[4],this.m[5]);};this.unapply=function(J){var I=this.m[0];var H=this.m[2];var G=this.m[4];var F=this.m[1];var E=this.m[3];var D=this.m[5];var B=0;var A=0;var s=1;var C=1/(I*(E*s-D*A)-H*(F*s-D*B)+G*(F*A-E*B));J.transform(C*(E*s-D*A),C*(D*B-F*s),C*(G*A-H*s),C*(I*s-G*B),C*(H*D-G*E),C*(G*F-I*D));};this.applyToPoint=function(s){s.applyTransform(this.m);};};this.Type.SkewBase=function(v){this.base=y.Type.matrix;this.base(v);this.angle=new p.Property("angle",v);};this.Type.SkewBase.prototype=new this.Type.matrix();this.Type.skewX=function(v){this.base=y.Type.SkewBase;this.base(v);this.m=[1,0,Math.tan(this.angle.toRadians()),1,0,0];};this.Type.skewX.prototype=new this.Type.SkewBase();this.Type.skewY=function(v){this.base=y.Type.SkewBase;this.base(v);this.m=[1,Math.tan(this.angle.toRadians()),0,1,0,0];};this.Type.skewY.prototype=new this.Type.SkewBase();this.transforms=[];this.apply=function(s){for(var v=0;v<this.transforms.length;v++)this.transforms[v].apply(s);};this.unapply=function(s){for(var v=this.transforms.length-1;v>=0;v--)this.transforms[v].unapply(s);};this.applyToPoint=function(v){for(var s=0;s<this.transforms.length;s++)this.transforms[s].applyToPoint(v);};var z=p.trim(p.compressSpaces(r)).replace(/\)([a-zA-Z])/g,") $1").replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/);for(var u=0;u<z.length;u++){var x=p.trim(z[u].split("(")[0]);var w=z[u].split("(")[1].replace(")","");var t=new this.Type[x](w);t.type=x;this.transforms.push(t);}};p.AspectRatio=function(G,E,s,y,F,r,v,u,D,C){E=p.compressSpaces(E);E=E.replace(/^defer\s/,"");var x=E.split(" ")[0]||"xMidYMid";var t=E.split(" ")[1]||"meet";var B=s/y;var A=F/r;var w=Math.min(B,A);var z=Math.max(B,A);if(t=="meet"){y*=w;r*=w;}if(t=="slice"){y*=z;r*=z;}D=new p.Property("refX",D);C=new p.Property("refY",C);if(D.hasValue()&&C.hasValue())G.translate(-w*D.toPixels("x"),-w*C.toPixels("y"));else{if(x.match(/^xMid/)&&((t=="meet"&&w==A)||(t=="slice"&&z==A)))G.translate(s/2-y/2,0);if(x.match(/YMid$/)&&((t=="meet"&&w==B)||(t=="slice"&&z==B)))G.translate(0,F/2-r/2);if(x.match(/^xMax/)&&((t=="meet"&&w==A)||(t=="slice"&&z==A)))G.translate(s-y,0);if(x.match(/YMax$/)&&((t=="meet"&&w==B)||(t=="slice"&&z==B)))G.translate(0,F-r);}if(x=="none")G.scale(B,A);else if(t=="meet")G.scale(w,w);else{if(t=="slice")G.scale(z,z);}G.translate(v==null?0:-v,u==null?0:-u);};p.Element={};p.EmptyProperty=new p.Property("EMPTY","");p.Element.ElementBase=function(v){this.attributes={};this.styles={};this.stylesSpecificity={};this.children=[];this.attribute=function(B,C){var A=this.attributes[B];if(A!=null)return A;if(C==true){A=new p.Property(B,"");this.attributes[B]=A;}return A||p.EmptyProperty;};this.getHrefAttribute=function(){for(var A in this.attributes)if(A=="href"||A.match(/:href$/))return this.attributes[A];return p.EmptyProperty;};this.style=function(C,G,A){var D=this.styles[C];if(D!=null)return D;var B=this.attribute(C);if(B!=null&&B.hasValue()){this.styles[C]=B;return B;}if(A!=true){var E=this.parent;if(E!=null){var F=E.style(C);if(F!=null&&F.hasValue())return F;}}if(G==true){D=new p.Property(C,"");this.styles[C]=D;}return D||p.EmptyProperty;};this.render=function(B){if(this.style("display").value=="none")return;if(this.style("visibility").value=="hidden")return;B.save();if(this.style("mask").hasValue()){var A=this.style("mask").getDefinition();if(A!=null)A.apply(B,this);}else if(this.style("filter").hasValue()){var C=this.style("filter").getDefinition();if(C!=null)C.apply(B,this);}else{this.setContext(B);this.renderChildren(B);this.clearContext(B);}B.restore();};this.setContext=function(A){};this.clearContext=function(A){};this.renderChildren=function(A){for(var B=0;B<this.children.length;B++)this.children[B].render(A);};this.addChild=function(B,A){var C=B;if(A)C=p.CreateElement(B);C.parent=this;if(C.type!="title")this.children.push(C);};this.addStylesFromStyleDefinition=function(){for(var A in p.Styles)if(A[0]!="@"&&n(v,A)){var D=p.Styles[A];var C=p.StylesSpecificity[A];if(D!=null)for(var B in D){var E=this.stylesSpecificity[B];if(typeof (E)=="undefined")E="000";if(C>E){this.styles[B]=D[B];this.stylesSpecificity[B]=C;}}}};if(v!=null&&v.nodeType==1){for(var w=0;w<v.attributes.length;w++){var u=v.attributes[w];this.attributes[u.nodeName]=new p.Property(u.nodeName,u.value);}this.addStylesFromStyleDefinition();if(this.attribute("style").hasValue()){var z=this.attribute("style").value.split(";");for(var w=0;w<z.length;w++)if(p.trim(z[w])!=""){var s=z[w].split(":");var t=p.trim(s[0]);var x=p.trim(s[1]);this.styles[t]=new p.Property(t,x);}}if(this.attribute("id").hasValue())if(p.Definitions[this.attribute("id").value]==null)p.Definitions[this.attribute("id").value]=this;for(var w=0;w<v.childNodes.length;w++){var r=v.childNodes[w];if(r.nodeType==1)this.addChild(r,true);if(this.captureTextNodes&&(r.nodeType==3||r.nodeType==4)){var y=r.value||r.text||r.textContent||"";if(p.compressSpaces(y)!="")this.addChild(new p.Element.tspan(r),false);}}}};p.Element.RenderedElementBase=function(r){this.base=p.Element.ElementBase;this.base(r);this.setContext=function(A){if(this.style("fill").isUrlDefinition()){var x=this.style("fill").getFillStyleDefinition(this,this.style("fill-opacity"));if(x!=null)A.fillStyle=x;}else{if(this.style("fill").hasValue()){var z=this.style("fill");if(z.value=="currentColor")z.value=this.style("color").value;if(z.value!="inherit")A.fillStyle=(z.value=="none"?"rgba(0,0,0,0)":z.value);}}if(this.style("fill-opacity").hasValue()){var z=new p.Property("fill",A.fillStyle);z=z.addOpacity(this.style("fill-opacity"));A.fillStyle=z.value;}if(this.style("stroke").isUrlDefinition()){var x=this.style("stroke").getFillStyleDefinition(this,this.style("stroke-opacity"));if(x!=null)A.strokeStyle=x;}else{if(this.style("stroke").hasValue()){var y=this.style("stroke");if(y.value=="currentColor")y.value=this.style("color").value;if(y.value!="inherit")A.strokeStyle=(y.value=="none"?"rgba(0,0,0,0)":y.value);}}if(this.style("stroke-opacity").hasValue()){var y=new p.Property("stroke",A.strokeStyle);y=y.addOpacity(this.style("stroke-opacity"));A.strokeStyle=y.value;}if(this.style("stroke-width").hasValue()){var w=this.style("stroke-width").toPixels();A.lineWidth=w==0?0.001:w;}if(this.style("stroke-linecap").hasValue())A.lineCap=this.style("stroke-linecap").value;if(this.style("stroke-linejoin").hasValue())A.lineJoin=this.style("stroke-linejoin").value;if(this.style("stroke-miterlimit").hasValue())A.miterLimit=this.style("stroke-miterlimit").value;if(this.style("stroke-dasharray").hasValue()&&this.style("stroke-dasharray").value!="none"){var u=p.ToNumberArray(this.style("stroke-dasharray").value);if(typeof (A.setLineDash)!="undefined")A.setLineDash(u);else if(typeof (A.webkitLineDash)!="undefined")A.webkitLineDash=u;else{if(typeof (A.mozDash)!="undefined"&&!(u.length==1&&u[0]==0))A.mozDash=u;}var v=this.style("stroke-dashoffset").numValueOrDefault(1);if(typeof (A.lineDashOffset)!="undefined")A.lineDashOffset=v;else if(typeof (A.webkitLineDashOffset)!="undefined")A.webkitLineDashOffset=v;else{if(typeof (A.mozDashOffset)!="undefined")A.mozDashOffset=v;}}if(typeof (A.font)!="undefined")A.font=p.Font.CreateFont(this.style("font-style").value,this.style("font-variant").value,this.style("font-weight").value,this.style("font-size").hasValue()?this.style("font-size").toPixels()+"px":"",this.style("font-family").value).toString();if(this.style("transform",false,true).hasValue()){var s=new p.Transform(this.style("transform",false,true).value);s.apply(A);}if(this.style("clip-path",false,true).hasValue()){var t=this.style("clip-path",false,true).getDefinition();if(t!=null)t.apply(A);}if(this.style("opacity").hasValue())A.globalAlpha=this.style("opacity").numValue();};};p.Element.RenderedElementBase.prototype=new p.Element.ElementBase();p.Element.PathElementBase=function(r){this.base=p.Element.RenderedElementBase;this.base(r);this.path=function(s){if(s!=null)s.beginPath();return new p.BoundingBox();};this.renderChildren=function(t){this.path(t);p.Mouse.checkPath(this,t);if(t.fillStyle!="")if(this.style("fill-rule").valueOrDefault("inherit")!="inherit")t.fill(this.style("fill-rule").value);else t.fill();if(t.strokeStyle!="")t.stroke();var v=this.getMarkers();if(v!=null){if(this.style("marker-start").isUrlDefinition()){var s=this.style("marker-start").getDefinition();s.render(t,v[0][0],v[0][1]);}if(this.style("marker-mid").isUrlDefinition()){var s=this.style("marker-mid").getDefinition();for(var u=1;u<v.length-1;u++)s.render(t,v[u][0],v[u][1]);}if(this.style("marker-end").isUrlDefinition()){var s=this.style("marker-end").getDefinition();s.render(t,v[v.length-1][0],v[v.length-1][1]);}}};this.getBoundingBox=function(){return this.path();};this.getMarkers=function(){return null;};};p.Element.PathElementBase.prototype=new p.Element.RenderedElementBase();p.Element.svg=function(r){this.base=p.Element.RenderedElementBase;this.base(r);this.baseClearContext=this.clearContext;this.clearContext=function(s){this.baseClearContext(s);p.ViewPort.RemoveCurrent();};this.baseSetContext=this.setContext;this.setContext=function(v){v.strokeStyle="rgba(0,0,0,0)";v.lineCap="butt";v.lineJoin="miter";v.miterLimit=4;if(typeof (v.font)!="undefined"&&typeof (window.getComputedStyle)!="undefined")v.font=window.getComputedStyle(v.canvas).getPropertyValue("font");this.baseSetContext(v);if(!this.attribute("x").hasValue())this.attribute("x",true).value=0;if(!this.attribute("y").hasValue())this.attribute("y",true).value=0;v.translate(this.attribute("x").toPixels("x"),this.attribute("y").toPixels("y"));var w=p.ViewPort.width();var u=p.ViewPort.height();if(!this.attribute("width").hasValue())this.attribute("width",true).value="100%";if(!this.attribute("height").hasValue())this.attribute("height",true).value="100%";if(typeof (this.root)=="undefined"){w=this.attribute("width").toPixels("x");u=this.attribute("height").toPixels("y");var t=0;var B=0;if(this.attribute("refX").hasValue()&&this.attribute("refY").hasValue()){t=-this.attribute("refX").toPixels("x");B=-this.attribute("refY").toPixels("y");}if(this.attribute("overflow").valueOrDefault("hidden")!="visible"){v.beginPath();v.moveTo(t,B);v.lineTo(w,B);v.lineTo(w,u);v.lineTo(t,u);v.closePath();v.clip();}}p.ViewPort.SetCurrent(w,u);if(this.attribute("viewBox").hasValue()){var z=p.ToNumberArray(this.attribute("viewBox").value);var s=z[0];var A=z[1];w=z[2];u=z[3];p.AspectRatio(v,this.attribute("preserveAspectRatio").value,p.ViewPort.width(),w,p.ViewPort.height(),u,s,A,this.attribute("refX").value,this.attribute("refY").value);p.ViewPort.RemoveCurrent();p.ViewPort.SetCurrent(z[2],z[3]);}};};p.Element.svg.prototype=new p.Element.RenderedElementBase();p.Element.rect=function(r){this.base=p.Element.PathElementBase;this.base(r);this.path=function(u){var t=this.attribute("x").toPixels("x");var A=this.attribute("y").toPixels("y");var v=this.attribute("width").toPixels("x");var s=this.attribute("height").toPixels("y");var z=this.attribute("rx").toPixels("x");var w=this.attribute("ry").toPixels("y");if(this.attribute("rx").hasValue()&&!this.attribute("ry").hasValue())w=z;if(this.attribute("ry").hasValue()&&!this.attribute("rx").hasValue())z=w;z=Math.min(z,v/2);w=Math.min(w,s/2);if(u!=null){u.beginPath();u.moveTo(t+z,A);u.lineTo(t+v-z,A);u.quadraticCurveTo(t+v,A,t+v,A+w);u.lineTo(t+v,A+s-w);u.quadraticCurveTo(t+v,A+s,t+v-z,A+s);u.lineTo(t+z,A+s);u.quadraticCurveTo(t,A+s,t,A+s-w);u.lineTo(t,A+w);u.quadraticCurveTo(t,A,t+z,A);u.closePath();}return new p.BoundingBox(t,A,t+v,A+s);};};p.Element.rect.prototype=new p.Element.PathElementBase();p.Element.circle=function(r){this.base=p.Element.PathElementBase;this.base(r);this.path=function(t){var s=this.attribute("cx").toPixels("x");var v=this.attribute("cy").toPixels("y");var u=this.attribute("r").toPixels();if(t!=null){t.beginPath();t.arc(s,v,u,0,Math.PI*2,true);t.closePath();}return new p.BoundingBox(s-u,v-u,s+u,v+u);};};p.Element.circle.prototype=new p.Element.PathElementBase();p.Element.ellipse=function(r){this.base=p.Element.PathElementBase;this.base(r);this.path=function(t){var v=4*((Math.sqrt(2)-1)/3);var w=this.attribute("rx").toPixels("x");var u=this.attribute("ry").toPixels("y");var s=this.attribute("cx").toPixels("x");var x=this.attribute("cy").toPixels("y");if(t!=null){t.beginPath();t.moveTo(s,x-u);t.bezierCurveTo(s+(v*w),x-u,s+w,x-(v*u),s+w,x);t.bezierCurveTo(s+w,x+(v*u),s+(v*w),x+u,s,x+u);t.bezierCurveTo(s-(v*w),x+u,s-w,x+(v*u),s-w,x);t.bezierCurveTo(s-w,x-(v*u),s-(v*w),x-u,s,x-u);t.closePath();}return new p.BoundingBox(s-w,x-u,s+w,x+u);};};p.Element.ellipse.prototype=new p.Element.PathElementBase();p.Element.line=function(r){this.base=p.Element.PathElementBase;this.base(r);this.getPoints=function(){return [new p.Point(this.attribute("x1").toPixels("x"),this.attribute("y1").toPixels("y")),new p.Point(this.attribute("x2").toPixels("x"),this.attribute("y2").toPixels("y"))];};this.path=function(s){var t=this.getPoints();if(s!=null){s.beginPath();s.moveTo(t[0].x,t[0].y);s.lineTo(t[1].x,t[1].y);}return new p.BoundingBox(t[0].x,t[0].y,t[1].x,t[1].y);};this.getMarkers=function(){var t=this.getPoints();var s=t[0].angleTo(t[1]);return [[t[0],s],[t[1],s]];};};p.Element.line.prototype=new p.Element.PathElementBase();p.Element.polyline=function(r){this.base=p.Element.PathElementBase;this.base(r);this.points=p.CreatePath(this.attribute("points").value);this.path=function(s){var u=new p.BoundingBox(this.points[0].x,this.points[0].y);if(s!=null){s.beginPath();s.moveTo(this.points[0].x,this.points[0].y);}for(var t=1;t<this.points.length;t++){u.addPoint(this.points[t].x,this.points[t].y);if(s!=null)s.lineTo(this.points[t].x,this.points[t].y);}return u;};this.getMarkers=function(){var t=[];for(var s=0;s<this.points.length-1;s++)t.push([this.points[s],this.points[s].angleTo(this.points[s+1])]);t.push([this.points[this.points.length-1],t[t.length-1][1]]);return t;};};p.Element.polyline.prototype=new p.Element.PathElementBase();p.Element.polygon=function(r){this.base=p.Element.polyline;this.base(r);this.basePath=this.path;this.path=function(s){var t=this.basePath(s);if(s!=null){s.lineTo(this.points[0].x,this.points[0].y);s.closePath();}return t;};};p.Element.polygon.prototype=new p.Element.polyline();p.Element.path=function(s){this.base=p.Element.PathElementBase;this.base(s);var t=this.attribute("d").value;t=t.replace(/,/gm," ");for(var r=0;r<2;r++)t=t.replace(/([MmZzLlHhVvCcSsQqTtAa])([^\s])/gm,"$1 $2");t=t.replace(/([^\s])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2");t=t.replace(/([0-9])([+\-])/gm,"$1 $2");for(var r=0;r<2;r++)t=t.replace(/(\.[0-9]*)(\.)/gm,"$1 $2");t=t.replace(/([Aa](\s+[0-9]+){3})\s+([01])\s*([01])/gm,"$1 $3 $4 ");t=p.compressSpaces(t);t=p.trim(t);this.PathParser=new (function(u){this.tokens=u.split(" ");this.reset=function(){this.i=-1;this.command="";this.previousCommand="";this.start=new p.Point(0,0);this.control=new p.Point(0,0);this.current=new p.Point(0,0);this.points=[];this.angles=[];};this.isEnd=function(){return this.i>=this.tokens.length-1;};this.isCommandOrEnd=function(){if(this.isEnd())return true;return this.tokens[this.i+1].match(/^[A-Za-z]$/)!=null;};this.isRelativeCommand=function(){switch(this.command){case "m":case "l":case "h":case "v":case "c":case "s":case "q":case "t":case "a":case "z":return true;break;}return false;};this.getToken=function(){this.i++;return this.tokens[this.i];};this.getScalar=function(){return parseFloat(this.getToken());};this.nextCommand=function(){this.previousCommand=this.command;this.command=this.getToken();};this.getPoint=function(){var v=new p.Point(this.getScalar(),this.getScalar());return this.makeAbsolute(v);};this.getAsControlPoint=function(){var v=this.getPoint();this.control=v;return v;};this.getAsCurrentPoint=function(){var v=this.getPoint();this.current=v;return v;};this.getReflectedControlPoint=function(){if(this.previousCommand.toLowerCase()!="c"&&this.previousCommand.toLowerCase()!="s"&&this.previousCommand.toLowerCase()!="q"&&this.previousCommand.toLowerCase()!="t")return this.current;var v=new p.Point(2*this.current.x-this.control.x,2*this.current.y-this.control.y);return v;};this.makeAbsolute=function(v){if(this.isRelativeCommand()){v.x+=this.current.x;v.y+=this.current.y;}return v;};this.addMarker=function(w,x,v){if(v!=null&&this.angles.length>0&&this.angles[this.angles.length-1]==null)this.angles[this.angles.length-1]=this.points[this.points.length-1].angleTo(v);this.addMarkerAngle(w,x==null?null:x.angleTo(w));};this.addMarkerAngle=function(w,v){this.points.push(w);this.angles.push(v);};this.getMarkerPoints=function(){return this.points;};this.getMarkerAngles=function(){for(var w=0;w<this.angles.length;w++)if(this.angles[w]==null)for(var v=w+1;v<this.angles.length;v++)if(this.angles[v]!=null){this.angles[w]=this.angles[v];break;}return this.angles;};})(t);this.path=function(S){var U=this.PathParser;U.reset();var F=new p.BoundingBox();if(S!=null)S.beginPath();while(!U.isEnd()){U.nextCommand();switch(U.command){case "M":case "m":var P=U.getAsCurrentPoint();U.addMarker(P);F.addPoint(P.x,P.y);if(S!=null)S.moveTo(P.x,P.y);U.start=U.current;while(!U.isCommandOrEnd()){var P=U.getAsCurrentPoint();U.addMarker(P,U.start);F.addPoint(P.x,P.y);if(S!=null)S.lineTo(P.x,P.y);}break;case "L":case "l":while(!U.isCommandOrEnd()){var Y=U.current;var P=U.getAsCurrentPoint();U.addMarker(P,Y);F.addPoint(P.x,P.y);if(S!=null)S.lineTo(P.x,P.y);}break;case "H":case "h":while(!U.isCommandOrEnd()){var y=new p.Point((U.isRelativeCommand()?U.current.x:0)+U.getScalar(),U.current.y);U.addMarker(y,U.current);U.current=y;F.addPoint(U.current.x,U.current.y);if(S!=null)S.lineTo(U.current.x,U.current.y);}break;case "V":case "v":while(!U.isCommandOrEnd()){var y=new p.Point(U.current.x,(U.isRelativeCommand()?U.current.y:0)+U.getScalar());U.addMarker(y,U.current);U.current=y;F.addPoint(U.current.x,U.current.y);if(S!=null)S.lineTo(U.current.x,U.current.y);}break;case "C":case "c":while(!U.isCommandOrEnd()){var W=U.current;var A=U.getPoint();var B=U.getAsControlPoint();var H=U.getAsCurrentPoint();U.addMarker(H,B,A);F.addBezierCurve(W.x,W.y,A.x,A.y,B.x,B.y,H.x,H.y);if(S!=null)S.bezierCurveTo(A.x,A.y,B.x,B.y,H.x,H.y);}break;case "S":case "s":while(!U.isCommandOrEnd()){var W=U.current;var A=U.getReflectedControlPoint();var B=U.getAsControlPoint();var H=U.getAsCurrentPoint();U.addMarker(H,B,A);F.addBezierCurve(W.x,W.y,A.x,A.y,B.x,B.y,H.x,H.y);if(S!=null)S.bezierCurveTo(A.x,A.y,B.x,B.y,H.x,H.y);}break;case "Q":case "q":while(!U.isCommandOrEnd()){var W=U.current;var B=U.getAsControlPoint();var H=U.getAsCurrentPoint();U.addMarker(H,B,B);F.addQuadraticCurve(W.x,W.y,B.x,B.y,H.x,H.y);if(S!=null)S.quadraticCurveTo(B.x,B.y,H.x,H.y);}break;case "T":case "t":while(!U.isCommandOrEnd()){var W=U.current;var B=U.getReflectedControlPoint();U.control=B;var H=U.getAsCurrentPoint();U.addMarker(H,B,B);F.addQuadraticCurve(W.x,W.y,B.x,B.y,H.x,H.y);if(S!=null)S.quadraticCurveTo(B.x,B.y,H.x,H.y);}break;case "A":case "a":while(!U.isCommandOrEnd()){var W=U.current;var E=U.getScalar();var D=U.getScalar();var x=U.getScalar()*(Math.PI/180);var G=U.getScalar();var C=U.getScalar();var H=U.getAsCurrentPoint();var ab=new p.Point(Math.cos(x)*(W.x-H.x)/2+Math.sin(x)*(W.y-H.y)/2,-Math.sin(x)*(W.x-H.x)/2+Math.cos(x)*(W.y-H.y)/2);var T=Math.pow(ab.x,2)/Math.pow(E,2)+Math.pow(ab.y,2)/Math.pow(D,2);if(T>1){E*=Math.sqrt(T);D*=Math.sqrt(T);}var L=(G==C?-1:1)*Math.sqrt(((Math.pow(E,2)*Math.pow(D,2))-(Math.pow(E,2)*Math.pow(ab.y,2))-(Math.pow(D,2)*Math.pow(ab.x,2)))/(Math.pow(E,2)*Math.pow(ab.y,2)+Math.pow(D,2)*Math.pow(ab.x,2)));if(isNaN(L))L=0;var K=new p.Point(L*E*ab.y/D,L*-D*ab.x/E);var z=new p.Point((W.x+H.x)/2+Math.cos(x)*K.x-Math.sin(x)*K.y,(W.y+H.y)/2+Math.sin(x)*K.x+Math.cos(x)*K.y);var R=function(u){return Math.sqrt(Math.pow(u[0],2)+Math.pow(u[1],2));};var N=function(ad,ac){return (ad[0]*ac[0]+ad[1]*ac[1])/(R(ad)*R(ac));};var Z=function(ad,ac){return (ad[0]*ac[1]<ad[1]*ac[0]?-1:1)*Math.acos(N(ad,ac));};var aa=Z([1,0],[(ab.x-K.x)/E,(ab.y-K.y)/D]);var J=[(ab.x-K.x)/E,(ab.y-K.y)/D];var I=[(-ab.x-K.x)/E,(-ab.y-K.y)/D];var X=Z(J,I);if(N(J,I)<=-1)X=Math.PI;if(N(J,I)>=1)X=0;var Q=1-C?1:-1;var V=aa+Q*(X/2);var w=new p.Point(z.x+E*Math.cos(V),z.y+D*Math.sin(V));U.addMarkerAngle(w,V-Q*Math.PI/2);U.addMarkerAngle(H,V-Q*Math.PI);F.addPoint(H.x,H.y);if(S!=null){var N=E>D?E:D;var O=E>D?1:E/D;var M=E>D?D/E:1;S.translate(z.x,z.y);S.rotate(x);S.scale(O,M);S.arc(0,0,N,aa,aa+X,1-C);S.scale(1/O,1/M);S.rotate(-x);S.translate(-z.x,-z.y);}}break;case "Z":case "z":if(S!=null)S.closePath();U.current=U.start;}}return F;};this.getMarkers=function(){var v=this.PathParser.getMarkerPoints();var x=this.PathParser.getMarkerAngles();var w=[];for(var u=0;u<v.length;u++)w.push([v[u],x[u]]);return w;};};p.Element.path.prototype=new p.Element.PathElementBase();p.Element.pattern=function(r){this.base=p.Element.ElementBase;this.base(r);this.createPattern=function(D,u){var s=this.attribute("width").toPixels("x",true);var C=this.attribute("height").toPixels("y",true);var A=new p.Element.svg();A.attributes.viewBox=new p.Property("viewBox",this.attribute("viewBox").value);A.attributes.width=new p.Property("width",s+"px");A.attributes.height=new p.Property("height",C+"px");A.attributes.transform=new p.Property("transform",this.attribute("patternTransform").value);A.children=this.children;var w=document.createElement("canvas");w.width=s;w.height=C;var t=w.getContext("2d");if(this.attribute("x").hasValue()&&this.attribute("y").hasValue())t.translate(this.attribute("x").toPixels("x",true),this.attribute("y").toPixels("y",true));for(var B=-1;B<=1;B++)for(var z=-1;z<=1;z++){t.save();A.attributes.x=new p.Property("x",B*w.width);A.attributes.y=new p.Property("y",z*w.height);A.render(t);t.restore();}var v=D.createPattern(w,"repeat");return v;};};p.Element.pattern.prototype=new p.Element.ElementBase();p.Element.marker=function(r){this.base=p.Element.ElementBase;this.base(r);this.baseRender=this.render;this.render=function(t,s,v){t.translate(s.x,s.y);if(this.attribute("orient").valueOrDefault("auto")=="auto")t.rotate(v);if(this.attribute("markerUnits").valueOrDefault("strokeWidth")=="strokeWidth")t.scale(t.lineWidth,t.lineWidth);t.save();var u=new p.Element.svg();u.attributes.viewBox=new p.Property("viewBox",this.attribute("viewBox").value);u.attributes.refX=new p.Property("refX",this.attribute("refX").value);u.attributes.refY=new p.Property("refY",this.attribute("refY").value);u.attributes.width=new p.Property("width",this.attribute("markerWidth").value);u.attributes.height=new p.Property("height",this.attribute("markerHeight").value);u.attributes.fill=new p.Property("fill",this.attribute("fill").valueOrDefault("black"));u.attributes.stroke=new p.Property("stroke",this.attribute("stroke").valueOrDefault("none"));u.children=this.children;u.render(t);t.restore();if(this.attribute("markerUnits").valueOrDefault("strokeWidth")=="strokeWidth")t.scale(1/t.lineWidth,1/t.lineWidth);if(this.attribute("orient").valueOrDefault("auto")=="auto")t.rotate(-v);t.translate(-s.x,-s.y);};};p.Element.marker.prototype=new p.Element.ElementBase();p.Element.defs=function(r){this.base=p.Element.ElementBase;this.base(r);this.render=function(s){};};p.Element.defs.prototype=new p.Element.ElementBase();p.Element.GradientBase=function(s){this.base=p.Element.ElementBase;this.base(s);this.stops=[];for(var r=0;r<this.children.length;r++){var t=this.children[r];if(t.type=="stop")this.stops.push(t);}this.getGradient=function(){};this.gradientUnits=function(){return this.attribute("gradientUnits").valueOrDefault("objectBoundingBox");};this.attributesToInherit=["gradientUnits"];this.inheritStopContainer=function(u){for(var w=0;w<this.attributesToInherit.length;w++){var v=this.attributesToInherit[w];if(!this.attribute(v).hasValue()&&u.attribute(v).hasValue())this.attribute(v,true).value=u.attribute(v).value;}};this.createGradient=function(G,x,u){var F=this;if(this.getHrefAttribute().hasValue()){F=this.getHrefAttribute().getDefinition();this.inheritStopContainer(F);}var w=function(H){if(u.hasValue()){var I=new p.Property("color",H);return I.addOpacity(u).value;}return H;};var z=this.getGradient(G,x);if(z==null)return w(F.stops[F.stops.length-1].color);for(var y=0;y<F.stops.length;y++)z.addColorStop(F.stops[y].offset,w(F.stops[y].color));if(this.attribute("gradientTransform").hasValue()){var B=p.ViewPort.viewPorts[0];var C=new p.Element.rect();C.attributes.x=new p.Property("x",-p.MAX_VIRTUAL_PIXELS/3);C.attributes.y=new p.Property("y",-p.MAX_VIRTUAL_PIXELS/3);C.attributes.width=new p.Property("width",p.MAX_VIRTUAL_PIXELS);C.attributes.height=new p.Property("height",p.MAX_VIRTUAL_PIXELS);var E=new p.Element.g();E.attributes.transform=new p.Property("transform",this.attribute("gradientTransform").value);E.children=[C];var D=new p.Element.svg();D.attributes.x=new p.Property("x",0);D.attributes.y=new p.Property("y",0);D.attributes.width=new p.Property("width",B.width);D.attributes.height=new p.Property("height",B.height);D.children=[E];var A=document.createElement("canvas");A.width=B.width;A.height=B.height;var v=A.getContext("2d");v.fillStyle=z;D.render(v);return v.createPattern(A,"no-repeat");}return z;};};p.Element.GradientBase.prototype=new p.Element.ElementBase();p.Element.linearGradient=function(r){this.base=p.Element.GradientBase;this.base(r);this.attributesToInherit.push("x1");this.attributesToInherit.push("y1");this.attributesToInherit.push("x2");this.attributesToInherit.push("y2");this.getGradient=function(s,w){var y=this.gradientUnits()=="objectBoundingBox"?w.getBoundingBox():null;if(!this.attribute("x1").hasValue()&&!this.attribute("y1").hasValue()&&!this.attribute("x2").hasValue()&&!this.attribute("y2").hasValue()){this.attribute("x1",true).value=0;this.attribute("y1",true).value=0;this.attribute("x2",true).value=1;this.attribute("y2",true).value=0;}var u=(this.gradientUnits()=="objectBoundingBox"?y.x()+y.width()*this.attribute("x1").numValue():this.attribute("x1").toPixels("x"));var x=(this.gradientUnits()=="objectBoundingBox"?y.y()+y.height()*this.attribute("y1").numValue():this.attribute("y1").toPixels("y"));var t=(this.gradientUnits()=="objectBoundingBox"?y.x()+y.width()*this.attribute("x2").numValue():this.attribute("x2").toPixels("x"));var v=(this.gradientUnits()=="objectBoundingBox"?y.y()+y.height()*this.attribute("y2").numValue():this.attribute("y2").toPixels("y"));if(u==t&&x==v)return null;return s.createLinearGradient(u,x,t,v);};};p.Element.linearGradient.prototype=new p.Element.GradientBase();p.Element.radialGradient=function(r){this.base=p.Element.GradientBase;this.base(r);this.attributesToInherit.push("cx");this.attributesToInherit.push("cy");this.attributesToInherit.push("r");this.attributesToInherit.push("fx");this.attributesToInherit.push("fy");this.getGradient=function(t,u){var y=u.getBoundingBox();if(!this.attribute("cx").hasValue())this.attribute("cx",true).value="50%";if(!this.attribute("cy").hasValue())this.attribute("cy",true).value="50%";if(!this.attribute("r").hasValue())this.attribute("r",true).value="50%";var s=(this.gradientUnits()=="objectBoundingBox"?y.x()+y.width()*this.attribute("cx").numValue():this.attribute("cx").toPixels("x"));var z=(this.gradientUnits()=="objectBoundingBox"?y.y()+y.height()*this.attribute("cy").numValue():this.attribute("cy").toPixels("y"));var x=s;var v=z;if(this.attribute("fx").hasValue())x=(this.gradientUnits()=="objectBoundingBox"?y.x()+y.width()*this.attribute("fx").numValue():this.attribute("fx").toPixels("x"));if(this.attribute("fy").hasValue())v=(this.gradientUnits()=="objectBoundingBox"?y.y()+y.height()*this.attribute("fy").numValue():this.attribute("fy").toPixels("y"));var w=(this.gradientUnits()=="objectBoundingBox"?(y.width()+y.height())/2*this.attribute("r").numValue():this.attribute("r").toPixels());return t.createRadialGradient(x,v,0,s,z,w);};};p.Element.radialGradient.prototype=new p.Element.GradientBase();p.Element.stop=function(s){this.base=p.Element.ElementBase;this.base(s);this.offset=this.attribute("offset").numValue();if(this.offset<0)this.offset=0;if(this.offset>1)this.offset=1;var r=this.style("stop-color",true);if(r.value==="")r.value="#000";if(this.style("stop-opacity").hasValue())r=r.addOpacity(this.style("stop-opacity"));this.color=r.value;};p.Element.stop.prototype=new p.Element.ElementBase();p.Element.AnimateBase=function(r){this.base=p.Element.ElementBase;this.base(r);p.Animations.push(this);this.duration=0;this.begin=this.attribute("begin").toMilliseconds();this.maxDuration=this.begin+this.attribute("dur").toMilliseconds();this.getProperty=function(){var t=this.attribute("attributeType").value;var s=this.attribute("attributeName").value;if(t=="CSS")return this.parent.style(s,true);return this.parent.attribute(s,true);};this.initialValue=null;this.initialUnits="";this.removed=false;this.calcValue=function(){return "";};this.update=function(v){if(this.initialValue==null){this.initialValue=this.getProperty().value;this.initialUnits=this.getProperty().getUnits();}if(this.duration>this.maxDuration){if(this.attribute("repeatCount").value=="indefinite"||this.attribute("repeatDur").value=="indefinite")this.duration=0;else if(this.attribute("fill").valueOrDefault("remove")=="freeze"&&!this.frozen){this.frozen=true;this.parent.animationFrozen=true;this.parent.animationFrozenValue=this.getProperty().value;}else{if(this.attribute("fill").valueOrDefault("remove")=="remove"&&!this.removed){this.removed=true;this.getProperty().value=this.parent.animationFrozen?this.parent.animationFrozenValue:this.initialValue;return true;}}return false;}this.duration=this.duration+v;var s=false;if(this.begin<this.duration){var u=this.calcValue();if(this.attribute("type").hasValue()){var t=this.attribute("type").value;u=t+"("+u+")";}this.getProperty().value=u;s=true;}return s;};this.from=this.attribute("from");this.to=this.attribute("to");this.values=this.attribute("values");if(this.values.hasValue())this.values.value=this.values.value.split(";");this.progress=function(){var t={progress:(this.duration-this.begin)/(this.maxDuration-this.begin)};if(this.values.hasValue()){var v=t.progress*(this.values.value.length-1);var u=Math.floor(v),s=Math.ceil(v);t.from=new p.Property("from",parseFloat(this.values.value[u]));t.to=new p.Property("to",parseFloat(this.values.value[s]));t.progress=(v-u)/(s-u);}else{t.from=this.from;t.to=this.to;}return t;};};p.Element.AnimateBase.prototype=new p.Element.ElementBase();p.Element.animate=function(r){this.base=p.Element.AnimateBase;this.base(r);this.calcValue=function(){var t=this.progress();var s=t.from.numValue()+(t.to.numValue()-t.from.numValue())*t.progress;return s+this.initialUnits;};};p.Element.animate.prototype=new p.Element.AnimateBase();p.Element.animateColor=function(r){this.base=p.Element.AnimateBase;this.base(r);this.calcValue=function(){var v=this.progress();var x=new a(v.from.value);var w=new a(v.to.value);if(x.ok&&w.ok){var u=x.r+(w.r-x.r)*v.progress;var t=x.g+(w.g-x.g)*v.progress;var s=x.b+(w.b-x.b)*v.progress;return "rgb("+parseInt(u,10)+","+parseInt(t,10)+","+parseInt(s,10)+")";}return this.attribute("from").value;};};p.Element.animateColor.prototype=new p.Element.AnimateBase();p.Element.animateTransform=function(r){this.base=p.Element.AnimateBase;this.base(r);this.calcValue=function(){var u=this.progress();var w=p.ToNumberArray(u.from.value);var v=p.ToNumberArray(u.to.value);var t="";for(var s=0;s<w.length;s++)t+=w[s]+(v[s]-w[s])*u.progress+" ";return t;};};p.Element.animateTransform.prototype=new p.Element.animate();p.Element.font=function(s){this.base=p.Element.ElementBase;this.base(s);this.horizAdvX=this.attribute("horiz-adv-x").numValue();this.isRTL=false;this.isArabic=false;this.fontFace=null;this.missingGlyph=null;this.glyphs=[];for(var r=0;r<this.children.length;r++){var t=this.children[r];if(t.type=="font-face"){this.fontFace=t;if(t.style("font-family").hasValue())p.Definitions[t.style("font-family").value]=this;}else if(t.type=="missing-glyph")this.missingGlyph=t;else{if(t.type=="glyph")if(t.arabicForm!=""){this.isRTL=true;this.isArabic=true;if(typeof (this.glyphs[t.unicode])=="undefined")this.glyphs[t.unicode]=[];this.glyphs[t.unicode][t.arabicForm]=t;}else this.glyphs[t.unicode]=t;}}};p.Element.font.prototype=new p.Element.ElementBase();p.Element.fontface=function(r){this.base=p.Element.ElementBase;this.base(r);this.ascent=this.attribute("ascent").value;this.descent=this.attribute("descent").value;this.unitsPerEm=this.attribute("units-per-em").numValue();};p.Element.fontface.prototype=new p.Element.ElementBase();p.Element.missingglyph=function(r){this.base=p.Element.path;this.base(r);this.horizAdvX=0;};p.Element.missingglyph.prototype=new p.Element.path();p.Element.glyph=function(r){this.base=p.Element.path;this.base(r);this.horizAdvX=this.attribute("horiz-adv-x").numValue();this.unicode=this.attribute("unicode").value;this.arabicForm=this.attribute("arabic-form").value;};p.Element.glyph.prototype=new p.Element.path();p.Element.text=function(r){this.captureTextNodes=true;this.base=p.Element.RenderedElementBase;this.base(r);this.baseSetContext=this.setContext;this.setContext=function(s){this.baseSetContext(s);var t=this.style("dominant-baseline").toTextBaseline();if(t==null)t=this.style("alignment-baseline").toTextBaseline();if(t!=null)s.textBaseline=t;};this.getBoundingBox=function(){var s=this.attribute("x").toPixels("x");var u=this.attribute("y").toPixels("y");var t=this.parent.style("font-size").numValueOrDefault(p.Font.Parse(p.ctx.font).fontSize);return new p.BoundingBox(s,u-t,s+Math.floor(t*2/3)*this.children[0].getText().length,u);};this.renderChildren=function(s){this.x=this.attribute("x").toPixels("x");this.y=this.attribute("y").toPixels("y");if(this.attribute("dx").hasValue())this.x+=this.attribute("dx").toPixels("x");if(this.attribute("dy").hasValue())this.y+=this.attribute("dy").toPixels("y");this.x+=this.getAnchorDelta(s,this,0);for(var t=0;t<this.children.length;t++)this.renderChild(s,this,t);};this.getAnchorDelta=function(t,x,w){var s=this.style("text-anchor").valueOrDefault("start");if(s!="start"){var v=0;for(var u=w;u<x.children.length;u++){var y=x.children[u];if(u>w&&y.attribute("x").hasValue())break;v+=y.measureTextRecursive(t);}return -1*(s=="end"?v:v/2);}return 0;};this.renderChild=function(s,u,t){var v=u.children[t];if(v.attribute("x").hasValue()){v.x=v.attribute("x").toPixels("x")+u.getAnchorDelta(s,u,t);if(v.attribute("dx").hasValue())v.x+=v.attribute("dx").toPixels("x");}else{if(v.attribute("dx").hasValue())u.x+=v.attribute("dx").toPixels("x");v.x=u.x;}u.x=v.x+v.measureText(s);if(v.attribute("y").hasValue()){v.y=v.attribute("y").toPixels("y");if(v.attribute("dy").hasValue())v.y+=v.attribute("dy").toPixels("y");}else{if(v.attribute("dy").hasValue())u.y+=v.attribute("dy").toPixels("y");v.y=u.y;}u.y=v.y;v.render(s);for(var t=0;t<v.children.length;t++)u.renderChild(s,v,t);};};p.Element.text.prototype=new p.Element.RenderedElementBase();p.Element.TextElementBase=function(r){this.base=p.Element.RenderedElementBase;this.base(r);this.getGlyph=function(s,w,t){var x=w[t];var u=null;if(s.isArabic){var v="isolated";if((t==0||w[t-1]==" ")&&t<w.length-2&&w[t+1]!=" ")v="terminal";if(t>0&&w[t-1]!=" "&&t<w.length-2&&w[t+1]!=" ")v="medial";if(t>0&&w[t-1]!=" "&&(t==w.length-1||w[t+1]==" "))v="initial";if(typeof (s.glyphs[x])!="undefined"){u=s.glyphs[x][v];if(u==null&&s.glyphs[x].type=="glyph")u=s.glyphs[x];}}else u=s.glyphs[x];if(u==null)u=s.missingGlyph;return u;};this.renderChildren=function(z){var x=this.parent.style("font-family").getDefinition();if(x!=null){var A=this.parent.style("font-size").numValueOrDefault(p.Font.Parse(p.ctx.font).fontSize);var u=this.parent.style("font-style").valueOrDefault(p.Font.Parse(p.ctx.font).fontStyle);var y=this.getText();if(x.isRTL)y=y.split("").reverse().join("");var B=p.ToNumberArray(this.parent.attribute("dx").value);for(var v=0;v<y.length;v++){var w=this.getGlyph(x,y,v);var t=A/x.fontFace.unitsPerEm;z.translate(this.x,this.y);z.scale(t,-t);var s=z.lineWidth;z.lineWidth=z.lineWidth*x.fontFace.unitsPerEm/A;if(u=="italic")z.transform(1,0,0.4,1,0,0);w.render(z);if(u=="italic")z.transform(1,0,-0.4,1,0,0);z.lineWidth=s;z.scale(1/t,-1/t);z.translate(-this.x,-this.y);this.x+=A*(w.horizAdvX||x.horizAdvX)/x.fontFace.unitsPerEm;if(typeof (B[v])!="undefined"&&!isNaN(B[v]))this.x+=B[v];}return;}if(z.fillStyle!="")z.fillText(p.compressSpaces(this.getText()),this.x,this.y);if(z.strokeStyle!="")z.strokeText(p.compressSpaces(this.getText()),this.x,this.y);};this.getText=function(){};this.measureTextRecursive=function(s){var u=this.measureText(s);for(var t=0;t<this.children.length;t++)u+=this.children[t].measureTextRecursive(s);return u;};this.measureText=function(z){var x=this.parent.style("font-family").getDefinition();if(x!=null){var A=this.parent.style("font-size").numValueOrDefault(p.Font.Parse(p.ctx.font).fontSize);var t=0;var y=this.getText();if(x.isRTL)y=y.split("").reverse().join("");var B=p.ToNumberArray(this.parent.attribute("dx").value);for(var v=0;v<y.length;v++){var w=this.getGlyph(x,y,v);t+=(w.horizAdvX||x.horizAdvX)*A/x.fontFace.unitsPerEm;if(typeof (B[v])!="undefined"&&!isNaN(B[v]))t+=B[v];}return t;}var s=p.compressSpaces(this.getText());if(!z.measureText)return s.length*10;z.save();this.setContext(z);var u=z.measureText(s).width;z.restore();return u;};};p.Element.TextElementBase.prototype=new p.Element.RenderedElementBase();p.Element.tspan=function(r){this.captureTextNodes=true;this.base=p.Element.TextElementBase;this.base(r);this.text=p.compressSpaces(r.value||r.text||r.textContent||"");this.getText=function(){if(this.children.length>0)return "";return this.text;};};p.Element.tspan.prototype=new p.Element.TextElementBase();p.Element.tref=function(r){this.base=p.Element.TextElementBase;this.base(r);this.getText=function(){var s=this.getHrefAttribute().getDefinition();if(s!=null)return s.children[0].getText();};};p.Element.tref.prototype=new p.Element.TextElementBase();p.Element.a=function(s){this.base=p.Element.TextElementBase;this.base(s);this.hasText=s.childNodes.length>0;for(var r=0;r<s.childNodes.length;r++)if(s.childNodes[r].nodeType!=3)this.hasText=false;this.text=this.hasText?s.childNodes[0].value:"";this.getText=function(){return this.text;};this.baseRenderChildren=this.renderChildren;this.renderChildren=function(t){if(this.hasText){this.baseRenderChildren(t);var v=new p.Property("fontSize",p.Font.Parse(p.ctx.font).fontSize);p.Mouse.checkBoundingBox(this,new p.BoundingBox(this.x,this.y-v.toPixels("y"),this.x+this.measureText(t),this.y));}else{if(this.children.length>0){var u=new p.Element.g();u.children=this.children;u.parent=this;u.render(t);}}};this.onclick=function(){window.open(this.getHrefAttribute().value);};this.onmousemove=function(){p.ctx.canvas.style.cursor="pointer";};};p.Element.a.prototype=new p.Element.TextElementBase();p.Element.image=function(t){this.base=p.Element.RenderedElementBase;this.base(t);var s=this.getHrefAttribute().value;if(s=="")return;var u=s.match(/\.svg$/);p.Images.push(this);this.loaded=false;if(!u){this.img=document.createElement("img");if(p.opts.useCORS==true)this.img.crossOrigin="Anonymous";var r=this;this.img.onload=function(){r.loaded=true;};this.img.onerror=function(){p.log('ERROR: image "'+s+'" not found');r.loaded=true;};this.img.src=s;}else{this.img=p.ajax(s);this.loaded=true;}this.renderChildren=function(z){var w=this.attribute("x").toPixels("x");var B=this.attribute("y").toPixels("y");var A=this.attribute("width").toPixels("x");var v=this.attribute("height").toPixels("y");if(A==0||v==0)return;z.save();if(u)z.drawSvg(this.img,w,B,A,v);else{z.translate(w,B);p.AspectRatio(z,this.attribute("preserveAspectRatio").value,A,this.img.width,v,this.img.height,0,0);z.drawImage(this.img,0,0);}z.restore();};this.getBoundingBox=function(){var w=this.attribute("x").toPixels("x");var A=this.attribute("y").toPixels("y");var z=this.attribute("width").toPixels("x");var v=this.attribute("height").toPixels("y");return new p.BoundingBox(w,A,w+z,A+v);};};p.Element.image.prototype=new p.Element.RenderedElementBase();p.Element.g=function(r){this.base=p.Element.RenderedElementBase;this.base(r);this.getBoundingBox=function(){var t=new p.BoundingBox();for(var s=0;s<this.children.length;s++)t.addBoundingBox(this.children[s].getBoundingBox());return t;};};p.Element.g.prototype=new p.Element.RenderedElementBase();p.Element.symbol=function(r){this.base=p.Element.RenderedElementBase;this.base(r);this.render=function(s){};};p.Element.symbol.prototype=new p.Element.RenderedElementBase();p.Element.style=function(H){this.base=p.Element.ElementBase;this.base(H);var D="";for(var K=0;K<H.childNodes.length;K++)D+=H.childNodes[K].data;D=D.replace(/(\/\*([^*]|[\r\n]|(\*+([^*\/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,"");D=p.compressSpaces(D);var C=D.split("}");for(var K=0;K<C.length;K++)if(p.trim(C[K])!=""){var O=C[K].split("{");var v=O[0].split(",");var r=O[1].split(";");for(var J=0;J<v.length;J++){var A=p.trim(v[J]);if(A!=""){var u=p.Styles[A]||{};for(var I=0;I<r.length;I++){var t=r[I].indexOf(":");var P=r[I].substr(0,t);var G=r[I].substr(t+1,r[I].length-t);if(P!=null&&G!=null)u[p.trim(P)]=new p.Property(p.trim(P),p.trim(G));}p.Styles[A]=u;p.StylesSpecificity[A]=f(A);if(A=="@font-face"){var M=u["font-family"].value.replace(/"/g,"");var B=u.src.value.split(",");for(var E=0;E<B.length;E++)if(B[E].indexOf('format("svg")')>0){var y=B[E].indexOf("url");var x=B[E].indexOf(")",y);var w=B[E].substr(y+5,x-y-6);var N=p.parseXml(p.ajax(w));var z=N.getElementsByTagName("font");for(var L=0;L<z.length;L++){var F=p.CreateElement(z[L]);p.Definitions[M]=F;}}}}}}};p.Element.style.prototype=new p.Element.ElementBase();p.Element.use=function(s){this.base=p.Element.RenderedElementBase;this.base(s);this.baseSetContext=this.setContext;this.setContext=function(t){this.baseSetContext(t);if(this.attribute("x").hasValue())t.translate(this.attribute("x").toPixels("x"),0);if(this.attribute("y").hasValue())t.translate(0,this.attribute("y").toPixels("y"));};var r=this.getHrefAttribute().getDefinition();this.path=function(t){if(r!=null)r.path(t);};this.getBoundingBox=function(){if(r!=null)return r.getBoundingBox();};this.renderChildren=function(t){if(r!=null){var v=r;if(r.type=="symbol"){v=new p.Element.svg();v.type="svg";v.attributes.viewBox=new p.Property("viewBox",r.attribute("viewBox").value);v.attributes.preserveAspectRatio=new p.Property("preserveAspectRatio",r.attribute("preserveAspectRatio").value);v.attributes.overflow=new p.Property("overflow",r.attribute("overflow").value);v.children=r.children;}if(v.type=="svg"){if(this.attribute("width").hasValue())v.attributes.width=new p.Property("width",this.attribute("width").value);if(this.attribute("height").hasValue())v.attributes.height=new p.Property("height",this.attribute("height").value);}var u=v.parent;v.parent=null;v.render(t);v.parent=u;}};};p.Element.use.prototype=new p.Element.RenderedElementBase();p.Element.mask=function(r){this.base=p.Element.ElementBase;this.base(r);this.apply=function(E,u){var C=this.attribute("x").toPixels("x");var B=this.attribute("y").toPixels("y");var s=this.attribute("width").toPixels("x");var D=this.attribute("height").toPixels("y");if(s==0&&D==0){var w=new p.BoundingBox();for(var v=0;v<this.children.length;v++)w.addBoundingBox(this.children[v].getBoundingBox());var C=Math.floor(w.x1);var B=Math.floor(w.y1);var s=Math.floor(w.width());var D=Math.floor(w.height());}var G=u.attribute("mask").value;u.attribute("mask").value="";var A=document.createElement("canvas");A.width=C+s;A.height=B+D;var F=A.getContext("2d");this.renderChildren(F);var z=document.createElement("canvas");z.width=C+s;z.height=B+D;var t=z.getContext("2d");u.render(t);t.globalCompositeOperation="destination-in";t.fillStyle=F.createPattern(A,"no-repeat");t.fillRect(0,0,C+s,B+D);E.fillStyle=t.createPattern(z,"no-repeat");E.fillRect(0,0,C+s,B+D);u.attribute("mask").value=G;};this.render=function(s){};};p.Element.mask.prototype=new p.Element.ElementBase();p.Element.clipPath=function(r){this.base=p.Element.ElementBase;this.base(r);this.apply=function(s){var w=CanvasRenderingContext2D.prototype.beginPath;CanvasRenderingContext2D.prototype.beginPath=function(){};var v=CanvasRenderingContext2D.prototype.closePath;CanvasRenderingContext2D.prototype.closePath=function(){};w.call(s);for(var u=0;u<this.children.length;u++){var x=this.children[u];if(typeof (x.path)!="undefined"){var t=null;if(x.style("transform",false,true).hasValue()){t=new p.Transform(x.style("transform",false,true).value);t.apply(s);}x.path(s);CanvasRenderingContext2D.prototype.closePath=v;if(t)t.unapply(s);}}v.call(s);s.clip();CanvasRenderingContext2D.prototype.beginPath=w;CanvasRenderingContext2D.prototype.closePath=v;};this.render=function(s){};};p.Element.clipPath.prototype=new p.Element.ElementBase();p.Element.filter=function(r){this.base=p.Element.ElementBase;this.base(r);this.apply=function(H,z){var A=z.getBoundingBox();var E=Math.floor(A.x1);var C=Math.floor(A.y1);var t=Math.floor(A.width());var G=Math.floor(A.height());var u=z.style("filter").value;z.style("filter").value="";var F=0,D=0;for(var w=0;w<this.children.length;w++){var s=this.children[w].extraFilterDistance||0;F=Math.max(F,s);D=Math.max(D,s);}var B=document.createElement("canvas");B.width=t+2*F;B.height=G+2*D;var v=B.getContext("2d");v.translate(-E+F,-C+D);z.render(v);for(var w=0;w<this.children.length;w++)if(typeof (this.children[w].apply)==="function")this.children[w].apply(v,0,0,t+2*F,G+2*D);H.drawImage(B,0,0,t+2*F,G+2*D,E-F,C-D,t+2*F,G+2*D);z.style("filter",true).value=u;};this.render=function(s){};};p.Element.filter.prototype=new p.Element.ElementBase();p.Element.feMorphology=function(r){this.base=p.Element.ElementBase;this.base(r);this.apply=function(u,t,w,v,s){};};p.Element.feMorphology.prototype=new p.Element.ElementBase();p.Element.feComposite=function(r){this.base=p.Element.ElementBase;this.base(r);this.apply=function(u,t,w,v,s){};};p.Element.feComposite.prototype=new p.Element.ElementBase();p.Element.feColorMatrix=function(y){this.base=p.Element.ElementBase;this.base(y);var v=p.ToNumberArray(this.attribute("values").value);switch(this.attribute("type").valueOrDefault("matrix")){case "saturate":var x=v[0];v=[0.213+0.787*x,0.715-0.715*x,0.072-0.072*x,0,0,0.213-0.213*x,0.715+0.285*x,0.072-0.072*x,0,0,0.213-0.213*x,0.715-0.715*x,0.072+0.928*x,0,0,0,0,0,1,0,0,0,0,0,1];break;case "hueRotate":var u=v[0]*Math.PI/180;var z=function(B,A,s){return B+Math.cos(u)*A+Math.sin(u)*s;};v=[z(0.213,0.787,-0.213),z(0.715,-0.715,-0.715),z(0.072,-0.072,0.928),0,0,z(0.213,-0.213,0.143),z(0.715,0.285,0.14),z(0.072,-0.072,-0.283),0,0,z(0.213,-0.213,-0.787),z(0.715,-0.715,0.715),z(0.072,0.928,0.072),0,0,0,0,0,1,0,0,0,0,0,1];break;case "luminanceToAlpha":v=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.2125,0.7154,0.0721,0,0,0,0,0,0,1];break;}function w(B,A,E,D,s,C){return B[E*D*4+A*4+C];}function t(B,A,F,D,s,C,E){B[F*D*4+A*4+C]=E;}function r(B,A){var s=v[B];return s*(s<0?A-255:A);}this.apply=function(I,G,E,A,H){var C=I.getImageData(0,0,A,H);for(var E=0;E<H;E++)for(var G=0;G<A;G++){var s=w(C.data,G,E,A,H,0);var B=w(C.data,G,E,A,H,1);var D=w(C.data,G,E,A,H,2);var F=w(C.data,G,E,A,H,3);t(C.data,G,E,A,H,0,r(0,s)+r(1,B)+r(2,D)+r(3,F)+r(4,1));t(C.data,G,E,A,H,1,r(5,s)+r(6,B)+r(7,D)+r(8,F)+r(9,1));t(C.data,G,E,A,H,2,r(10,s)+r(11,B)+r(12,D)+r(13,F)+r(14,1));t(C.data,G,E,A,H,3,r(15,s)+r(16,B)+r(17,D)+r(18,F)+r(19,1));}I.clearRect(0,0,A,H);I.putImageData(C,0,0);};};p.Element.feColorMatrix.prototype=new p.Element.ElementBase();p.Element.feGaussianBlur=function(r){this.base=p.Element.ElementBase;this.base(r);this.blurRadius=Math.floor(this.attribute("stdDeviation").numValue());this.extraFilterDistance=this.blurRadius;this.apply=function(u,t,w,v,s){if(typeof (b.canvasRGBA)=="undefined"){p.log("ERROR: StackBlur.js must be included for blur to work");return;}u.canvas.id=p.UniqueId();u.canvas.style.display="none";document.body.appendChild(u.canvas);b.canvasRGBA(u.canvas.id,t,w,v,s,this.blurRadius);document.body.removeChild(u.canvas);};};p.Element.feGaussianBlur.prototype=new p.Element.ElementBase();p.Element.title=function(r){};p.Element.title.prototype=new p.Element.ElementBase();p.Element.desc=function(r){};p.Element.desc.prototype=new p.Element.ElementBase();p.Element.MISSING=function(r){p.log("ERROR: Element '"+r.nodeName+"' not yet implemented.");};p.Element.MISSING.prototype=new p.Element.ElementBase();p.CreateElement=function(s){var r=s.nodeName.replace(/^[^:]+:/,"");r=r.replace(/\-/g,"");var t=null;if(typeof (p.Element[r])!="undefined")t=new p.Element[r](s);else t=new p.Element.MISSING(s);t.type=s.nodeName;return t;};p.load=function(r,s){p.loadXml(r,p.ajax(s));};p.loadXml=function(r,s){p.loadXmlDoc(r,p.parseXml(s));};p.loadXmlDoc=function(u,x){p.init(u);var t=function(z){var y=u.canvas;while(y){z.x-=y.offsetLeft;z.y-=y.offsetTop;y=y.offsetParent;}if(window.scrollX)z.x+=window.scrollX;if(window.scrollY)z.y+=window.scrollY;return z;};if(p.opts.ignoreMouse!=true){u.canvas.onclick=function(z){var y=t(new p.Point(z!=null?z.clientX:event.clientX,z!=null?z.clientY:event.clientY));p.Mouse.onclick(y.x,y.y);};u.canvas.onmousemove=function(z){var y=t(new p.Point(z!=null?z.clientX:event.clientX,z!=null?z.clientY:event.clientY));p.Mouse.onmousemove(y.x,y.y);};}var w=p.CreateElement(x.documentElement);w.root=true;w.addStylesFromStyleDefinition();var v=true;var s=function(){p.ViewPort.Clear();if(u.canvas.parentNode)p.ViewPort.SetCurrent(u.canvas.parentNode.clientWidth,u.canvas.parentNode.clientHeight);if(p.opts.ignoreDimensions!=true){if(w.style("width").hasValue()){u.canvas.width=w.style("width").toPixels("x");u.canvas.style.width=u.canvas.width+"px";}if(w.style("height").hasValue()){u.canvas.height=w.style("height").toPixels("y");u.canvas.style.height=u.canvas.height+"px";}}var A=u.canvas.clientWidth||u.canvas.width;var z=u.canvas.clientHeight||u.canvas.height;if(p.opts.ignoreDimensions==true&&w.style("width").hasValue()&&w.style("height").hasValue()){A=w.style("width").toPixels("x");z=w.style("height").toPixels("y");}p.ViewPort.SetCurrent(A,z);if(p.opts.offsetX!=null)w.attribute("x",true).value=p.opts.offsetX;if(p.opts.offsetY!=null)w.attribute("y",true).value=p.opts.offsetY;if(p.opts.scaleWidth!=null||p.opts.scaleHeight!=null){var B=null,y=null,C=p.ToNumberArray(w.attribute("viewBox").value);if(p.opts.scaleWidth!=null)if(w.attribute("width").hasValue())B=w.attribute("width").toPixels("x")/p.opts.scaleWidth;else{if(!isNaN(C[2]))B=C[2]/p.opts.scaleWidth;}if(p.opts.scaleHeight!=null)if(w.attribute("height").hasValue())y=w.attribute("height").toPixels("y")/p.opts.scaleHeight;else{if(!isNaN(C[3]))y=C[3]/p.opts.scaleHeight;}if(B==null)B=y;if(y==null)y=B;w.attribute("width",true).value=p.opts.scaleWidth;w.attribute("height",true).value=p.opts.scaleHeight;w.style("transform",true,true).value+=" scale("+(1/B)+","+(1/y)+")";}if(p.opts.ignoreClear!=true)u.clearRect(0,0,A,z);w.render(u);if(v){v=false;if(typeof (p.opts.renderCallback)=="function")p.opts.renderCallback(x);}};var r=true;if(p.ImagesLoaded()){r=false;s();}p.intervalID=setInterval(function(){var z=false;if(r&&p.ImagesLoaded()){r=false;z=true;}if(p.opts.ignoreMouse!=true)z=z|p.Mouse.hasEvents();if(p.opts.ignoreAnimation!=true)for(var y=0;y<p.Animations.length;y++)z=z|p.Animations[y].update(1000/p.FRAMERATE);if(typeof (p.opts.forceRedraw)=="function")if(p.opts.forceRedraw()==true)z=true;if(z){s();p.Mouse.runEvents();}},1000/p.FRAMERATE);};p.stop=function(){if(p.intervalID)clearInterval(p.intervalID);};p.Mouse=new (function(){this.events=[];this.hasEvents=function(){return this.events.length!=0;};this.onclick=function(r,s){this.events.push({type:"onclick",x:r,y:s,run:function(t){if(t.onclick)t.onclick();}});};this.onmousemove=function(r,s){this.events.push({type:"onmousemove",x:r,y:s,run:function(t){if(t.onmousemove)t.onmousemove();}});};this.eventElements=[];this.checkPath=function(t,r){for(var s=0;s<this.events.length;s++){var u=this.events[s];if(r.isPointInPath&&r.isPointInPath(u.x,u.y))this.eventElements[s]=t;}};this.checkBoundingBox=function(s,u){for(var r=0;r<this.events.length;r++){var t=this.events[r];if(u.isPointInBox(t.x,t.y))this.eventElements[r]=s;}};this.runEvents=function(){p.ctx.canvas.style.cursor="";for(var s=0;s<this.events.length;s++){var t=this.events[s];var r=this.eventElements[s];while(r){t.run(r);r=r.parent;}}this.events=[];this.eventElements=[];};})();return p;}if(typeof (CanvasRenderingContext2D)!="undefined")CanvasRenderingContext2D.prototype.drawSvg=function(r,p,o,q,t){h(this.canvas,r,{ignoreMouse:true,ignoreAnimation:true,ignoreDimensions:true,ignoreClear:true,offsetX:p,offsetY:o,scaleWidth:q,scaleHeight:t});};return h;}));;
!function(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define(r):"object"==typeof exports?exports.math=r():e.math=r();}(this,function(){return function(e){function r(n){if(t[n])return t[n].exports;var i=t[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports;}var t={};return r.m=e,r.c=t,r.p="",r(0);}([function(e,r,t){e.exports=t(1);},function(e,r,t){"use strict";function n(e){if("function"!=typeof Object.create)throw new Error("ES5 not supported by this JavaScript engine. Please load the es5-shim and es5-sham library for compatibility.");var r={},a={matrix:"matrix",number:"number",precision:64,epsilon:1e-14};r.config=function(e){if(e){if(i.deepExtend(a,e),e.precision&&r.type.BigNumber.config({precision:e.precision}),t(2)(r,a),e.number&&e.number.defaultType)throw new Error("setting `number.defaultType` is deprecated. Use `number` instead.");if(e.number&&e.number.precision)throw new Error("setting `number.precision` is deprecated. Use `precision` instead.");if(e.matrix&&e.matrix.defaultType)throw new Error("setting `matrix.defaultType` is deprecated. Use `matrix` instead.");if(e.matrix&&e.matrix["default"])throw new Error("setting `matrix.default` is deprecated. Use `matrix` instead.");if(e.decimals)throw new Error("setting `decimals` is deprecated. Use `precision` instead.");}return i.clone(a);},r.create=n;var s=t(159).constructor();if("function"!=typeof s.prototype.clone&&(s.prototype.clone=function(){return this;}),"function"==typeof s.convert)throw new Error("Cannot add function convert to BigNumber: function already exists");return s.convert=function(e){return o(e)>15?e:new s(e);},r.error=t(5),r.type={},r.type.Complex=t(6),r.type.Range=t(7),r.type.Index=t(8),r.type.Matrix=t(9),r.type.Unit=t(10),r.type.Help=t(11),r.type.ResultSet=t(12),r.type.BigNumber=s,r.collection=t(13),r.expression={},r.expression.node=t(16),r.expression.parse=t(14),r.expression.Parser=t(15),r.expression.docs=t(17),t(29)(r,a),t(30)(r,a),t(31)(r,a),t(32)(r,a),t(33)(r,a),t(34)(r,a),t(35)(r,a),t(36)(r,a),t(37)(r,a),t(38)(r,a),t(39)(r,a),t(40)(r,a),t(41)(r,a),t(42)(r,a),t(43)(r,a),t(44)(r,a),t(45)(r,a),t(46)(r,a),t(47)(r,a),t(48)(r,a),t(49)(r,a),t(50)(r,a),t(51)(r,a),t(52)(r,a),t(53)(r,a),t(54)(r,a),t(55)(r,a),t(56)(r,a),t(57)(r,a),t(58)(r,a),t(59)(r,a),t(60)(r,a),t(61)(r,a),t(62)(r,a),t(63)(r,a),t(64)(r,a),t(65)(r,a),t(66)(r,a),t(67)(r,a),t(68)(r,a),t(69)(r,a),t(70)(r,a),t(71)(r,a),t(72)(r,a),t(73)(r,a),t(74)(r,a),t(75)(r,a),t(76)(r,a),t(77)(r,a),t(78)(r,a),t(79)(r,a),t(80)(r,a),t(81)(r,a),t(82)(r,a),t(83)(r,a),t(84)(r,a),t(85)(r,a),t(86)(r,a),t(87)(r,a),t(88)(r,a),t(89)(r,a),t(90)(r,a),t(91)(r,a),t(92)(r,a),t(93)(r,a),t(94)(r,a),t(95)(r,a),t(96)(r,a),t(97)(r,a),t(98)(r,a),t(99)(r,a),t(100)(r,a),t(101)(r,a),t(102)(r,a),t(103)(r,a),t(104)(r,a),t(105)(r,a),t(106)(r,a),t(107)(r,a),t(108)(r,a),t(109)(r,a),t(110)(r,a),t(111)(r,a),t(112)(r,a),t(113)(r,a),t(114)(r,a),t(115)(r,a),t(116)(r,a),t(117)(r,a),t(118)(r,a),t(119)(r,a),t(120)(r,a),t(121)(r,a),t(122)(r,a),t(123)(r,a),t(124)(r,a),t(125)(r,a),t(126)(r,a),t(127)(r,a),t(128)(r,a),t(129)(r,a),t(130)(r,a),t(131)(r,a),t(132)(r,a),t(133)(r,a),t(134)(r,a),t(135)(r,a),t(136)(r,a),t(137)(r,a),t(138)(r,a),t(139)(r,a),t(140)(r,a),t(141)(r,a),t(142)(r,a),t(143)(r,a),t(144)(r,a),t(145)(r,a),t(146)(r,a),t(147)(r,a),t(148)(r,a),t(149)(r,a),t(150)(r,a),t(151)(r,a),r.ifElse=function(){throw new Error("Function ifElse is deprecated. Use the conditional operator instead.");},t(2)(r,a),t(18)(r,a),t(19)(r,a),t(20)(r,a),t(21)(r,a),t(22)(r,a),t(23)(r,a),t(24)(r,a),t(25)(r,a),t(26)(r,a),t(27)(r,a),r.chaining={},r.chaining.Chain=t(28)(r,a),r.chaining.Selector=r.chaining.Chain,r.config(a),r.config(e),r;}var i=t(3),o=t(4).digits,a=n();"undefined"!=typeof window&&(window.mathjs=a),e.exports=a;},function(e,r,t){"use strict";e.exports=function(e,r){var n=t(152),i=t(6),o=e.type.BigNumber,a="bignumber"===r.number;e.pi=a?n.pi(r.precision):Math.PI,e.tau=a?n.tau(r.precision):2*Math.PI,e.e=a?n.e(r.precision):Math.E,e.phi=a?n.phi(r.precision):1.618033988749895,e.i=new i(0,1),e.Infinity=1/0,e.NaN=0/0,e["true"]=!0,e["false"]=!1,e["null"]=null,e.uninitialized=t(153).UNINITIALIZED,e.E=e.e,e.LN2=a?new o(2).ln():Math.LN2,e.LN10=a?new o(10).ln():Math.LN10,e.LOG2E=a?new o(1).div(new o(2).ln()):Math.LOG2E,e.LOG10E=a?new o(1).div(new o(10).ln()):Math.LOG10E,e.PI=e.pi,e.SQRT1_2=a?new o(.5).sqrt():Math.SQRT1_2,e.SQRT2=a?new o(2).sqrt():Math.SQRT2,e.version=t(154);};},function(e,r){"use strict";r.clone=function t(e){var r=typeof e;if("number"===r||"string"===r||"boolean"===r||null===e||void 0===e)return e;if("function"==typeof e.clone)return e.clone();if(Array.isArray(e))return e.map(function(e){return t(e);});if(e instanceof Number)return new Number(e.valueOf());if(e instanceof String)return new String(e.valueOf());if(e instanceof Boolean)return new Boolean(e.valueOf());if(e instanceof Date)return new Date(e.valueOf());if(e instanceof RegExp)throw new TypeError("Cannot clone "+e);var n={};for(var i in e)e.hasOwnProperty(i)&&(n[i]=t(e[i]));return n;},r.extend=function(e,r){for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t]);return e;},r.deepExtend=function n(e,r){if(Array.isArray(r))throw new TypeError("Arrays are not supported by deepExtend");for(var t in r)if(r.hasOwnProperty(t))if(r[t]&&r[t].constructor===Object)void 0===e[t]&&(e[t]={}),e[t].constructor===Object?n(e[t],r[t]):e[t]=r[t];else{if(Array.isArray(r[t]))throw new TypeError("Arrays are not supported by deepExtend");e[t]=r[t];}return e;},r.deepEqual=function(e,t){var n,i,o;if(Array.isArray(e)){if(!Array.isArray(t))return !1;if(e.length!=t.length)return !1;for(i=0,o=e.length;o>i;i++)if(!r.deepEqual(e[i],t[i]))return !1;return !0;}if(e instanceof Object){if(Array.isArray(t)||!(t instanceof Object))return !1;for(n in e)if(!r.deepEqual(e[n],t[n]))return !1;for(n in t)if(!r.deepEqual(e[n],t[n]))return !1;return !0;}return typeof e==typeof t&&e==t;};},function(e,r){"use strict";r.isNumber=function(e){return e instanceof Number||"number"==typeof e;},r.isInteger=function(e){return e==Math.round(e);},r.sign=function(e){return e>0?1:0>e?-1:0;},r.format=function(e,t){if("function"==typeof t)return t(e);if(1/0===e)return "Infinity";if(e===-1/0)return "-Infinity";if(isNaN(e))return "NaN";var n="auto",i=void 0;switch(t&&(t.notation&&(n=t.notation),r.isNumber(t)?i=t:t.precision&&(i=t.precision)),n){case "fixed":return r.toFixed(e,i);case "exponential":return r.toExponential(e,i);case "auto":var o=.001,a=1e5;if(t&&t.exponential&&(void 0!==t.exponential.lower&&(o=t.exponential.lower),void 0!==t.exponential.upper&&(a=t.exponential.upper)),0===e)return "0";var s,u=Math.abs(e);if(u>=o&&a>u){var f=i?e.toPrecision(Math.min(i,21)):e.toPrecision();s=parseFloat(f)+"";}else s=r.toExponential(e,i);return s.replace(/((\.\d*?)(0+))($|e)/,function(){var e=arguments[2],r=arguments[4];return "."!==e?e+r:r;});default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", or "fixed".');}},r.toExponential=function(e,r){return void 0!==r?e.toExponential(Math.min(r-1,20)):e.toExponential();},r.toFixed=function(e,r){return e.toFixed(Math.min(r,20));},r.digits=function(e){return e.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length;},r.DBL_EPSILON=Number.EPSILON||2.220446049250313e-16,r.nearlyEqual=function(e,t,n){if(null==n)return e==t;if(e==t)return !0;if(isNaN(e)||isNaN(t))return !1;if(isFinite(e)&&isFinite(t)){var i=Math.abs(e-t);return i<r.DBL_EPSILON?!0:i<=Math.max(Math.abs(e),Math.abs(t))*n;}return !1;};},function(e,r,t){"use strict";r.ArgumentsError=t(155),r.DimensionError=t(156),r.IndexError=t(157),r.UnsupportedTypeError=t(158);},function(e,r,t){"use strict";function n(e,r){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");switch(arguments.length){case 0:this.re=0,this.im=0;break;case 1:var t=arguments[0];if("object"==typeof t){if("re" in t&&"im" in t){var i=new n(t.re,t.im);this.re=i.re,this.im=i.im;break;}if("r" in t&&"phi" in t){var i=n.fromPolar(t.r,t.phi);this.re=i.re,this.im=i.im;break;}}throw new SyntaxError("Object with the re and im or r and phi properties expected.");case 2:if(!h(e)||!h(r))throw new TypeError("Two numbers expected in Complex constructor");this.re=e,this.im=r;break;default:throw new SyntaxError("One, two or three arguments expected in Complex constructor");}}function i(){for(;" "==y||"	"==y;)s();}function o(e){return e>="0"&&"9">=e||"."==e;}function a(e){return e>="0"&&"9">=e;}function s(){x++,y=w.charAt(x);}function u(e){x=e,y=w.charAt(x);}function f(){var e,r="";if(e=x,"+"==y?s():"-"==y&&(r+=y,s()),!o(y))return u(e),null;if("."==y){if(r+=y,s(),!a(y))return u(e),null;}else{for(;a(y);)r+=y,s();"."==y&&(r+=y,s());}for(;a(y);)r+=y,s();if("E"==y||"e"==y){if(r+=y,s(),("+"==y||"-"==y)&&(r+=y,s()),!a(y))return u(e),null;for(;a(y);)r+=y,s();}return r;}function c(){var e=w.charAt(x+1);if("I"==y||"i"==y)return s(),"1";if(!("+"!=y&&"-"!=y||"I"!=e&&"i"!=e)){var r="+"==y?"1":"-1";return s(),s(),r;}return null;}var l=t(160),p=t(10),m=l.number,h=l.number.isNumber,g=p.isUnit,d=l.string.isString;n.isComplex=function(e){return e instanceof n;};var w,x,y;n.parse=function(e){if(w=e,x=-1,y="",!d(w))return null;s(),i();var r=f();if(r){if("I"==y||"i"==y)return s(),i(),y?null:new n(0,Number(r));i();var t=y;if("+"!=t&&"-"!=t)return i(),y?null:new n(Number(r),0);s(),i();var o=f();if(o){if("I"!=y&&"i"!=y)return null;s();}else{if(o=c(),!o)return null;}return "-"==t&&(o="-"==o[0]?"+"+o.substring(1):"-"+o),s(),i(),y?null:new n(Number(r),Number(o));}return (r=c())?(i(),y?null:new n(0,Number(r))):null;},n.fromPolar=function(){switch(arguments.length){case 1:var e=arguments[0];if("object"==typeof e)return n.fromPolar(e.r,e.phi);throw new TypeError("Input has to be an object with r and phi keys.");case 2:var r=arguments[0],t=arguments[1];if(h(r)){if(g(t)&&t.hasBase(p.BASE_UNITS.ANGLE)&&(t=t.toNumber("rad")),h(t))return new n(r*Math.cos(t),r*Math.sin(t));throw new TypeError("Phi is not a number nor an angle unit.");}throw new TypeError("Radius r is not a number.");default:throw new SyntaxError("Wrong number of arguments in function fromPolar");}},n.prototype.toPolar=function(){return {r:Math.sqrt(this.re*this.re+this.im*this.im),phi:Math.atan2(this.im,this.re)};},n.prototype.clone=function(){return new n(this.re,this.im);},n.prototype.equals=function(e){return this.re===e.re&&this.im===e.im;},n.prototype.format=function(e){var r="",t=m.format(this.re,e),n=m.format(this.im,e);return r=0==this.im?t:0==this.re?1==this.im?"i":-1==this.im?"-i":n+"i":this.im>0?1==this.im?t+" + i":t+" + "+n+"i":-1==this.im?t+" - i":t+" - "+n.substring(1)+"i";},n.prototype.toString=function(){return this.format();},n.prototype.valueOf=n.prototype.toString,e.exports=n;},function(e,r,t){"use strict";function n(e,r,t){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(null!=e&&!o.isNumber(e))throw new TypeError("Parameter start must be a number");if(null!=r&&!o.isNumber(r))throw new TypeError("Parameter end must be a number");if(null!=t&&!o.isNumber(t))throw new TypeError("Parameter step must be a number");this.start=null!=e?parseFloat(e):0,this.end=null!=r?parseFloat(r):0,this.step=null!=t?parseFloat(t):1;}var i=t(160),o=i.number,a=i.string;i.array;;n.parse=function(e){if(!a.isString(e))return null;var r=e.split(":"),t=r.map(function(e){return parseFloat(e);}),i=t.some(function(e){return isNaN(e);});if(i)return null;switch(t.length){case 2:return new n(t[0],t[1]);case 3:return new n(t[0],t[2],t[1]);default:return null;}},n.prototype.clone=function(){return new n(this.start,this.end,this.step);},n.isRange=function(e){return e instanceof n;},n.prototype.size=function(){var e=0,r=this.start,t=this.step,n=this.end,i=n-r;return o.sign(t)==o.sign(i)?e=Math.ceil(i/t):0==i&&(e=0),isNaN(e)&&(e=0),[e];},n.prototype.min=function(){var e=this.size()[0];return e>0?this.step>0?this.start:this.start+(e-1)*this.step:void 0;},n.prototype.max=function(){var e=this.size()[0];return e>0?this.step>0?this.start+(e-1)*this.step:this.start:void 0;},n.prototype.forEach=function(e){var r=this.start,t=this.step,n=this.end,i=0;if(t>0)for(;n>r;)e(r,i,this),r+=t,i++;else{if(0>t)for(;r>n;)e(r,i,this),r+=t,i++;}},n.prototype.map=function(e){var r=[];return this.forEach(function(t,n,i){r[n]=e(t,n,i);}),r;},n.prototype.toArray=function(){var e=[];return this.forEach(function(r,t){e[t]=r;}),e;},n.prototype.valueOf=function(){return this.toArray();},n.prototype.format=function(e){var r=o.format(this.start,e);return 1!=this.step&&(r+=":"+o.format(this.step,e)),r+=":"+o.format(this.end,e);},n.prototype.toString=function(){return this.format();},e.exports=n;},function(e,r,t){"use strict";function n(){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this._ranges=[],this._isScalar=!0;for(var e=0,r=arguments.length;r>e;e++){var t=arguments[e];if(t instanceof a)this._ranges.push(t),this._isScalar=!1;else if(c(t))this._ranges.push(i(t)),this._isScalar=!1;else if(u(t))this._ranges.push(i([t,t+1]));else{var o=t.valueOf();if(!c(o))throw new TypeError("Ranges must be an Array, Number, or Range");this._ranges.push(i(o)),this._isScalar=!1;}}}function i(e){for(var r=e.length,t=0;r>t;t++)if(!u(e[t])||!f(e[t]))throw new TypeError("Index parameters must be integer numbers");switch(e.length){case 2:return new a(e[0],e[1]);case 3:return new a(e[0],e[1],e[2]);default:throw new SyntaxError("Wrong number of arguments in Index (2 or 3 expected)");}}var o=t(160),a=t(7),s=o.number,u=s.isNumber,f=s.isInteger,c=Array.isArray;n.prototype.clone=function(){var e=new n();return e._ranges=o.object.clone(this._ranges),e._isScalar=this._isScalar,e;},n.isIndex=function(e){return e instanceof n;},n.create=function(e){var r=new n();return n.apply(r,e),r;},n.prototype.size=function(){for(var e=[],r=0,t=this._ranges.length;t>r;r++){var n=this._ranges[r];e[r]=n.size()[0];}return e;},n.prototype.max=function(){for(var e=[],r=0,t=this._ranges.length;t>r;r++){var n=this._ranges[r];e[r]=n.max();}return e;},n.prototype.min=function(){for(var e=[],r=0,t=this._ranges.length;t>r;r++){var n=this._ranges[r];e[r]=n.min();}return e;},n.prototype.forEach=function(e){for(var r=0,t=this._ranges.length;t>r;r++)e(this._ranges[r],r,this);},n.prototype.range=function(e){return this._ranges[e]||null;},n.prototype.isScalar=function(){return this._isScalar;},n.prototype.toArray=function(){for(var e=[],r=0,t=this._ranges.length;t>r;r++){var n=this._ranges[r],i=[],o=n.start,a=n.end,s=n.step;if(s>0)for(;a>o;)i.push(o),o+=s;else{if(0>s)for(;o>a;)i.push(o),o+=s;}e.push(i);}return e;},n.prototype.valueOf=n.prototype.toArray,n.prototype.toString=function(){for(var e=[],r=0,t=this._ranges.length;t>r;r++){var n=this._ranges[r],i=s.format(n.start);1!=n.step&&(i+=":"+s.format(n.step)),i+=":"+s.format(n.end),e.push(i);}return "["+e.join(", ")+"]";},e.exports=n;},function(e,r,t){"use strict";function n(e){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(e instanceof n)this._data=e.clone()._data;else if(d(e))this._data=f(e);else{if(null!=e)throw new TypeError("Unsupported type of data ("+c.types.type(e)+")");this._data=[];}this._size=h.size(this._data);}function i(e,r){if(!(r instanceof p))throw new TypeError("Invalid index");var t=r.isScalar();if(t)return e.get(r.min());var i=r.size();if(i.length!=e._size.length)throw new l(i.length,e._size.length);for(var a=r.min(),s=r.max(),u=0,f=e._size.length;f>u;u++)w(a[u],e._size[u]),w(s[u],e._size[u]);return new n(o(e._data,r,i.length,0));}function o(e,r,t,n){var i=n==t-1,a=r.range(n);return a.map(i?function(r){return e[r];}:function(i){var a=e[i];return o(a,r,t,n+1);});}function a(e,r,t,i){if(!(r instanceof p))throw new TypeError("Invalid index");var o,a=r.size(),f=r.isScalar();if(t instanceof n?(o=t.size(),t=t.valueOf()):o=h.size(t),f){if(0!=o.length)throw new TypeError("Scalar expected");e.set(r.min(),t,i);}else{if(a.length<e._size.length)throw new l(a.length,e._size.length,"<");if(o.length<a.length){for(var c=0,m=0;1===a[c]&&1===o[c];)c++;for(;1===a[c];)m++,c++;t=h.unsqueeze(t,a.length,m,o);}if(!g.deepEqual(a,o))throw new l(a,o,">");var d=r.max().map(function(e){return e+1;});u(e,d,i);var w=a.length,x=0;s(e._data,r,t,w,x);}return e;}function s(e,r,t,n,i){var o=i==n-1,a=r.range(i);a.forEach(o?function(r,n){w(r),e[r]=t[n];}:function(o,a){w(o),s(e[o],r,t[a],n,i+1);});}function u(e,r,t){for(var n=g.clone(e._size),i=!1;n.length<r.length;)n.push(0),i=!0;for(var o=0,a=r.length;a>o;o++)r[o]>n[o]&&(n[o]=r[o],i=!0);i&&e.resize(n,t);}function f(e){for(var r=0,t=e.length;t>r;r++){var i=e[r];d(i)?e[r]=f(i):i instanceof n&&(e[r]=f(i._data));}return e;}var c=t(160),l=t(156),p=t(8),m=(c.number,c.string),h=c.array,g=c.object,d=Array.isArray,w=h.validateIndex;n.isMatrix=function(e){return e instanceof n;},n.prototype.subset=function(e,r,t){switch(arguments.length){case 1:return i(this,e);case 2:case 3:return a(this,e,r,t);default:throw new SyntaxError("Wrong number of arguments");}},n.prototype.get=function(e){if(!d(e))throw new TypeError("Array expected");if(e.length!=this._size.length)throw new l(e.length,this._size.length);for(var r=this._data,t=0,n=e.length;n>t;t++){var i=e[t];w(i,r.length),r=r[i];}return g.clone(r);},n.prototype.set=function(e,r,t){var n,i;if(!d(e))throw new Error("Array expected");if(e.length<this._size.length)throw new l(e.length,this._size.length,"<");var o=e.map(function(e){return e+1;});u(this,o,t);var a=this._data;for(n=0,i=e.length-1;i>n;n++){var s=e[n];w(s,a.length),a=a[s];}return s=e[e.length-1],w(s,a.length),a[s]=r,this;},n.prototype.resize=function(e,r){return this._size=g.clone(e),this._data=h.resize(this._data,this._size,r),this;},n.prototype.clone=function(){var e=new n();return e._data=g.clone(this._data),e._size=g.clone(this._size),e;},n.prototype.size=function(){return this._size;},n.prototype.map=function(e){var r=this,t=new n(),i=function(t,n){return d(t)?t.map(function(e,r){return i(e,n.concat(r));}):e(t,n,r);};return t._data=i(this._data,[]),t._size=g.clone(this._size),t;},n.prototype.forEach=function(e){var r=this,t=function(n,i){d(n)?n.forEach(function(e,r){t(e,i.concat(r));}):e(n,i,r);};t(this._data,[]);},n.prototype.toArray=function(){return g.clone(this._data);},n.prototype.valueOf=function(){return this._data;},n.prototype.format=function(e){return m.format(this._data,e);},n.prototype.toString=function(){return m.format(this._data);},e.exports=n;},function(e,r,t){"use strict";function n(e,r){if(!(this instanceof n))throw new Error("Constructor must be called with the new operator");if(void 0!=e&&!x(e))throw new TypeError("First parameter in Unit constructor must be a number");if(void 0!=r&&(!y(r)||""==r))throw new TypeError("Second parameter in Unit constructor must be a string");if(void 0!=r){var t=l(r);if(!t)throw new SyntaxError('Unknown unit "'+r+'"');this.unit=t.unit,this.prefix=t.prefix;}else this.unit=A,this.prefix=b;this.value=void 0!=e?this._normalize(e):null,this.fixPrefix=!1;}function i(){for(;" "==h||"	"==h;)s();}function o(e){return e>="0"&&"9">=e||"."==e;}function a(e){return e>="0"&&"9">=e;}function s(){m++,h=p.charAt(m);}function u(e){m=e,h=p.charAt(m);}function f(){var e,r="";if(e=m,"+"==h?s():"-"==h&&(r+=h,s()),!o(h))return u(e),null;if("."==h){if(r+=h,s(),!a(h))return u(e),null;}else{for(;a(h);)r+=h,s();"."==h&&(r+=h,s());}for(;a(h);)r+=h,s();if("E"==h||"e"==h){if(r+=h,s(),("+"==h||"-"==h)&&(r+=h,s()),!a(h))return u(e),null;for(;a(h);)r+=h,s();}return r;}function c(){var e="";for(i();h&&" "!=h&&"	"!=h;)e+=h,s();return e||null;}function l(e){for(var r in M)if(M.hasOwnProperty(r)&&w.endsWith(e,r)){var t=M[r],n=e.length-r.length,i=e.substring(0,n),o=t.prefixes[i];if(void 0!==o)return {unit:t,prefix:o};}return null;}var p,m,h,g=t(160),d=g.number,w=g.string,x=g.number.isNumber,y=g.string.isString;n.parse=function(e){if(p=e,m=-1,h="",!y(p))return null;s(),i();var r,t=f();if(t){if(r=c(),s(),i(),h)return null;if(t&&r)try{return new n(Number(t),r);}catch(o){}}else{if(r=c(),s(),i(),h)return null;if(r)try{return new n(null,r);}catch(o){}}return null;},n.isUnit=function(e){return e instanceof n;},n.prototype.clone=function(){var e=new n();for(var r in this)this.hasOwnProperty(r)&&(e[r]=this[r]);return e;},n.prototype._normalize=function(e){return (e+this.unit.offset)*this.unit.value*this.prefix.value;},n.prototype._unnormalize=function(e,r){return void 0==r?e/this.unit.value/this.prefix.value-this.unit.offset:e/this.unit.value/r-this.unit.offset;},n.isValuelessUnit=function(e){return null!=l(e);},n.prototype.hasBase=function(e){return this.unit.base===e;},n.prototype.equalBase=function(e){return this.unit.base===e.unit.base;},n.prototype.equals=function(e){return this.equalBase(e)&&this.value==e.value;},n.prototype.to=function(e){var r,t=null==this.value?this._normalize(1):this.value;if(y(e)){if(r=new n(null,e),!this.equalBase(r))throw new Error("Units do not match");return r.value=t,r.fixPrefix=!0,r;}if(e instanceof n){if(!this.equalBase(e))throw new Error("Units do not match");if(null!==e.value)throw new Error("Cannot convert to a unit with a value");return r=e.clone(),r.value=t,r.fixPrefix=!0,r;}throw new Error("String or Unit expected as parameter");},n.prototype.toNumber=function(e){var r=this.to(e);return r._unnormalize(r.value,r.prefix.value);},n.prototype.toString=function(){return this.format();},n.prototype.valueOf=n.prototype.toString,n.prototype.format=function(e){var r,t;if(null===this.value||this.fixPrefix)r=this._unnormalize(this.value),t=null!==this.value?d.format(r,e)+" ":"",t+=this.prefix.name+this.unit.name;else{var n=this._bestPrefix();r=this._unnormalize(this.value,n.value),t=d.format(r,e)+" ",t+=n.name+this.unit.name;}return t;},n.prototype._bestPrefix=function(){var e=Math.abs(this.value/this.unit.value),r=b,t=Math.abs(Math.log(e/r.value)/Math.LN10-1.2),n=this.unit.prefixes;for(var i in n)if(n.hasOwnProperty(i)){var o=n[i];if(o.scientific){var a=Math.abs(Math.log(e/o.value)/Math.LN10-1.2);t>a&&(r=o,t=a);}}return r;};var v={NONE:{"":{name:"",value:1,scientific:!0}},SHORT:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:10,scientific:!1},h:{name:"h",value:100,scientific:!1},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},d:{name:"d",value:.1,scientific:!1},c:{name:"c",value:.01,scientific:!1},m:{name:"m",value:.001,scientific:!0},u:{name:"u",value:1e-6,scientific:!0},n:{name:"n",value:1e-9,scientific:!0},p:{name:"p",value:1e-12,scientific:!0},f:{name:"f",value:1e-15,scientific:!0},a:{name:"a",value:1e-18,scientific:!0},z:{name:"z",value:1e-21,scientific:!0},y:{name:"y",value:1e-24,scientific:!0}},LONG:{"":{name:"",value:1,scientific:!0},deca:{name:"deca",value:10,scientific:!1},hecto:{name:"hecto",value:100,scientific:!1},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},deci:{name:"deci",value:.1,scientific:!1},centi:{name:"centi",value:.01,scientific:!1},milli:{name:"milli",value:.001,scientific:!0},micro:{name:"micro",value:1e-6,scientific:!0},nano:{name:"nano",value:1e-9,scientific:!0},pico:{name:"pico",value:1e-12,scientific:!0},femto:{name:"femto",value:1e-15,scientific:!0},atto:{name:"atto",value:1e-18,scientific:!0},zepto:{name:"zepto",value:1e-21,scientific:!0},yocto:{name:"yocto",value:1e-24,scientific:!0}},SQUARED:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:100,scientific:!1},h:{name:"h",value:1e4,scientific:!1},k:{name:"k",value:1e6,scientific:!0},M:{name:"M",value:1e12,scientific:!0},G:{name:"G",value:1e18,scientific:!0},T:{name:"T",value:1e24,scientific:!0},P:{name:"P",value:1e30,scientific:!0},E:{name:"E",value:1e36,scientific:!0},Z:{name:"Z",value:1e42,scientific:!0},Y:{name:"Y",value:1e48,scientific:!0},d:{name:"d",value:.01,scientific:!1},c:{name:"c",value:1e-4,scientific:!1},m:{name:"m",value:1e-6,scientific:!0},u:{name:"u",value:1e-12,scientific:!0},n:{name:"n",value:1e-18,scientific:!0},p:{name:"p",value:1e-24,scientific:!0},f:{name:"f",value:1e-30,scientific:!0},a:{name:"a",value:1e-36,scientific:!0},z:{name:"z",value:1e-42,scientific:!0},y:{name:"y",value:1e-42,scientific:!0}},CUBIC:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:1e3,scientific:!1},h:{name:"h",value:1e6,scientific:!1},k:{name:"k",value:1e9,scientific:!0},M:{name:"M",value:1e18,scientific:!0},G:{name:"G",value:1e27,scientific:!0},T:{name:"T",value:1e36,scientific:!0},P:{name:"P",value:1e45,scientific:!0},E:{name:"E",value:1e54,scientific:!0},Z:{name:"Z",value:1e63,scientific:!0},Y:{name:"Y",value:1e72,scientific:!0},d:{name:"d",value:.001,scientific:!1},c:{name:"c",value:1e-6,scientific:!1},m:{name:"m",value:1e-9,scientific:!0},u:{name:"u",value:1e-18,scientific:!0},n:{name:"n",value:1e-27,scientific:!0},p:{name:"p",value:1e-36,scientific:!0},f:{name:"f",value:1e-45,scientific:!0},a:{name:"a",value:1e-54,scientific:!0},z:{name:"z",value:1e-63,scientific:!0},y:{name:"y",value:1e-72,scientific:!0}},BINARY_SHORT:{"":{name:"",value:1,scientific:!0},k:{name:"k",value:1024,scientific:!0},M:{name:"M",value:Math.pow(1024,2),scientific:!0},G:{name:"G",value:Math.pow(1024,3),scientific:!0},T:{name:"T",value:Math.pow(1024,4),scientific:!0},P:{name:"P",value:Math.pow(1024,5),scientific:!0},E:{name:"E",value:Math.pow(1024,6),scientific:!0},Z:{name:"Z",value:Math.pow(1024,7),scientific:!0},Y:{name:"Y",value:Math.pow(1024,8),scientific:!0},Ki:{name:"Ki",value:1024,scientific:!0},Mi:{name:"Mi",value:Math.pow(1024,2),scientific:!0},Gi:{name:"Gi",value:Math.pow(1024,3),scientific:!0},Ti:{name:"Ti",value:Math.pow(1024,4),scientific:!0},Pi:{name:"Pi",value:Math.pow(1024,5),scientific:!0},Ei:{name:"Ei",value:Math.pow(1024,6),scientific:!0},Zi:{name:"Zi",value:Math.pow(1024,7),scientific:!0},Yi:{name:"Yi",value:Math.pow(1024,8),scientific:!0}},BINARY_LONG:{"":{name:"",value:1,scientific:!0},kilo:{name:"kilo",value:1024,scientific:!0},mega:{name:"mega",value:Math.pow(1024,2),scientific:!0},giga:{name:"giga",value:Math.pow(1024,3),scientific:!0},tera:{name:"tera",value:Math.pow(1024,4),scientific:!0},peta:{name:"peta",value:Math.pow(1024,5),scientific:!0},exa:{name:"exa",value:Math.pow(1024,6),scientific:!0},zetta:{name:"zetta",value:Math.pow(1024,7),scientific:!0},yotta:{name:"yotta",value:Math.pow(1024,8),scientific:!0},kibi:{name:"kibi",value:1024,scientific:!0},mebi:{name:"mebi",value:Math.pow(1024,2),scientific:!0},gibi:{name:"gibi",value:Math.pow(1024,3),scientific:!0},tebi:{name:"tebi",value:Math.pow(1024,4),scientific:!0},pebi:{name:"pebi",value:Math.pow(1024,5),scientific:!0},exi:{name:"exi",value:Math.pow(1024,6),scientific:!0},zebi:{name:"zebi",value:Math.pow(1024,7),scientific:!0},yobi:{name:"yobi",value:Math.pow(1024,8),scientific:!0}}},b={name:"",value:1,scientific:!0},E={NONE:{},LENGTH:{},MASS:{},TIME:{},CURRENT:{},TEMPERATURE:{},LUMINOUS_INTENSITY:{},AMOUNT_OF_SUBSTANCE:{},FORCE:{},SURFACE:{},VOLUME:{},ANGLE:{},BIT:{}},N={},A={name:"",base:N,value:1,offset:0},M={meter:{name:"meter",base:E.LENGTH,prefixes:v.LONG,value:1,offset:0},inch:{name:"inch",base:E.LENGTH,prefixes:v.NONE,value:.0254,offset:0},foot:{name:"foot",base:E.LENGTH,prefixes:v.NONE,value:.3048,offset:0},yard:{name:"yard",base:E.LENGTH,prefixes:v.NONE,value:.9144,offset:0},mile:{name:"mile",base:E.LENGTH,prefixes:v.NONE,value:1609.344,offset:0},link:{name:"link",base:E.LENGTH,prefixes:v.NONE,value:.201168,offset:0},rod:{name:"rod",base:E.LENGTH,prefixes:v.NONE,value:5.02921,offset:0},chain:{name:"chain",base:E.LENGTH,prefixes:v.NONE,value:20.1168,offset:0},angstrom:{name:"angstrom",base:E.LENGTH,prefixes:v.NONE,value:1e-10,offset:0},m:{name:"m",base:E.LENGTH,prefixes:v.SHORT,value:1,offset:0},"in":{name:"in",base:E.LENGTH,prefixes:v.NONE,value:.0254,offset:0},ft:{name:"ft",base:E.LENGTH,prefixes:v.NONE,value:.3048,offset:0},yd:{name:"yd",base:E.LENGTH,prefixes:v.NONE,value:.9144,offset:0},mi:{name:"mi",base:E.LENGTH,prefixes:v.NONE,value:1609.344,offset:0},li:{name:"li",base:E.LENGTH,prefixes:v.NONE,value:.201168,offset:0},rd:{name:"rd",base:E.LENGTH,prefixes:v.NONE,value:5.02921,offset:0},ch:{name:"ch",base:E.LENGTH,prefixes:v.NONE,value:20.1168,offset:0},mil:{name:"mil",base:E.LENGTH,prefixes:v.NONE,value:254e-7,offset:0},m2:{name:"m2",base:E.SURFACE,prefixes:v.SQUARED,value:1,offset:0},sqin:{name:"sqin",base:E.SURFACE,prefixes:v.NONE,value:64516e-8,offset:0},sqft:{name:"sqft",base:E.SURFACE,prefixes:v.NONE,value:.09290304,offset:0},sqyd:{name:"sqyd",base:E.SURFACE,prefixes:v.NONE,value:.83612736,offset:0},sqmi:{name:"sqmi",base:E.SURFACE,prefixes:v.NONE,value:2589988.110336,offset:0},sqrd:{name:"sqrd",base:E.SURFACE,prefixes:v.NONE,value:25.29295,offset:0},sqch:{name:"sqch",base:E.SURFACE,prefixes:v.NONE,value:404.6873,offset:0},sqmil:{name:"sqmil",base:E.SURFACE,prefixes:v.NONE,value:6.4516e-10,offset:0},m3:{name:"m3",base:E.VOLUME,prefixes:v.CUBIC,value:1,offset:0},L:{name:"L",base:E.VOLUME,prefixes:v.SHORT,value:.001,offset:0},l:{name:"l",base:E.VOLUME,prefixes:v.SHORT,value:.001,offset:0},litre:{name:"litre",base:E.VOLUME,prefixes:v.LONG,value:.001,offset:0},cuin:{name:"cuin",base:E.VOLUME,prefixes:v.NONE,value:16387064e-12,offset:0},cuft:{name:"cuft",base:E.VOLUME,prefixes:v.NONE,value:.028316846592,offset:0},cuyd:{name:"cuyd",base:E.VOLUME,prefixes:v.NONE,value:.764554857984,offset:0},teaspoon:{name:"teaspoon",base:E.VOLUME,prefixes:v.NONE,value:5e-6,offset:0},tablespoon:{name:"tablespoon",base:E.VOLUME,prefixes:v.NONE,value:15e-6,offset:0},drop:{name:"drop",base:E.VOLUME,prefixes:v.NONE,value:5e-8,offset:0},gtt:{name:"gtt",base:E.VOLUME,prefixes:v.NONE,value:5e-8,offset:0},minim:{name:"minim",base:E.VOLUME,prefixes:v.NONE,value:6.161152e-8,offset:0},fluiddram:{name:"fluiddram",base:E.VOLUME,prefixes:v.NONE,value:36966911e-13,offset:0},fluidounce:{name:"fluidounce",base:E.VOLUME,prefixes:v.NONE,value:2957353e-11,offset:0},gill:{name:"gill",base:E.VOLUME,prefixes:v.NONE,value:.0001182941,offset:0},cc:{name:"cc",base:E.VOLUME,prefixes:v.NONE,value:1e-6,offset:0},cup:{name:"cup",base:E.VOLUME,prefixes:v.NONE,value:.0002365882,offset:0},pint:{name:"pint",base:E.VOLUME,prefixes:v.NONE,value:.0004731765,offset:0},quart:{name:"quart",base:E.VOLUME,prefixes:v.NONE,value:.0009463529,offset:0},gallon:{name:"gallon",base:E.VOLUME,prefixes:v.NONE,value:.003785412,offset:0},beerbarrel:{name:"beerbarrel",base:E.VOLUME,prefixes:v.NONE,value:.1173478,offset:0},oilbarrel:{name:"oilbarrel",base:E.VOLUME,prefixes:v.NONE,value:.1589873,offset:0},hogshead:{name:"hogshead",base:E.VOLUME,prefixes:v.NONE,value:.238481,offset:0},fldr:{name:"fldr",base:E.VOLUME,prefixes:v.NONE,value:36966911e-13,offset:0},floz:{name:"floz",base:E.VOLUME,prefixes:v.NONE,value:2957353e-11,offset:0},gi:{name:"gi",base:E.VOLUME,prefixes:v.NONE,value:.0001182941,offset:0},cp:{name:"cp",base:E.VOLUME,prefixes:v.NONE,value:.0002365882,offset:0},pt:{name:"pt",base:E.VOLUME,prefixes:v.NONE,value:.0004731765,offset:0},qt:{name:"qt",base:E.VOLUME,prefixes:v.NONE,value:.0009463529,offset:0},gal:{name:"gal",base:E.VOLUME,prefixes:v.NONE,value:.003785412,offset:0},bbl:{name:"bbl",base:E.VOLUME,prefixes:v.NONE,value:.1173478,offset:0},obl:{name:"obl",base:E.VOLUME,prefixes:v.NONE,value:.1589873,offset:0},g:{name:"g",base:E.MASS,prefixes:v.SHORT,value:.001,offset:0},gram:{name:"gram",base:E.MASS,prefixes:v.LONG,value:.001,offset:0},ton:{name:"ton",base:E.MASS,prefixes:v.SHORT,value:907.18474,offset:0},tonne:{name:"tonne",base:E.MASS,prefixes:v.SHORT,value:1e3,offset:0},grain:{name:"grain",base:E.MASS,prefixes:v.NONE,value:6479891e-11,offset:0},dram:{name:"dram",base:E.MASS,prefixes:v.NONE,value:.0017718451953125,offset:0},ounce:{name:"ounce",base:E.MASS,prefixes:v.NONE,value:.028349523125,offset:0},poundmass:{name:"poundmass",base:E.MASS,prefixes:v.NONE,value:.45359237,offset:0},hundredweight:{name:"hundredweight",base:E.MASS,prefixes:v.NONE,value:45.359237,offset:0},stick:{name:"stick",base:E.MASS,prefixes:v.NONE,value:.115,offset:0},gr:{name:"gr",base:E.MASS,prefixes:v.NONE,value:6479891e-11,offset:0},dr:{name:"dr",base:E.MASS,prefixes:v.NONE,value:.0017718451953125,offset:0},oz:{name:"oz",base:E.MASS,prefixes:v.NONE,value:.028349523125,offset:0},lbm:{name:"lbm",base:E.MASS,prefixes:v.NONE,value:.45359237,offset:0},cwt:{name:"cwt",base:E.MASS,prefixes:v.NONE,value:45.359237,offset:0},s:{name:"s",base:E.TIME,prefixes:v.SHORT,value:1,offset:0},min:{name:"min",base:E.TIME,prefixes:v.NONE,value:60,offset:0},h:{name:"h",base:E.TIME,prefixes:v.NONE,value:3600,offset:0},second:{name:"second",base:E.TIME,prefixes:v.LONG,value:1,offset:0},sec:{name:"sec",base:E.TIME,prefixes:v.LONG,value:1,offset:0},minute:{name:"minute",base:E.TIME,prefixes:v.NONE,value:60,offset:0},hour:{name:"hour",base:E.TIME,prefixes:v.NONE,value:3600,offset:0},day:{name:"day",base:E.TIME,prefixes:v.NONE,value:86400,offset:0},rad:{name:"rad",base:E.ANGLE,prefixes:v.NONE,value:1,offset:0},deg:{name:"deg",base:E.ANGLE,prefixes:v.NONE,value:.017453292519943295,offset:0},grad:{name:"grad",base:E.ANGLE,prefixes:v.NONE,value:.015707963267948967,offset:0},cycle:{name:"cycle",base:E.ANGLE,prefixes:v.NONE,value:6.283185307179586,offset:0},A:{name:"A",base:E.CURRENT,prefixes:v.SHORT,value:1,offset:0},ampere:{name:"ampere",base:E.CURRENT,prefixes:v.LONG,value:1,offset:0},K:{name:"K",base:E.TEMPERATURE,prefixes:v.NONE,value:1,offset:0},degC:{name:"degC",base:E.TEMPERATURE,prefixes:v.NONE,value:1,offset:273.15},degF:{name:"degF",base:E.TEMPERATURE,prefixes:v.NONE,value:1/1.8,offset:459.67},degR:{name:"degR",base:E.TEMPERATURE,prefixes:v.NONE,value:1/1.8,offset:0},kelvin:{name:"kelvin",base:E.TEMPERATURE,prefixes:v.NONE,value:1,offset:0},celsius:{name:"celsius",base:E.TEMPERATURE,prefixes:v.NONE,value:1,offset:273.15},fahrenheit:{name:"fahrenheit",base:E.TEMPERATURE,prefixes:v.NONE,value:1/1.8,offset:459.67},rankine:{name:"rankine",base:E.TEMPERATURE,prefixes:v.NONE,value:1/1.8,offset:0},mol:{name:"mol",base:E.AMOUNT_OF_SUBSTANCE,prefixes:v.NONE,value:1,offset:0},mole:{name:"mole",base:E.AMOUNT_OF_SUBSTANCE,prefixes:v.NONE,value:1,offset:0},cd:{name:"cd",base:E.LUMINOUS_INTENSITY,prefixes:v.NONE,value:1,offset:0},candela:{name:"candela",base:E.LUMINOUS_INTENSITY,prefixes:v.NONE,value:1,offset:0},N:{name:"N",base:E.FORCE,prefixes:v.SHORT,value:1,offset:0},newton:{name:"newton",base:E.FORCE,prefixes:v.LONG,value:1,offset:0},lbf:{name:"lbf",base:E.FORCE,prefixes:v.NONE,value:4.4482216152605,offset:0},poundforce:{name:"poundforce",base:E.FORCE,prefixes:v.NONE,value:4.4482216152605,offset:0},b:{name:"b",base:E.BIT,prefixes:v.BINARY_SHORT,value:1,offset:0},bits:{name:"bits",base:E.BIT,prefixes:v.BINARY_LONG,value:1,offset:0},B:{name:"B",base:E.BIT,prefixes:v.BINARY_SHORT,value:8,offset:0},bytes:{name:"bytes",base:E.BIT,prefixes:v.BINARY_LONG,value:8,offset:0}},T={meters:"meter",inches:"inch",feet:"foot",yards:"yard",miles:"mile",links:"link",rods:"rod",chains:"chain",angstroms:"angstrom",litres:"litre",teaspoons:"teaspoon",tablespoons:"tablespoon",minims:"minim",fluiddrams:"fluiddram",fluidounces:"fluidounce",gills:"gill",cups:"cup",pints:"pint",quarts:"quart",gallons:"gallon",beerbarrels:"beerbarrel",oilbarrels:"oilbarrel",hogsheads:"hogshead",gtts:"gtt",grams:"gram",tons:"ton",tonnes:"tonne",grains:"grain",drams:"dram",ounces:"ounce",poundmasses:"poundmass",hundredweights:"hundredweight",sticks:"stick",seconds:"second",minutes:"minute",hours:"hour",days:"day",radians:"rad",degrees:"deg",gradients:"grad",cycles:"cycle",amperes:"ampere",moles:"mole"};for(var S in T)if(T.hasOwnProperty(S)){var O=M[T[S]],C=Object.create(O);C.name=S,M[S]=C;}M.lt=M.l,M.liter=M.litre,M.liters=M.litres,M.lb=M.lbm,M.lbs=M.lbm,n.PREFIXES=v,n.BASE_UNITS=E,n.UNITS=M,e.exports=n;},function(e,r,t){"use strict";function n(e,r){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this.math=e,this.doc=r;}var i=t(160),o=i.object,a=i.string;n.isHelp=function(e){return e instanceof n;},n.prototype.toString=function(){var e=this.doc||{},r="\n";if(e.name&&(r+="Name: "+e.name+"\n\n"),e.category&&(r+="Category: "+e.category+"\n\n"),e.description&&(r+="Description:\n    "+e.description+"\n\n"),e.syntax&&(r+="Syntax:\n    "+e.syntax.join("\n    ")+"\n\n"),e.examples){var t=this.math.parser();r+="Examples:\n";for(var i=0;i<e.examples.length;i++){var o,s=e.examples[i];try{o=t.eval(s);}catch(u){o=u;}r+="    "+s+"\n",void 0===o||o instanceof n||(r+="        "+a.format(o,{precision:14})+"\n");}r+="\n";}return e.seealso&&(r+="See also: "+e.seealso.join(", ")+"\n"),r;},n.prototype.toJSON=function(){return o.clone(this.doc);},n.prototype.valueOf=n.prototype.toString,e.exports=n;},function(e){"use strict";function r(e){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this.entries=e||[];}r.prototype.valueOf=function(){return this.entries;},r.prototype.toString=function(){return "["+this.entries.join(", ")+"]";},e.exports=r;},function(e,r,t){"use strict";function n(e,r,t){var o,a,s,u;if(0>=r){if(c(e[0])){for(u=i(e),a=[],o=0;o<u.length;o++)a[o]=n(u[o],r-1,t);return a;}for(s=e[0],o=1;o<e.length;o++)s=t(s,e[o]);return s;}for(a=[],o=0;o<e.length;o++)a[o]=n(e[o],r-1,t);return a;}function i(e){var r,t,n=e.length,i=e[0].length,o=[];for(t=0;i>t;t++){var a=[];for(r=0;n>r;r++)a.push(e[r][t]);o.push(a);}return o;}var o=t(160),a=t(157),s=t(156),u=t(9),f=o.array,c=o.array.isArray;o.string.isString;;r.argsToArray=function(e){if(0==e.length)return [];if(1==e.length){var r=e[0];return r instanceof u&&(r=r.valueOf()),c(r)||(r=[r]),r;}return o.array.argsToArray(e);},r.isCollection=function(e){return c(e)||e instanceof u;},r.deepMap=function l(e,r){return e&&"function"==typeof e.map?e.map(function(e){return l(e,r);}):r(e);},r.deepMap2=function p(e,r,t){var n,i,o;if(c(e))if(c(r)){if(e.length!=r.length)throw new s(e.length,r.length);for(n=[],i=e.length,o=0;i>o;o++)n[o]=p(e[o],r[o],t);}else{if(r instanceof u)return n=p(e,r.valueOf(),t),new u(n);for(n=[],i=e.length,o=0;i>o;o++)n[o]=p(e[o],r,t);}else{if(e instanceof u)return r instanceof u?(n=p(e.valueOf(),r.valueOf(),t),new u(n)):(n=p(e.valueOf(),r,t),new u(n));if(c(r))for(n=[],i=r.length,o=0;i>o;o++)n[o]=p(e,r[o],t);else{if(r instanceof u)return n=p(e,r.valueOf(),t),new u(n);n=t(e,r);}}return n;},r.reduce=function(e,r,t){var i=c(e)?f.size(e):e.size();if(0>r)throw new a(r);if(r>=i.length)throw new a(r,i.length);return e instanceof u?new u(n(e.valueOf(),r,t)):n(e,r,t);},r.deepForEach=function m(e,r){e instanceof u&&(e=e.valueOf());for(var t=0,n=e.length;n>t;t++){var i=e[t];c(i)?m(i,r):r(i);}};},function(e,r,t){"use strict";function n(e,r){if(1!=arguments.length&&2!=arguments.length)throw new X("parse",arguments.length,1,2);if(gr=r&&r.nodes?r.nodes:{},Q(e))return dr=e,g();if(K(e)||e instanceof $)return J.deepMap(e,function(e){if(!Q(e))throw new TypeError("String expected");return dr=e,g();});throw new TypeError("String or matrix expected");}function i(){wr=0,xr=dr.charAt(0),br=0,Er=null;}function o(){wr++,xr=dr.charAt(wr);}function a(){return dr.charAt(wr+1);}function s(){return dr.charAt(wr+2);}function u(){for(vr=pr.NULL,yr="";" "==xr||"	"==xr||"\n"==xr&&br;)o();if("#"==xr)for(;"\n"!=xr&&""!=xr;)o();if(""==xr)return void (vr=pr.DELIMITER);if("\n"==xr&&!br)return vr=pr.DELIMITER,yr=xr,void o();var e=xr+a(),r=e+s();if(3==r.length&&mr[r])return vr=pr.DELIMITER,yr=r,o(),o(),void o();if(2==e.length&&mr[e])return vr=pr.DELIMITER,yr=e,o(),void o();if(mr[xr])return vr=pr.DELIMITER,yr=xr,void o();if(!m(xr)){if(p(xr)){for(;p(xr)||h(xr);)yr+=xr,o();return void (vr=hr[yr]?pr.DELIMITER:pr.SYMBOL);}for(vr=pr.UNKNOWN;""!=xr;)yr+=xr,o();throw H('Syntax error in part "'+yr+'"');}if(vr=pr.NUMBER,"."==xr)yr+=xr,o(),h(xr)||(vr=pr.UNKNOWN);else{for(;h(xr);)yr+=xr,o();"."==xr&&(yr+=xr,o());}for(;h(xr);)yr+=xr,o();if(e=a(),("E"==xr||"e"==xr)&&(h(e)||"-"==e||"+"==e))for(yr+=xr,o(),("+"==xr||"-"==xr)&&(yr+=xr,o()),h(xr)||(vr=pr.UNKNOWN);h(xr);)yr+=xr,o();}function f(){do u();while("\n"==yr);}function c(){br++;}function l(){br--;}function p(e){return e>="a"&&"z">=e||e>="A"&&"Z">=e||"_"==e;}function m(e){return e>="0"&&"9">=e||"."==e;}function h(e){return e>="0"&&"9">=e;}function g(){i(),u();var e=d();if(""!=yr)throw vr==pr.DELIMITER?Y("Unexpected operator "+yr):H('Unexpected part "'+yr+'"');return e;}function d(){var e,r,t=[];if(""==yr)return new ir("undefined","undefined");for("\n"!=yr&&";"!=yr&&(e=w());"\n"==yr||";"==yr;)0==t.length&&e&&(r=";"!=yr,t.push({node:e,visible:r})),u(),"\n"!=yr&&";"!=yr&&""!=yr&&(e=w(),r=";"!=yr,t.push({node:e,visible:r}));return t.length>0?new tr(t):e;}function w(){if(vr==pr.SYMBOL&&"function"==yr)throw H('Deprecated keyword "function". Functions can now be assigned without it, like "f(x) = x^2".');return x();}function x(){var e,r,t,n,i=y();if("="==yr){if(i instanceof cr)return e=i.name,f(),t=x(),new rr(e,t);if(i instanceof ar)return f(),t=x(),new lr(i,t);if(i instanceof ur&&(n=!0,r=[],e=i.name,i.args.forEach(function(e,t){e instanceof cr?r[t]=e.name:n=!1;}),n))return f(),t=x(),new or(e,r,t);throw H("Invalid left hand side of assignment operator =");}return i;}function y(){for(var e=v();"?"==yr;){var r=Er;Er=br,f();var t=e,n=v();if(":"!=yr)throw H("False part of conditional expression expected");Er=null,f();var i=y();e=new nr(t,n,i),Er=r;}return e;}function v(){for(var e=b();"or"==yr;)f(),e=new sr("or","or",[e,b()]);return e;}function b(){for(var e=E();"xor"==yr;)f(),e=new sr("xor","xor",[e,E()]);return e;}function E(){for(var e=N();"and"==yr;)f(),e=new sr("and","and",[e,N()]);return e;}function N(){for(var e=A();"|"==yr;)f(),e=new sr("|","bitOr",[e,A()]);return e;}function A(){for(var e=M();"^|"==yr;)f(),e=new sr("^|","bitXor",[e,M()]);return e;}function M(){for(var e=T();"&"==yr;)f(),e=new sr("&","bitAnd",[e,T()]);return e;}function T(){var e,r,t,n,i;for(e=S(),r={"==":"equal","!=":"unequal","<":"smaller",">":"larger","<=":"smallerEq",">=":"largerEq"};yr in r;)t=yr,n=r[t],f(),i=[e,S()],e=new sr(t,n,i);return e;}function S(){var e,r,t,n,i;for(e=O(),r={"<<":"leftShift",">>":"rightArithShift",">>>":"rightLogShift"};yr in r;)t=yr,n=r[t],f(),i=[e,O()],e=new sr(t,n,i);return e;}function O(){var e,r,t,n,i;for(e=C(),r={to:"to","in":"to"};yr in r;)t=yr,n=r[t],f(),i=[e,C()],e=new sr(t,n,i);return e;}function C(){var e,r=[];if(e=":"==yr?new ir("1","number"):U(),":"==yr&&Er!==br){for(r.push(e);":"==yr&&r.length<3;)f(),r.push(")"==yr||"]"==yr||","==yr||""==yr?new cr("end"):U());e=3==r.length?new fr(r[0],r[2],r[1]):new fr(r[0],r[1]);}return e;}function U(){var e,r,t,n,i;for(e=B(),r={"+":"add","-":"subtract"};yr in r;)t=yr,n=r[t],f(),i=[e,B()],e=new sr(t,n,i);return e;}function B(){var e,r,t,n,i;if(e=q(),r={"*":"multiply",".*":"dotMultiply","/":"divide","./":"dotDivide","%":"mod",mod:"mod"},yr in r)for(;yr in r;)t=yr,n=r[t],f(),i=[e,q()],e=new sr(t,n,i);return (vr==pr.SYMBOL||"in"==yr&&e instanceof ir||vr==pr.NUMBER&&!(e instanceof ir)||"("==yr||"["==yr)&&(e=new sr("*","multiply",[e,B()])),e;}function q(){var e,r,t={"-":"unaryMinus","+":"unaryPlus","~":"bitNot",not:"not"}[yr];return t?(e=yr,f(),r=[q()],new sr(e,t,r)):I();}function I(){var e,r,t,n;return e=z(),("^"==yr||".^"==yr)&&(r=yr,t="^"==r?"pow":"dotPow",f(),n=[e,q()],e=new sr(r,t,n)),e;}function z(){var e,r,t,n,i;for(e=_(),r={"!":"factorial","'":"transpose"};yr in r;)t=yr,n=r[t],u(),i=[e],e=new sr(t,n,i);return e;}function _(){var e,r=[];if(vr==pr.SYMBOL&&gr[yr]){if(e=gr[yr],u(),"("==yr){if(r=[],c(),u(),")"!=yr)for(r.push(y());","==yr;)u(),r.push(y());if(")"!=yr)throw H("Parenthesis ) expected");l(),u();}return new e(r);}return R();}function R(){var e,r;return vr==pr.SYMBOL||vr==pr.DELIMITER&&yr in hr?(r=yr,u(),e=L(r),e=P(e)):F();}function L(e){var r;if("("==yr){if(r=[],c(),u(),")"!=yr)for(r.push(y());","==yr;)u(),r.push(y());if(")"!=yr)throw H("Parenthesis ) expected");return l(),u(),new ur(e,r);}return new cr(e);}function P(e){for(var r;"["==yr;){if(r=[],c(),u(),"]"!=yr)for(r.push(y());","==yr;)u(),r.push(y());if("]"!=yr)throw H("Parenthesis ] expected");l(),u(),e=new ar(e,r);}return e;}function F(){var e,r,t;if('"'==yr){for(r="",t="";""!=xr&&('"'!=xr||"\\"==t);)r+=xr,t=xr,o();if(u(),'"'!=yr)throw H('End of string " expected');return u(),e=new ir(r,"string"),e=P(e);}return k();}function k(){var e,r,t,n;if("["==yr){if(c(),u(),"]"!=yr){var i=j();if(";"==yr){for(t=1,r=[i];";"==yr;)u(),r[t]=j(),t++;if("]"!=yr)throw H("End of matrix ] expected");l(),u(),n=r[0].nodes.length;for(var o=1;t>o;o++)if(r[o].nodes.length!=n)throw Y("Column dimensions mismatch ("+r[o].nodes.length+" != "+n+")");e=new er(r);}else{if("]"!=yr)throw H("End of matrix ] expected");l(),u(),e=i;}}else l(),u(),e=new er([]);return e;}return G();}function j(){for(var e=[x()],r=1;","==yr;)u(),e[r]=x(),r++;return new er(e);}function G(){var e;return vr==pr.NUMBER?(e=yr,u(),new ir(e,"number")):D();}function D(){var e;if("("==yr){if(c(),u(),e=x(),")"!=yr)throw H("Parenthesis ) expected");return l(),u(),e;}return V();}function V(){throw H(""==yr?"Unexpected end of expression":"Value expected");}function Z(){return wr-yr.length+1;}function H(e){var r=Z(),t=new SyntaxError(e+" (char "+r+")");return t["char"]=r,t;}function Y(e){var r=Z(),t=new Error(e+" (char "+r+")");return t["char"]=r,t;}var W=t(160),X=t(155),Q=W.string.isString,K=Array.isArray,$=(W.types.type,t(6),t(9)),J=(t(10),t(13)),er=t(161),rr=t(162),tr=t(163),nr=t(164),ir=t(165),or=t(166),ar=t(167),sr=t(168),ur=t(169),fr=t(170),cr=t(171),lr=t(172),pr={NULL:0,DELIMITER:1,NUMBER:2,SYMBOL:3,UNKNOWN:4},mr={",":!0,"(":!0,")":!0,"[":!0,"]":!0,'"':!0,";":!0,"+":!0,"-":!0,"*":!0,".*":!0,"/":!0,"./":!0,"%":!0,"^":!0,".^":!0,"~":!0,"!":!0,"&":!0,"|":!0,"^|":!0,"'":!0,"=":!0,":":!0,"?":!0,"==":!0,"!=":!0,"<":!0,">":!0,"<=":!0,">=":!0,"<<":!0,">>":!0,">>>":!0},hr={mod:!0,to:!0,"in":!0,and:!0,xor:!0,or:!0,not:!0},gr={},dr="",wr=0,xr="",yr="",vr=pr.NULL,br=0,Er=null;e.exports=n;},function(e,r,t){"use strict";function n(e){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(!(e instanceof Object))throw new TypeError("Object expected as parameter math");this.math=e,this.scope={};}var i=t(14);n.prototype.parse=function(){throw new Error("Parser.parse is deprecated. Use math.parse instead.");},n.prototype.compile=function(){throw new Error("Parser.compile is deprecated. Use math.compile instead.");},n.prototype.eval=function(e){return i(e).compile(this.math).eval(this.scope);},n.prototype.get=function(e){return this.scope[e];},n.prototype.set=function(e,r){return this.scope[e]=r;},n.prototype.remove=function(e){delete this.scope[e];},n.prototype.clear=function(){for(var e in this.scope)this.scope.hasOwnProperty(e)&&delete this.scope[e];},e.exports=n;},function(e,r,t){"use strict";r.ArrayNode=t(161),r.AssignmentNode=t(162),r.BlockNode=t(163),r.ConditionalNode=t(164),r.ConstantNode=t(165),r.IndexNode=t(167),r.FunctionAssignmentNode=t(166),r.FunctionNode=t(169),r.Node=t(173),r.OperatorNode=t(168),r.RangeNode=t(170),r.SymbolNode=t(171),r.UpdateNode=t(172);},function(e,r,t){r.e=t(177),r.E=t(177),r["false"]=t(178),r.i=t(179),r.Infinity=t(180),r.LN2=t(181),r.LN10=t(182),r.LOG2E=t(183),r.LOG10E=t(184),r.NaN=t(185),r["null"]=t(186),r.pi=t(187),r.PI=t(187),r.phi=t(188),r.SQRT1_2=t(189),r.SQRT2=t(190),r.tau=t(191),r["true"]=t(192),r.version=t(193),r.abs=t(197),r.add=t(198),r.ceil=t(199),r.cube=t(200),r.divide=t(201),r.dotDivide=t(202),r.dotMultiply=t(203),r.dotPow=t(204),r.exp=t(205),r.fix=t(206),r.floor=t(207),r.gcd=t(208),r.lcm=t(209),r.log=t(210),r.log10=t(211),r.mod=t(212),r.multiply=t(213),r.norm=t(214),r.nthRoot=t(215),r.pow=t(216),r.round=t(217),r.sign=t(218),r.sqrt=t(219),r.square=t(220),r.subtract=t(221),r.unaryMinus=t(222),r.unaryPlus=t(223),r.xgcd=t(224),r.bitAnd=t(225),r.bitNot=t(226),r.bitOr=t(227),r.bitXor=t(228),r.leftShift=t(229),r.rightArithShift=t(230),r.rightLogShift=t(231),r.arg=t(232),r.conj=t(233),r.re=t(234),r.im=t(235),r.bignumber=t(236),r["boolean"]=t(237),r.complex=t(238),r.index=t(239),r.matrix=t(240),r.number=t(241),r.string=t(242),r.unit=t(243),r.eval=t(244),r.help=t(245),r.and=t(246),r.not=t(247),r.or=t(248),r.xor=t(249),r.concat=t(250),r.cross=t(251),r.det=t(252),r.diag=t(253),r.dot=t(254),r.eye=t(255),r.flatten=t(256),r.inv=t(257),r.ones=t(258),r.range=t(259),r.resize=t(260),r.size=t(261),r.squeeze=t(262),r.subset=t(263),r.transpose=t(264),r.zeros=t(265),r.combinations=t(266),r.factorial=t(267),r.gamma=t(268),r.permutations=t(269),r.pickRandom=t(270),r.random=t(271),r.randomInt=t(272),r.compare=t(273),r.deepEqual=t(274),r.equal=t(275),r.larger=t(276),r.largerEq=t(277),r.smaller=t(278),r.smallerEq=t(279),r.unequal=t(280),r.max=t(281),r.mean=t(282),r.median=t(283),r.min=t(284),r.prod=t(285),r.std=t(286),r.sum=t(287),r["var"]=t(288),r.acos=t(289),r.asin=t(290),r.atan=t(291),r.atan2=t(292),r.cos=t(293),r.cosh=t(294),r.cot=t(295),r.coth=t(296),r.csc=t(297),r.csch=t(298),r.sec=t(299),r.sech=t(300),r.sin=t(301),r.sinh=t(302),r.tan=t(303),r.tanh=t(304),r.to=t(305),r.clone=t(306),r.map=t(307),r.filter=t(308),r.forEach=t(309),r.format=t(310),r["import"]=t(311),r.sort=t(312),r["typeof"]=t(313);},function(e,r,t){"use strict";var n=t(159),i=t(174).transform,o=t(4).isNumber,a=t(153).argsToArray;e.exports=function(e){e.concat.transform=function(){var r=a(arguments),t=r.length-1,s=r[t];o(s)?r[t]=s-1:s instanceof n&&(r[t]=s.minus(1));try{return e.concat.apply(e,r);}catch(u){throw i(u);}};};},function(e,r,t){"use strict";var n=t(171),i=(t(175).isBoolean,t(153).argsToArray,t(155));e.exports=function(e){var r=e.filter;r.transform=function(e,t,o){if(2!==e.length)throw new i("filter",arguments.length,2);var a,s=e[0].compile(t).eval(o);if(e[1] instanceof n)a=e[1].compile(t).eval(o);else{var u=o||{},f=e[1].filter(function(e){return e instanceof n&&!(e.name in t)&&!(e.name in u);})[0],c=Object.create(u),l=e[1].compile(t);if(!f)throw new Error("No undefined variable found in filter equation");var p=f.name;a=function(e){return c[p]=e,l.eval(c);};}return r(s,a);},e.filter.transform.rawArgs=!0;};},function(e,r,t){"use strict";var n=t(9);e.exports=function(e){function r(e,r,t){var n=function(e,i){Array.isArray(e)?e.forEach(function(e,r){n(e,i.concat(r+1));}):r(e,i,t);};n(e,[]);}e.forEach.transform=function(t,i){if(2!=arguments.length)throw new e.error.ArgumentsError("forEach",arguments.length,2);if(Array.isArray(t))r(t,i,t);else{if(!(t instanceof n))throw new e.error.UnsupportedTypeError("forEach",e["typeof"](t));r(t.valueOf(),i,t);}};};},function(e,r,t){"use strict";var n=t(159),i=t(7),o=t(8),a=(t(9),t(4).isNumber);Array.isArray;;e.exports=function(e){e.index.transform=function(){for(var e=[],r=0,t=arguments.length;t>r;r++){var s=arguments[r];if(s instanceof i)s.start--,s.end-=s.step>0?0:2;else if(a(s))s--;else{if(!(s instanceof n))throw new TypeError("Ranges must be a Number or Range");s=s.toNumber()-1;}e[r]=s;}var u=new o();return o.apply(u,e),u;};};},function(e,r,t){"use strict";var n=t(9);t(159),t(7),t(8),t(4).isNumber,Array.isArray;;e.exports=function(e){function r(e,r,t){var n=function(e,i){return Array.isArray(e)?e.map(function(e,r){return n(e,i.concat(r+1));}):r(e,i,t);};return n(e,[]);}e.map.transform=function(t,i){if(2!=arguments.length)throw new e.error.ArgumentsError("map",arguments.length,2);if(Array.isArray(t))return r(t,i,t);if(t instanceof n)return new n(r(t.valueOf(),i,t));throw new e.error.UnsupportedTypeError("map",e["typeof"](t));};};},function(e,r,t){"use strict";var n=t(159),i=t(174).transform,o=t(4).isNumber,a=t(13).isCollection,s=t(153).argsToArray;e.exports=function(e){e.max.transform=function(){var r=s(arguments);if(2==r.length&&a(r[0])){var t=r[1];o(t)?r[1]=t-1:t instanceof n&&(r[1]=t.minus(1));}try{return e.max.apply(e,r);}catch(u){throw i(u);}};};},function(e,r,t){"use strict";var n=t(159),i=t(174).transform,o=t(4).isNumber,a=t(13).isCollection,s=t(153).argsToArray;e.exports=function(e){e.mean.transform=function(){var r=s(arguments);if(2==r.length&&a(r[0])){var t=r[1];o(t)?r[1]=t-1:t instanceof n&&(r[1]=t.minus(1));}try{return e.mean.apply(e,r);}catch(u){throw i(u);}};};},function(e,r,t){"use strict";var n=t(159),i=t(174).transform,o=t(4).isNumber,a=t(13).isCollection,s=t(153).argsToArray;e.exports=function(e){e.min.transform=function(){var r=s(arguments);if(2==r.length&&a(r[0])){var t=r[1];o(t)?r[1]=t-1:t instanceof n&&(r[1]=t.minus(1));}try{return e.min.apply(e,r);}catch(u){throw i(u);}};};},function(e,r,t){"use strict";var n=t(175).isBoolean,i=t(153).argsToArray;e.exports=function(e){e.range.transform=function(){var r=i(arguments),t=r.length-1,o=r[t];return n(o)||r.push(!0),e.range.apply(e,r);};};},function(e,r,t){"use strict";var n=t(174).transform,i=(t(175).isBoolean,t(153).argsToArray);e.exports=function(e){e.subset.transform=function(){try{return e.subset.apply(e,i(arguments));}catch(r){throw n(r);}};};},function(e,r,t){"use strict";e.exports=function(e){function r(e){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this.value=e instanceof r?e.value:e;}function n(e,t){var n=Array.prototype.slice;r.prototype[e]="function"==typeof t?function(){var e=[this.value].concat(n.call(arguments,0));return new r(t.apply(this,e));}:new r(t);}var i=t(176);r.prototype.done=function(){return this.value;},r.prototype.valueOf=function(){return this.value;},r.prototype.toString=function(){return i.format(this.value);},r.createProxy=n;for(var o in e)e.hasOwnProperty(o)&&n(o,e[o]);return r;};},function(e,r,t){"use strict";e.exports=function(e){var r=t(160),n=t(14),i=t(13),o=r.string.isString,a=i.isCollection;e.compile=function(r){if(1!=arguments.length)throw new e.error.ArgumentsError("compile",arguments.length,1);if(o(r))return n(r).compile(e);if(a(r))return i.deepMap(r,function(r){return n(r).compile(e);});throw new TypeError("String, array, or matrix expected");};};},function(e,r,t){"use strict";e.exports=function(e){var r=t(160),n=t(14),i=t(13),o=r.string.isString,a=i.isCollection;e.eval=function(r,t){if(1!=arguments.length&&2!=arguments.length)throw new e.error.ArgumentsError("eval",arguments.length,1,2);if(t=t||{},o(r))return n(r).compile(e).eval(t);if(a(r))return i.deepMap(r,function(r){return n(r).compile(e).eval(t);});throw new TypeError("String, array, or matrix expected");};};},function(e,r,t){"use strict";e.exports=function(e){var r=t(11);e.help=function(t){if(1!=arguments.length)throw new SyntaxError("Wrong number of arguments in function help ("+arguments.length+" provided, 1 expected)");var n=null;if(t instanceof String||"string"==typeof t)n=t;else{var i;for(i in e)if(e.hasOwnProperty(i)&&t===e[i]){n=i;break;}}var o=e.expression.docs[n];if(!n)throw new Error('Cannot find "'+t+'" in math.js');if(!o)throw new Error('No documentation found on "'+n+'"');return new r(e,o);};};},function(e,r,t){"use strict";e.exports=function(e){var r=t(14);e.parse=function(){return r.apply(r,arguments);};};},function(e,r,t){"use strict";e.exports=function(e){var r=t(160),n=e.type.BigNumber,i=t(6),o=(t(9),t(13)),a=r.number.isNumber,s=r["boolean"].isBoolean,u=i.isComplex,f=o.isCollection;e.abs=function c(r){if(1!=arguments.length)throw new e.error.ArgumentsError("abs",arguments.length,1);if(a(r))return Math.abs(r);if(u(r))return Math.sqrt(r.re*r.re+r.im*r.im);if(r instanceof n)return r.abs();if(f(r))return o.deepMap(r,c);if(s(r)||null===r)return Math.abs(r);throw new e.error.UnsupportedTypeError("abs",e["typeof"](r));};};},function(e,r,t){"use strict";e.exports=function(e){var r=t(160),n=e.type.BigNumber,i=t(6),o=(t(9),t(10)),a=t(13),s=r["boolean"].isBoolean,u=r.number.isNumber,f=r.string.isString,c=i.isComplex,l=o.isUnit,p=a.isCollection;e.add=function m(r,t){if(2!=arguments.length)throw new e.error.ArgumentsError("add",arguments.length,2);if(u(r)){if(u(t))return r+t;if(c(t))return new i(r+t.re,t.im);}if(c(r)){if(c(t))return new i(r.re+t.re,r.im+t.im);if(u(t))return new i(r.re+t,r.im);}if(l(r)&&l(t)){if(null==r.value)throw new Error("Parameter x contains a unit with undefined value");if(null==t.value)throw new Error("Parameter y contains a unit with undefined value");if(!r.equalBase(t))throw new Error("Units do not match");var o=r.clone();return o.value+=t.value,o.fixPrefix=!1,o;}if(r instanceof n)return u(t)?t=n.convert(t):(s(t)||null===t)&&(t=new n(t?1:0)),t instanceof n?r.plus(t):m(r.toNumber(),t);if(t instanceof n)return u(r)?r=n.convert(r):(s(r)||null===r)&&(r=new n(r?1:0)),r instanceof n?r.plus(t):m(r,t.toNumber());if(p(r)||p(t))return a.deepMap2(r,t,m);if(f(r)||f(t))return r+t;if(s(r)||null===r)return m(+r,t);if(s(t)||null===t)return m(r,+t);throw new e.error.UnsupportedTypeError("add",e["typeof"](r),e["typeof"](t));};};},function(e,r,t){"use strict";e.exports=function(e){var r=t(160),n=e.type.BigNumber,i=t(6),o=t(13),a=r.number.isNumber,s=r["boolean"].isBoolean,u=o.isCollection,f=i.isComplex;e.ceil=function c(r){if(1!=arguments.length)throw new e.error.ArgumentsError("ceil",arguments.length,1);if(a(r))return Math.ceil(r);if(f(r))return new i(Math.ceil(r.re),Math.ceil(r.im));if(r instanceof n)return r.ceil();if(u(r))return o.deepMap(r,c);if(s(r)||null===r)return Math.ceil(r);throw new e.error.UnsupportedTypeError("ceil",e["typeof"](r));};};},function(e,r,t){"use strict";e.exports=function(e){var r=t(160),n=e.type.BigNumber,i=t(6),o=t(13),a=r.number.isNumber,s=r["boolean"].isBoolean,u=i.isComplex,f=o.isCollection;e.cube=function c(r){if(1!=arguments.length)throw new e.error.ArgumentsError("cube",arguments.length,1);if(a(r))return r*r*r;if(u(r))return e.multiply(e.multiply(r,r),r);if(r instanceof n)return r.times(r).times(r);if(f(r))return o.deepMap(r,c);if(s(r)||null===r)return c(+r);throw new e.error.UnsupportedTypeError("cube",e["typeof"](r));};};},function(e,r,t){"use strict";e.exports=function(e){function r(e,r){var t=r.re*r.re+r.im*r.im;return 0!=t?new o((e.re*r.re+e.im*r.im)/t,(e.im*r.re-e.re*r.im)/t):new o(0!=e.re?e.re/0:0,0!=e.im?e.im/0:0);}var n=t(160),i=e.type.BigNumber,o=t(6),a=(t(9),t(10)),s=n.number.isNumber,u=n["boolean"].isBoolean,f=o.isComplex,c=a.isUnit;e._divide=function l(t,n){if(s(t)){if(s(n))return t/n;if(f(n))return r(new o(t,0),n);}if(f(t)){if(f(n))return r(t,n);if(s(n))return r(t,new o(n,0));}if(t instanceof i)return s(n)?n=i.convert(n):(u(n)||null===n)&&(n=new i(n?1:0)),n instanceof i?t.div(n):l(t.toNumber(),n);if(n instanceof i)return s(t)?t=i.convert(t):(u(t)||null===t)&&(t=new i(t?1:0)),t instanceof i?t.div(n):l(t,n.toNumber());if(c(t)&&s(n)){var a=t.clone();return a.value=(null===a.value?a._normalize(1):a.value)/n,a;}if(u(t)||null===t)return l(+t,n);if(u(n)||null===n)return l(t,+n);throw new e.error.UnsupportedTypeError("divide",e["typeof"](t),e["typeof"](n));};};},function(e,r,t){"use strict";e.exports=function(e){var r=t(13),n=r.isCollection;e.divide=function(t,i){if(2!=arguments.length)throw new e.error.ArgumentsError("divide",arguments.length,2);return n(t)?n(i)?e.multiply(t,e.inv(i)):r.deepMap2(t,i,e._divide):n(i)?e.multiply(t,e.inv(i)):e._divide(t,i);};};},function(e,r,t){"use strict";e.exports=function(e){var r=t(13);e.dotDivide=function(t,n){if(2!=arguments.length)throw new e.error.ArgumentsError("dotDivide",arguments.length,2);return r.deepMap2(t,n,e.divide);},e.edivide=function(){throw new Error("Function edivide is renamed to dotDivide");};};},function(e,r,t){"use strict";e.exports=function(e){var r=(t(160),t(13));e.dotMultiply=function(t,n){if(2!=arguments.length)throw new e.error.ArgumentsError("dotMultiply",arguments.length,2);return r.deepMap2(t,n,e.multiply);},e.emultiply=function(){throw new Error("Function emultiply is renamed to dotMultiply");};};},function(e,r,t){"use strict";e.exports=function(e){var r=(t(160),t(13));e.dotPow=function(t,n){if(2!=arguments.length)throw new e.error.ArgumentsError("dotPow",arguments.length,2);return r.deepMap2(t,n,e.pow);},e.epow=function(){throw new Error("Function epow is renamed to dotPow");};};},function(e,r,t){"use strict";e.exports=function(e){var r=t(160),n=e.type.BigNumber,i=t(6),o=(t(9),t(13)),a=r.number.isNumber,s=r["boolean"].isBoolean,u=i.isComplex,f=o.isCollection;e.exp=function c(r){if(1!=arguments.length)throw new e.error.ArgumentsError("exp",arguments.length,1);if(a(r))return Math.exp(r);if(u(r)){var t=Math.exp(r.re);return new i(t*Math.cos(r.im),t*Math.sin(r.im));}if(r instanceof n)return r.exp();if(f(r))return o.deepMap(r,c);if(s(r)||null===r)return Math.exp(r);throw new e.error.UnsupportedTypeError("exp",e["typeof"](r));};};},function(e,r,t){"use strict";e.exports=function(e){var r=t(160),n=e.type.BigNumber,i=t(6),o=t(13),a=r.number.isNumber,s=r["boolean"].isBoolean,u=i.isComplex,f=o.isCollection;e.fix=function c(r){if(1!=arguments.length)throw new e.error.ArgumentsError("fix",arguments.length,1);if(a(r))return r>0?Math.floor(r):Math.ceil(r);if(u(r))return new i(r.re>0?Math.floor(r.re):Math.ceil(r.re),r.im>0?Math.floor(r.im):Math.ceil(r.im));if(r instanceof n)return r.isNegative()?r.ceil():r.floor();if(f(r))return o.deepMap(r,c);if(s(r)||null===r)return c(+r);throw new e.error.UnsupportedTypeError("fix",e["typeof"](r));};};},function(e,r,t){"use strict";e.exports=function(e){var r=t(160),n=e.type.BigNumber,i=t(6),o=t(13),a=r.number.isNumber,s=r["boolean"].isBoolean,u=i.isComplex,f=o.isCollection;e.floor=function c(r){if(1!=arguments.length)throw new e.error.ArgumentsError("floor",arguments.length,1);if(a(r))return Math.floor(r);if(u(r))return new i(Math.floor(r.re),Math.floor(r.im));if(r instanceof n)return r.floor();if(f(r))return o.deepMap(r,c);if(s(r)||null===r)return c(+r);throw new e.error.UnsupportedTypeError("floor",e["typeof"](r));};};},function(e,r,t){"use strict";e.exports=function(e){function r(e,r){if(!e.isInt()||!r.isInt())throw new Error("Parameters in function gcd must be integer numbers");for(var t=new i(0);!r.isZero();){var n=e.mod(r);e=r,r=n;}return e.lt(t)?e.neg():e;}var n=t(160),i=e.type.BigNumber,o=t(13),a=n.number.isNumber,s=n["boolean"].isBoolean,u=n.number.isInteger,f=o.isCollection;e.gcd=function c(){var t,n=arguments[0],l=arguments[1];if(2==arguments.length){if(a(n)&&a(l)){if(!u(n)||!u(l))throw new Error("Parameters in function gcd must be integer numbers");for(;0!=l;)t=n%l,n=l,l=t;return 0>n?-n:n;}if(f(n)||f(l))return o.deepMap2(n,l,c);if(n instanceof i)return a(l)?l=i.convert(l):(s(l)||null===l)&&(l=new i(l?1:0)),l instanceof i?r(n,l):c(n.toNumber(),l);if(l instanceof i)return a(n)?n=i.convert(n):(s(n)||null===n)&&(n=new i(n?1:0)),n instanceof i?r(n,l):c(n.toNumber(),l);if(s(n)||null===n)return c(+n,l);if(s(l)||null===l)return c(n,+l);throw new e.error.UnsupportedTypeError("gcd",e["typeof"](n),e["typeof"](l));}if(arguments.length>2){for(var p=1;p<arguments.length;p++)n=c(n,arguments[p]);return n;}throw new SyntaxError("Function gcd expects two or more arguments");};};},function(e,r,t){"use strict";e.exports=function(e){function r(e,r){if(!e.isInt()||!r.isInt())throw new Error("Parameters in function lcm must be integer numbers");if(e.isZero()||r.isZero())return new i(0);for(var t=e.times(r);!r.isZero();){var n=r;r=e.mod(n),e=n;}return t.div(e).abs();}var n=t(160),i=e.type.BigNumber,o=t(13),a=n.number.isNumber,s=n["boolean"].isBoolean,u=n.number.isInteger,f=o.isCollection;e.lcm=function c(){var t,n=arguments[0],l=arguments[1];if(2==arguments.length){if(a(n)&&a(l)){if(!u(n)||!u(l))throw new Error("Parameters in function lcm must be integer numbers");if(0==n||0==l)return 0;for(var p=n*l;0!=l;)t=l,l=n%t,n=t;return Math.abs(p/n);}if(f(n)||f(l))return o.deepMap2(n,l,c);if(n instanceof i)return a(l)?l=i.convert(l):(s(l)||null===l)&&(l=new i(l?1:0)),l instanceof i?r(n,l):c(n.toNumber(),l);if(l instanceof i)return a(n)?n=i.convert(n):(s(n)||null===n)&&(n=new i(n?1:0)),n instanceof i?r(n,l):c(n.toNumber(),l);if(s(n)||null===n)return c(+n,l);if(s(l)||null===l)return c(n,+l);throw new e.error.UnsupportedTypeError("lcm",e["typeof"](n),e["typeof"](l));}if(arguments.length>2){for(var m=1;m<arguments.length;m++)n=c(n,arguments[m]);return n;}throw new SyntaxError("Function lcm expects two or more arguments");};};},function(e,r,t){"use strict";e.exports=function(e){var r=t(160),n=e.type.BigNumber,i=t(6),o=t(13),a=r.number.isNumber,s=r["boolean"].isBoolean,u=i.isComplex,f=o.isCollection;e.log=function c(r,t){if(1==arguments.length){if(a(r))return r>=0?Math.log(r):c(new i(r,0));if(u(r))return new i(Math.log(Math.sqrt(r.re*r.re+r.im*r.im)),Math.atan2(r.im,r.re));if(r instanceof n)return r.isNegative()?c(r.toNumber()):r.ln();if(f(r))return o.deepMap(r,c);if(s(r)||null===r)return c(+r);throw new e.error.UnsupportedTypeError("log",e["typeof"](r));}if(2==arguments.length)return e.divide(c(r),c(t));throw new e.error.ArgumentsError("log",arguments.length,1,2);};};},function(e,r,t){"use strict";e.exports=function(e){var r=t(160),n=e.type.BigNumber,i=t(6),o=t(13),a=r.number.isNumber,s=r["boolean"].isBoolean,u=i.isComplex,f=o.isCollection;e.log10=function c(r){if(1!=arguments.length)throw new e.error.ArgumentsError("log10",arguments.length,1);if(a(r))return r>=0?Math.log(r)/Math.LN10:c(new i(r,0));if(r instanceof n)return r.isNegative()?c(r.toNumber()):r.log();if(u(r))return new i(Math.log(Math.sqrt(r.re*r.re+r.im*r.im))/Math.LN10,Math.atan2(r.im,r.re)/Math.LN10);if(f(r))return o.deepMap(r,c);if(s(r)||null===r)return c(+r);throw new e.error.UnsupportedTypeError("log10",e["typeof"](r));};};},function(e,r,t){"use strict";e.exports=function(e){function r(e,r){if(r>0)return e-r*Math.floor(e/r);if(0==r)return e;throw new Error("Cannot calculate mod for a negative divisor");}var n=t(160),i=e.type.BigNumber,o=t(13),a=n.number.isNumber,s=n["boolean"].isBoolean,u=o.isCollection;e.mod=function f(t,n){if(2!=arguments.length)throw new e.error.ArgumentsError("mod",arguments.length,2);if(a(t)&&a(n))return r(t,n);if(t instanceof i)return a(n)?n=i.convert(n):(s(n)||null===n)&&(n=new i(n?1:0)),n instanceof i?n.isZero()?t:t.mod(n):f(t.toNumber(),n);if(n instanceof i)return a(t)?t=i.convert(t):(s(t)||null===t)&&(t=new i(t?1:0)),t instanceof i?n.isZero()?t:t.mod(n):f(t,n.toNumber());if(u(t)||u(n))return o.deepMap2(t,n,f);if(s(t)||null===t)return f(+t,n);if(s(n)||null===n)return f(t,+n);throw new e.error.UnsupportedTypeError("mod",e["typeof"](t),e["typeof"](n));};};},function(e,r,t){"use strict";e.exports=function(e){function r(r,t){for(var n=[],i=r.length,o=t[0].length,a=r[0].length,s=0;i>s;s++){n[s]=[];for(var u=0;o>u;u++){for(var f=null,c=0;a>c;c++){var l=e.multiply(r[s][c],t[c][u]);f=null===f?l:e.add(f,l);}n[s][u]=f;}}var p=1===i&&1===o;return p?n[0][0]:n;}function n(r,t){for(var n=[],i=t.length,o=t[0].length,a=0;o>a;a++){for(var s=null,u=0;i>u;u++){var f=e.multiply(r[u],t[u][a]);s=0===u?f:e.add(s,f);}n[a]=s;}return 1===n.length?n[0]:n;}function i(r,t){for(var n=[],i=r.length,o=r[0].length,a=0;i>a;a++){for(var s=null,u=0;o>u;u++){var f=e.multiply(r[a][u],t[u]);s=0===u?f:e.add(s,f);}n[a]=s;}return 1===n.length?n[0]:n;}function o(r,t){var n=r.length;if(!n)throw new Error("Cannot multiply two empty vectors");for(var i=0,o=0;n>o;o++)i=e.add(i,e.multiply(r[o],t[o]));return i;}function a(e,r){return 0==e.im?0==r.im?new f(e.re*r.re,0):0==r.re?new f(0,e.re*r.im):new f(e.re*r.re,e.re*r.im):0==e.re?0==r.im?new f(0,e.im*r.re):0==r.re?new f(-e.im*r.im,0):new f(-e.im*r.im,e.im*r.re):0==r.im?new f(e.re*r.re,e.im*r.re):0==r.re?new f(-e.im*r.im,e.re*r.im):new f(e.re*r.re-e.im*r.im,e.re*r.im+e.im*r.re);}var s=t(160),u=e.type.BigNumber,f=t(6),c=t(9),l=t(10),p=t(13),m=s.array,h=s.number.isNumber,g=s["boolean"].isBoolean,d=f.isComplex,w=Array.isArray,x=l.isUnit;e.multiply=function y(t,s){var l;if(2!=arguments.length)throw new e.error.ArgumentsError("multiply",arguments.length,2);if(h(t)){if(h(s))return t*s;if(d(s))return a(new f(t,0),s);if(x(s))return l=s.clone(),l.value=null===l.value?l._normalize(t):l.value*t,l;}if(d(t)){if(h(s))return a(t,new f(s,0));if(d(s))return a(t,s);}if(t instanceof u)return h(s)?s=u.convert(s):(g(s)||null===s)&&(s=new u(s?1:0)),s instanceof u?t.times(s):y(t.toNumber(),s);if(s instanceof u)return h(t)?t=u.convert(t):(g(t)||null===t)&&(t=new u(t?1:0)),t instanceof u?t.times(s):y(t,s.toNumber());if(x(t)&&h(s))return l=t.clone(),l.value=null===l.value?l._normalize(s):l.value*s,l;if(w(t)){if(w(s)){var v=m.size(t),b=m.size(s);if(1==v.length){if(1==b.length){if(v[0]!=b[0])throw new RangeError("Dimension mismatch in multiplication. Length of A must match length of B (A is "+v[0]+", B is "+b[0]+", "+v[0]+" != "+b[0]+")");return o(t,s);}if(2==b.length){if(v[0]!=b[0])throw new RangeError("Dimension mismatch in multiplication. Length of A must match rows of B (A is "+v[0]+", B is "+b[0]+"x"+b[1]+", "+v[0]+" != "+b[0]+")");return n(t,s);}throw new Error("Can only multiply a 1 or 2 dimensional matrix (B has "+b.length+" dimensions)");}if(2==v.length){if(1==b.length){if(v[1]!=b[0])throw new RangeError("Dimension mismatch in multiplication. Columns of A must match length of B (A is "+v[0]+"x"+v[0]+", B is "+b[0]+", "+v[1]+" != "+b[0]+")");return i(t,s);}if(2==b.length){if(v[1]!=b[0])throw new RangeError("Dimension mismatch in multiplication. Columns of A must match rows of B (A is "+v[0]+"x"+v[1]+", B is "+b[0]+"x"+b[1]+", "+v[1]+" != "+b[0]+")");return r(t,s);}throw new Error("Can only multiply a 1 or 2 dimensional matrix (B has "+b.length+" dimensions)");}throw new Error("Can only multiply a 1 or 2 dimensional matrix (A has "+v.length+" dimensions)");}return s instanceof c?(l=y(t,s.valueOf()),w(l)?new c(l):l):p.deepMap2(t,s,y);}if(t instanceof c)return s instanceof c?(l=y(t.valueOf(),s.valueOf()),w(l)?new c(l):l):(l=y(t.valueOf(),s),w(l)?new c(l):l);if(w(s))return p.deepMap2(t,s,y);if(s instanceof c)return new c(p.deepMap2(t,s.valueOf(),y));if(g(t)||null===t)return y(+t,s);if(g(s)||null===s)return y(t,+s);throw new e.error.UnsupportedTypeError("multiply",e["typeof"](t),e["typeof"](s));};};},function(e,r,t){"use strict";e.exports=function(e){var r=t(160),n=t(153),i=e.type.BigNumber,o=t(6),a=t(9),s=(t(13),r.number.isNumber),u=r["boolean"].isBoolean,f=o.isComplex,c=Array.isArray;e.norm=function l(r,t){if(arguments.length<1||arguments.length>2)throw new e.error.ArgumentsError("abs",arguments.length,1,2);if(s(r))return Math.abs(r);if(f(r))return Math.sqrt(r.re*r.re+r.im*r.im);if(r instanceof i)return r.abs();if(u(r)||null===r)return Math.abs(r);if(c(r)){var o=n.size(r);if(null==t&&(t=2),1==o.length){if(t===Number.POSITIVE_INFINITY||"inf"===t){var p;return e.forEach(r,function(r){var t=e.abs(r);(!p||e.larger(t,p))&&(p=t);}),p;}if(t===Number.NEGATIVE_INFINITY||"-inf"===t){var p;return e.forEach(r,function(r){var t=e.abs(r);(!p||e.smaller(t,p))&&(p=t);}),p;}if("fro"===t)return l(r);if(s(t)&&!isNaN(t)){if(!e.equal(t,0)){var p=0;return e.forEach(r,function(r){p=e.add(e.pow(e.abs(r),t),p);}),e.pow(p,1/t);}return Number.POSITIVE_INFINITY;}throw new Error("Unsupported parameter value");}if(2==o.length){if(1==t){for(var m=[],h=0;h<r.length;h++)for(var g=r[h],d=0;d<g.length;d++)m[d]=e.add(m[d]||0,e.abs(g[d]));return e.max(m);}if(t==Number.POSITIVE_INFINITY||"inf"===t){for(var p=0,h=0;h<r.length;h++){for(var w=0,g=r[h],d=0;d<g.length;d++)w=e.add(w,e.abs(g[d]));e.larger(w,p)&&(p=w);}return p;}if("fro"===t){var x=e.diag(e.multiply(e.transpose(r),r)),y=0;return e.forEach(x,function(r){y=e.add(r,y);}),e.sqrt(y);}if(2==t)throw new Error("Unsupported parameter value, missing implementation of matrix singular value decomposition");throw new Error("Unsupported parameter value");}}if(r instanceof a)return l(r.valueOf(),t);throw new e.error.UnsupportedTypeError("norm",r);};};},function(e,r,t){"use strict";e.exports=function(e){function r(e,r){var t=void 0!=r?r:2,n=0>t;if(n&&(t=-t),0==t)throw new Error("Root must be non-zero");if(0>e&&Math.abs(t)%2!=1)throw new Error("Root must be odd when a is negative.");if(0==e)return 0;if(!Number.isFinite(e))return n?0:e;var i=1e-16,o=1,a=0,s=100;do{var u=(e/Math.pow(o,t-1)-o)/t;o+=u,a++;}while(Math.abs(u)>i&&s>a);return n?1/o:o;}function i(e,r){var t=void 0!=r?r:new a(2),n=new a(0),i=new a(1),o=t.isNegative();if(o&&(t=t.negated()),t.isZero())throw new Error("Root must be non-zero");if(e.isNegative()&&!t.abs().mod(2).equals(1))throw new Error("Root must be odd when a is negative.");if(e.isZero())return n;if(!e.isFinite())return o?n:e;var s=i,u=0,f=100;do{var c=s,l=e.div(s.pow(t.minus(1))).minus(s).div(t);s=s.plus(l),u++;}while(!s.equals(c)&&f>u);return o?i.div(s):s;}var o=t(160),a=e.type.BigNumber,s=t(13),u=o.number.isNumber,f=o["boolean"].isBoolean,c=s.isCollection;e.nthRoot=function l(t,o){if(1!=arguments.length&&2!=arguments.length)throw new e.error.ArgumentsError("nthRoot",arguments.length,1,2);switch(arguments.length){case 1:if(u(t))return r(t);if(t instanceof a)return i(t);if(c(t))return s.deepMap(x,l);if(f(t)||null===t)return l(+t);break;case 2:if(u(t)){if(u(o))return r(t,o);if(o instanceof a)return t=a.convert(t),t instanceof a?i(t,o):r(t,o.toNumber());}else{if(t instanceof a)return u(o)&&(o=a.convert(o)),o instanceof a?i(t,o):r(t.toNumber(),o);if(c(t)&&!c(o))return s.deepMap2(t,o,l);}if(f(t)||null===t)return l(+t,o);if(f(o)||null===o)return l(t,+o);break;default:throw new e.error.ArgumentsError("nthRoot",arguments.length,1,2);}if(f(x)||null===x)return 2==arguments.length?l(+x,n):l(+x);throw new e.error.UnsupportedTypeError("nthRoot",e["typeof"](t),e["typeof"](o));};};},function(e,r,t){"use strict";e.exports=function(e){function r(r,t){var n=e.log(r),i=e.multiply(n,t);return e.exp(i);}var n=t(160),i=e.type.BigNumber,o=t(6),a=t(9),s=(t(13),n.array),u=n.number.isNumber,f=n["boolean"].isBoolean,c=Array.isArray,l=n.number.isInteger,p=o.isComplex;e.pow=function m(t,n){if(2!=arguments.length)throw new e.error.ArgumentsError("pow",arguments.length,2);if(u(t)){if(u(n))return l(n)||t>=0?Math.pow(t,n):r(new o(t,0),new o(n,0));if(p(n))return r(new o(t,0),n);}if(p(t)){if(u(n))return r(t,new o(n,0));if(p(n))return r(t,n);}if(t instanceof i)return u(n)?n=i.convert(n):(f(n)||null===n)&&(n=new i(n?1:0)),n instanceof i?n.isInteger()||!t.isNegative()?t.pow(n):m(t.toNumber(),n.toNumber()):m(t.toNumber(),n);if(n instanceof i)return u(t)?t=i.convert(t):(f(t)||null===t)&&(t=new i(t?1:0)),t instanceof i?n.isInteger()&&!t.isNegative()?t.pow(n):m(t.toNumber(),n.toNumber()):m(t,n.toNumber());if(c(t)){if(!u(n)||!l(n)||0>n)throw new TypeError("For A^b, b must be a positive integer (value is "+n+")");var h=s.size(t);if(2!=h.length)throw new Error("For A^b, A must be 2 dimensional (A has "+h.length+" dimensions)");if(h[0]!=h[1])throw new Error("For A^b, A must be square (size is "+h[0]+"x"+h[1]+")");for(var g=e.eye(h[0]).valueOf(),d=t;n>=1;)1==(1&n)&&(g=e.multiply(d,g)),n>>=1,d=e.multiply(d,d);return g;}if(t instanceof a)return new a(m(t.valueOf(),n));if(f(t)||null===t)return m(+t,n);if(f(n)||null===n)return m(t,+n);throw new e.error.UnsupportedTypeError("pow",e["typeof"](t),e["typeof"](n));};};},function(e,r,t){"use strict";e.exports=function(e){function r(e,r){var t=Math.pow(10,r);return Math.round(e*t)/t;}var n=t(160),i=e.type.BigNumber,o=t(6),a=t(13),s=n.number.isNumber,u=n.number.isInteger,f=n["boolean"].isBoolean,c=o.isComplex,l=a.isCollection;e.round=function p(t,n){if(1!=arguments.length&&2!=arguments.length)throw new e.error.ArgumentsError("round",arguments.length,1,2);if(void 0==n){if(s(t))return Math.round(t);if(c(t))return new o(Math.round(t.re),Math.round(t.im));if(t instanceof i)return t.toDecimalPlaces(0);if(l(t))return a.deepMap(t,p);if(f(t)||null===t)return Math.round(t);throw new e.error.UnsupportedTypeError("round",e["typeof"](t));}if(!s(n)||!u(n)){if(!(n instanceof i)){if(f(n)||null===t)return p(t,+n);throw new TypeError("Number of decimals in function round must be an integer");}n=parseFloat(n.valueOf());}if(0>n||n>15)throw new Error("Number of decimals in function round must be in te range of 0-15");if(s(t))return r(t,n);if(c(t))return new o(r(t.re,n),r(t.im,n));if(t instanceof i)return t.toDecimalPlaces(n);if(l(t)||l(n))return a.deepMap2(t,n,p);if(f(t)||null===t)return p(+t,n);throw new e.error.UnsupportedTypeError("round",e["typeof"](t),e["typeof"](n));};};},function(e,r,t){"use strict";e.exports=function(e){var r=t(160),n=e.type.BigNumber,i=t(6),o=t(13),a=r.number,s=r.number.isNumber,u=r["boolean"].isBoolean,f=i.isComplex,c=o.isCollection;e.sign=function l(r){if(1!=arguments.length)throw new e.error.ArgumentsError("sign",arguments.length,1);if(s(r))return a.sign(r);if(f(r)){var t=Math.sqrt(r.re*r.re+r.im*r.im);return new i(r.re/t,r.im/t);}if(r instanceof n)return new n(r.cmp(0));if(c(r))return o.deepMap(r,l);if(u(r)||null===r)return a.sign(r);throw new e.error.UnsupportedTypeError("sign",e["typeof"](r));};};},function(e,r,t){"use strict";e.exports=function(e){var r=t(160),n=e.type.BigNumber,i=t(6),o=t(13),a=r.number.isNumber,s=r["boolean"].isBoolean,u=i.isComplex,f=o.isCollection;e.sqrt=function c(r){if(1!=arguments.length)throw new e.error.ArgumentsError("sqrt",arguments.length,1);if(a(r))return r>=0?Math.sqrt(r):c(new i(r,0));if(u(r)){var t,l,p=Math.sqrt(r.re*r.re+r.im*r.im);return t=r.re>=0?.5*Math.sqrt(2*(p+r.re)):Math.abs(r.im)/Math.sqrt(2*(p-r.re)),l=r.re<=0?.5*Math.sqrt(2*(p-r.re)):Math.abs(r.im)/Math.sqrt(2*(p+r.re)),r.im>=0?new i(t,l):new i(t,-l);}if(r instanceof n)return r.isNegative()?c(r.toNumber()):r.sqrt();if(f(r))return o.deepMap(r,c);if(s(r)||null===r)return c(+r);throw new e.error.UnsupportedTypeError("sqrt",e["typeof"](r));};};},function(e,r,t){"use strict";e.exports=function(e){var r=t(160),n=e.type.BigNumber,i=t(6),o=t(13),a=r.number.isNumber,s=r["boolean"].isBoolean,u=i.isComplex,f=o.isCollection;e.square=function c(r){if(1!=arguments.length)throw new e.error.ArgumentsError("square",arguments.length,1);if(a(r))return r*r;if(u(r))return e.multiply(r,r);if(r instanceof n)return r.times(r);if(f(r))return o.deepMap(r,c);if(s(r)||null===r)return r*r;throw new e.error.UnsupportedTypeError("square",e["typeof"](r));};};},function(e,r,t){"use strict";e.exports=function(e){var r=t(160),n=e.type.BigNumber,i=t(6),o=(t(9),t(10)),a=t(13),s=r["boolean"].isBoolean,u=r.number.isNumber,f=i.isComplex,c=o.isUnit,l=a.isCollection;e.subtract=function p(r,t){if(2!=arguments.length)throw new e.error.ArgumentsError("subtract",arguments.length,2);if(u(r)){if(u(t))return r-t;if(f(t))return new i(r-t.re,-t.im);}else{if(f(r)){if(u(t))return new i(r.re-t,r.im);if(f(t))return new i(r.re-t.re,r.im-t.im);}}if(r instanceof n)return u(t)?t=n.convert(t):(s(t)||null===t)&&(t=new n(t?1:0)),t instanceof n?r.minus(t):p(r.toNumber(),t);if(t instanceof n)return u(r)?r=n.convert(r):(s(r)||null===r)&&(r=new n(r?1:0)),r instanceof n?r.minus(t):p(r,t.toNumber());if(c(r)&&c(t)){if(null==r.value)throw new Error("Parameter x contains a unit with undefined value");if(null==t.value)throw new Error("Parameter y contains a unit with undefined value");if(!r.equalBase(t))throw new Error("Units do not match");var o=r.clone();return o.value-=t.value,o.fixPrefix=!1,o;}if(l(r)||l(t))return a.deepMap2(r,t,p);if(s(r)||null===r)return p(+r,t);if(s(t)||null===t)return p(r,+t);throw new e.error.UnsupportedTypeError("subtract",e["typeof"](r),e["typeof"](t));};};},function(e,r,t){"use strict";e.exports=function(e,r){var n=t(160),i=e.type.BigNumber,o=t(6),a=t(10),s=t(13),u=n.number.isNumber,f=n["boolean"].isBoolean,c=n.string.isString,l=o.isComplex,p=a.isUnit,m=s.isCollection;e.unaryMinus=function h(t){if(1!=arguments.length)throw new e.error.ArgumentsError("unaryMinus",arguments.length,1);if(u(t))return -t;if(l(t))return new o(-t.re,-t.im);if(t instanceof i)return t.neg();if(p(t)){var n=t.clone();return n.value=-t.value,n;}if(m(t))return s.deepMap(t,h);if(f(t)||c(t)||null===t)return "bignumber"==r.number?new i(-t):-t;throw new e.error.UnsupportedTypeError("unaryMinus",e["typeof"](t));},e.unary=function(){throw new Error("Function unary is deprecated. Use unaryMinus instead.");};};},function(e,r,t){"use strict";e.exports=function(e,r){var n=t(160),i=e.type.BigNumber,o=t(6),a=t(10),s=t(13),u=n.number.isNumber,f=n["boolean"].isBoolean,c=n.string.isString,l=o.isComplex,p=a.isUnit,m=s.isCollection;e.unaryPlus=function h(t){if(1!=arguments.length)throw new e.error.ArgumentsError("unaryPlus",arguments.length,1);if(u(t))return t;if(l(t))return t.clone();if(t instanceof i)return t;if(p(t))return t.clone();if(m(t))return s.deepMap(t,h);if(f(t)||c(t)||null===t)return "bignumber"==r.number?new i(+t):+t;throw new e.error.UnsupportedTypeError("unaryPlus",e["typeof"](t));};};},function(e,r,t){"use strict";e.exports=function(e,r){function n(e,t){for(var n,i,o,s=0,u=1,f=1,c=0;t;)i=Math.floor(e/t),o=e%t,n=s,s=u-i*s,u=n,n=f,f=c-i*f,c=n,e=t,t=o;var l;return l=0>e?[-e,-u,-c]:[e,e?u:0,c],"array"===r.matrix?l:new a(l);}function i(e,t){for(var n,i,o,u=new s(0),f=new s(0),c=new s(1),l=new s(1),p=new s(0);!t.isZero();)i=e.div(t).floor(),o=e.mod(t),n=f,f=c.minus(i.times(f)),c=n,n=l,l=p.minus(i.times(l)),p=n,e=t,t=o;var m;return m=e.lt(u)?[e.neg(),c.neg(),p.neg()]:[e,e.isZero()?0:c,p],"array"===r.matrix?m:new a(m);}var o=t(160),a=t(9),s=e.type.BigNumber,u=o.number.isNumber,f=o["boolean"].isBoolean,c=o.number.isInteger;e.xgcd=function l(r,t){if(2==arguments.length){if(u(r)&&u(t)){if(!c(r)||!c(t))throw new Error("Parameters in function xgcd must be integer numbers");return n(r,t);}if(r instanceof s)return u(t)?t=s.convert(t):(f(t)||null===t)&&(t=new s(t?1:0)),t instanceof s?i(r,t):l(r.toNumber(),t);if(t instanceof s)return u(r)?r=s.convert(r):(f(r)||null===r)&&(r=new s(r?1:0)),r instanceof s?i(r,t):l(r.toNumber(),t);if(f(r)||null===r)return l(+r,t);if(f(t)||null===t)return l(r,+t);throw new e.error.UnsupportedTypeError("xgcd",e["typeof"](r),e["typeof"](t));}throw new SyntaxError("Function xgcd expects two arguments");};};},function(e,r,t){"use strict";e.exports=function(e){var r=t(160),n=e.type.BigNumber,i=(t(9),t(10),t(13)),o=r["boolean"].isBoolean,a=r.number.isInteger,s=r.number.isNumber,u=i.isCollection,f=r.bignumber.and;e.bitAnd=function c(r,t){if(2!=arguments.length)throw new e.error.ArgumentsError("bitAnd",arguments.length,2);if(s(r)&&s(t)){if(!a(r)||!a(t))throw new Error("Parameters in function bitAnd must be integer numbers");return r&t;}if(u(r)||u(t))return i.deepMap2(r,t,c);if(o(r)||null===r)return c(+r,t);if(o(t)||null===t)return c(r,+t);if(r instanceof n)return s(t)&&(t=n.convert(t)),t instanceof n?f(r,t):c(r.toNumber(),t);if(t instanceof n)return s(r)&&(r=n.convert(r)),r instanceof n?f(r,t):c(r,t.toNumber());throw new e.error.UnsupportedTypeError("bitAnd",e["typeof"](r),e["typeof"](t));};};},function(e,r,t){"use strict";e.exports=function(e){var r=t(160),n=e.type.BigNumber,i=(t(9),t(10),t(13)),o=r["boolean"].isBoolean,a=r.number.isInteger,s=r.number.isNumber,u=i.isCollection,f=r.bignumber.not;e.bitNot=function c(r){if(1!=arguments.length)throw new e.error.ArgumentsError("bitNot",arguments.length,1);if(s(r)){if(!a(r))throw new Error("Parameter in function bitNot must be integer numbers");return ~r;}if(r instanceof n)return f(r);if(u(r))return i.deepMap(r,c);if(o(r)||null===r)return c(+r);throw new e.error.UnsupportedTypeError("bitNot",e["typeof"](r));};};},function(e,r,t){"use strict";e.exports=function(e){var r=t(160),n=e.type.BigNumber,i=(t(9),t(10),t(13)),o=r["boolean"].isBoolean,a=r.number.isInteger,s=r.number.isNumber,u=i.isCollection,f=r.bignumber.or;e.bitOr=function c(r,t){if(2!=arguments.length)throw new e.error.ArgumentsError("bitOr",arguments.length,2);if(s(r)&&s(t)){if(!a(r)||!a(t))throw new Error("Parameters in function bitOr must be integer numbers");return r|t;}if(u(r)||u(t))return i.deepMap2(r,t,c);if(o(r)||null===r)return c(+r,t);if(o(t)||null===t)return c(r,+t);if(r instanceof n)return s(t)&&(t=n.convert(t)),t instanceof n?f(r,t):c(r.toNumber(),t);if(t instanceof n)return s(r)&&(r=n.convert(r)),r instanceof n?f(r,t):c(r,t.toNumber());throw new e.error.UnsupportedTypeError("bitOr",e["typeof"](r),e["typeof"](t));};};},function(e,r,t){"use strict";e.exports=function(e){var r=t(160),n=e.type.BigNumber,i=(t(9),t(10),t(13)),o=r["boolean"].isBoolean,a=r.number.isInteger,s=r.number.isNumber,u=i.isCollection,f=r.bignumber.xor;e.bitXor=function c(r,t){if(2!=arguments.length)throw new e.error.ArgumentsError("bitXor",arguments.length,2);if(s(r)&&s(t)){if(!a(r)||!a(t))throw new Error("Parameters in function bitXor must be integer numbers");return r^t;}if(u(r)||u(t))return i.deepMap2(r,t,c);if(o(r)||null===r)return c(+r,t);if(o(t)||null===t)return c(r,+t);if(r instanceof n)return s(t)&&(t=n.convert(t)),t instanceof n?f(r,t):c(r.toNumber(),t);if(t instanceof n)return s(r)&&(r=n.convert(r)),r instanceof n?f(r,t):c(r,t.toNumber());throw new e.error.UnsupportedTypeError("bitXor",e["typeof"](r),e["typeof"](t));};};},function(e,r,t){"use strict";e.exports=function(e){var r=t(160),n=e.type.BigNumber,i=(t(9),t(10),t(13)),o=r["boolean"].isBoolean,a=r.number.isInteger,s=r.number.isNumber,u=i.isCollection,f=r.bignumber.leftShift;e.leftShift=function c(r,t){if(2!=arguments.length)throw new e.error.ArgumentsError("leftShift",arguments.length,2);if(s(r)){if(s(t)){if(!a(r)||!a(t))throw new Error("Parameters in function leftShift must be integer numbers");return r<<t;}if(t instanceof n)return f(n.convert(r),t);}if(s(t)){if(isFinite(t)&&!a(t))throw new Error("Parameters in function leftShift must be integer numbers");if(r instanceof n){if(r.isFinite()&&!r.isInteger())throw new Error("Parameters in function leftShift must be integer numbers");return r.isNaN()||isNaN(t)||0>t?new n(0/0):0==t||r.isZero()?r:1/0!=t||r.isFinite()?55>t?r.times(Math.pow(2,t)+""):(t=n.convert(t),f(r,t)):new n(0/0);}}if(u(r)&&s(t))return i.deepMap2(r,t,c);if(o(r)||null===r)return c(+r,t);if(o(t)||null===t)return c(r,+t);if(r instanceof n)return t instanceof n?f(r,t):c(r.toNumber(),t);if(t instanceof n)return c(r,t.toNumber());throw new e.error.UnsupportedTypeError("leftShift",e["typeof"](r),e["typeof"](t));};};},function(e,r,t){"use strict";e.exports=function(e){var r=t(160),n=e.type.BigNumber,i=(t(9),t(10),t(13)),o=r["boolean"].isBoolean,a=r.number.isInteger,s=r.number.isNumber,u=i.isCollection,f=r.bignumber.rightShift;e.rightArithShift=function c(r,t){if(2!=arguments.length)throw new e.error.ArgumentsError("rightArithShift",arguments.length,2);if(s(r)){if(s(t)){if(!a(r)||!a(t))throw new Error("Parameters in function rightArithShift must be integer numbers");return r>>t;}if(t instanceof n)return f(n.convert(r),t);}if(s(t)){if(isFinite(t)&&!a(t))throw new Error("Parameters in function rightArithShift must be integer numbers");if(r instanceof n){if(r.isFinite()&&!r.isInteger())throw new Error("Parameters in function rightArithShift must be integer numbers");return r.isNaN()||isNaN(t)||0>t?new n(0/0):1/0==t?new n(r.isNegative()?-1:r.isFinite()?0:0/0):55>t?r.div(Math.pow(2,t)+"").floor():(t=n.convert(t),f(r,t));}}if(u(r)&&s(t))return i.deepMap2(r,t,c);if(o(r)||null===r)return c(+r,t);if(o(t)||null===t)return c(r,+t);if(r instanceof n)return t instanceof n?f(r,t):c(r.toNumber(),t);if(t instanceof n)return c(r,t.toNumber());throw new e.error.UnsupportedTypeError("rightArithShift",e["typeof"](r),e["typeof"](t));};};},function(e,r,t){"use strict";e.exports=function(e){var r=t(160),n=(t(9),t(10),t(13)),i=r["boolean"].isBoolean,o=r.number.isInteger,a=r.number.isNumber,s=n.isCollection;e.rightLogShift=function u(r,t){if(2!=arguments.length)throw new e.error.ArgumentsError("rightLogShift",arguments.length,2);if(a(r)&&a(t)){if(!o(r)||!o(t))throw new Error("Parameters in function rightLogShift must be integer numbers");return r>>>t;}if(s(r)&&a(t))return n.deepMap2(r,t,u);if(i(r)||null===r)return u(+r,t);if(i(t)||null===t)return u(r,+t);throw new e.error.UnsupportedTypeError("rightLogShift",e["typeof"](r),e["typeof"](t));};};},function(e,r,t){"use strict";e.exports=function(e){var r=t(160),n=e.type.BigNumber,i=t(6),o=t(13),a=r.number.isNumber,s=r["boolean"].isBoolean,u=o.isCollection,f=i.isComplex;e.arg=function c(r){if(1!=arguments.length)throw new e.error.ArgumentsError("arg",arguments.length,1);if(a(r))return Math.atan2(0,r);if(f(r))return Math.atan2(r.im,r.re);if(u(r))return o.deepMap(r,c);if(s(r)||null===r)return c(+r);if(r instanceof n)return c(r.toNumber());throw new e.error.UnsupportedTypeError("arg",e["typeof"](r));};};},function(e,r,t){"use strict";e.exports=function(e){var r=t(160),n=e.type.BigNumber,i=t(6),o=t(13),a=r.object,s=r.number.isNumber,u=r["boolean"].isBoolean,f=o.isCollection,c=i.isComplex;e.conj=function l(r){if(1!=arguments.length)throw new e.error.ArgumentsError("conj",arguments.length,1);return s(r)?r:r instanceof n?new n(r):c(r)?new i(r.re,-r.im):f(r)?o.deepMap(r,l):u(r)||null===r?+r:a.clone(r);};};},function(e,r,t){"use strict";e.exports=function(e){var r=t(160),n=e.type.BigNumber,i=t(6),o=t(13),a=r.object,s=r.number.isNumber,u=r["boolean"].isBoolean,f=o.isCollection,c=i.isComplex;e.re=function l(r){if(1!=arguments.length)throw new e.error.ArgumentsError("re",arguments.length,1);return s(r)?r:r instanceof n?new n(r):c(r)?r.re:f(r)?o.deepMap(r,l):u(r)||null===r?+r:a.clone(r);};};},function(e,r,t){"use strict";e.exports=function(e){var r=t(160),n=e.type.BigNumber,i=t(6),o=t(13),a=r.number.isNumber,s=r["boolean"].isBoolean,u=o.isCollection,f=i.isComplex;e.im=function c(r){if(1!=arguments.length)throw new e.error.ArgumentsError("im",arguments.length,1);return a(r)?0:r instanceof n?new n(0):f(r)?r.im:u(r)?o.deepMap(r,c):(s(r)||null===r,0);};};},function(e,r,t){"use strict";e.exports=function(e){var r=t(160),n=e.type.BigNumber,i=t(13),o=i.isCollection,a=r.number.isNumber,s=r.string.isString,u=r["boolean"].isBoolean;e.bignumber=function f(r){if(arguments.length>1)throw new e.error.ArgumentsError("bignumber",arguments.length,0,1);if(r instanceof n||a(r)||s(r))return new n(r);if(u(r)||null===r)return new n(+r);if(o(r))return i.deepMap(r,f);if(0==arguments.length)return new n(0);throw new e.error.UnsupportedTypeError("bignumber",e["typeof"](r));};};},function(e,r,t){"use strict";e.exports=function(e){var r=t(160),n=e.type.BigNumber,i=t(13),o=i.isCollection,a=r.number.isNumber,s=r.string.isString;e["boolean"]=function u(r){if(1!=arguments.length)throw new e.error.ArgumentsError("boolean",arguments.length,0,1);if("true"===r||r===!0)return !0;if("false"===r||r===!1||null===r)return !1;if(r instanceof Boolean)return 1==r;if(a(r))return 0!==r;if(r instanceof n)return !r.isZero();if(s(r)){var t=r.toLowerCase();if("true"===t)return !0;if("false"===t)return !1;var f=Number(r);if(""!=r&&!isNaN(f))return 0!==f;}if(o(r))return i.deepMap(r,u);throw new SyntaxError(r.toString()+" is no valid boolean");};};},function(e,r,t){"use strict";e.exports=function(e){var r=t(160),n=e.type.BigNumber,i=t(6),o=t(13),a=o.isCollection,s=r.number.isNumber,u=r.string.isString,f=i.isComplex;e.complex=function c(){switch(arguments.length){case 0:return new i(0,0);case 1:var r=arguments[0];if(s(r))return new i(r,0);if(r instanceof n)return new i(r.toNumber(),0);if(f(r))return r.clone();if(u(r)){var t=i.parse(r);if(t)return t;throw new SyntaxError('String "'+r+'" is no valid complex number');}if(a(r))return o.deepMap(r,c);if("object"==typeof r){if("re" in r&&"im" in r)return new i(r.re,r.im);if("r" in r&&"phi" in r)return i.fromPolar(r.r,r.phi);}throw new TypeError("Two numbers, single string or an fitting object expected in function complex");case 2:var l=arguments[0],p=arguments[1];if(l instanceof n&&(l=l.toNumber()),p instanceof n&&(p=p.toNumber()),s(l)&&s(p))return new i(l,p);throw new TypeError("Two numbers or a single string expected in function complex");default:throw new e.error.ArgumentsError("complex",arguments.length,0,2);}};};},function(e,r,t){"use strict";e.exports=function(e){var r=(t(160),e.type.BigNumber),n=t(8);e.index=function(){var e=Array.prototype.slice.apply(arguments).map(function(e){return e instanceof r?e.toNumber():Array.isArray(e)?e.map(function(e){return e instanceof r?e.toNumber():e;}):e;}),t=new n();return n.apply(t,e),t;};};},function(e,r,t){"use strict";e.exports=function(e){var r=(t(160),t(9));e.matrix=function(t){if(arguments.length>1)throw new e.error.ArgumentsError("matrix",arguments.length,0,1);return new r(t);};};},function(e,r,t){"use strict";e.exports=function(e){var r=t(160),n=e.type.BigNumber,i=e.type.Unit,o=t(13),a=o.isCollection,s=r.number.isNumber,u=r["boolean"].isBoolean,f=r.string.isString;e.number=function c(r,t){switch(arguments.length){case 0:return 0;case 1:if(a(r))return o.deepMap(r,c);if(r instanceof n)return r.toNumber();if(f(r)){var l=Number(r);if(isNaN(l)&&(l=Number(r.valueOf())),isNaN(l))throw new SyntaxError(r.toString()+" is no valid number");return l;}if(u(r)||null===r)return +r;if(s(r))return r;if(r instanceof i)throw new Error("Second argument with valueless unit expected");throw new e.error.UnsupportedTypeError("number",e["typeof"](r));case 2:if(r instanceof i&&f(t)||t instanceof i)return r.toNumber(t);throw new e.error.UnsupportedTypeError("number",e["typeof"](r),e["typeof"](t));default:throw new e.error.ArgumentsError("number",arguments.length,0,1);}};};},function(e,r,t){"use strict";e.exports=function(e){var r=t(15);e.parser=function(){return new r(e);};};},function(e){"use strict";e.exports=function(e){e.chain=function(r){return new e.chaining.Chain(r);},e.select=function(r){return console&&"function"==typeof console.log&&console.log('WARNING: Function "select" is renamed to "chain". It will be deprecated in v2.0.'),e.select=e.chain,e.chaining.Chain.prototype.select=e.select,e.chain(r);};};},function(e,r,t){"use strict";e.exports=function(e){var r=t(160),n=t(13),i=r.number,o=r.number.isNumber,a=n.isCollection;e.string=function s(r){switch(arguments.length){case 0:return "";case 1:return o(r)?i.format(r):a(r)?n.deepMap(r,s):null===r?"null":r.toString();default:throw new e.error.ArgumentsError("string",arguments.length,0,1);}};};},function(e,r,t){"use strict";e.exports=function(e){var r=t(160),n=e.type.BigNumber,i=t(10),o=t(13),a=o.isCollection,s=r.string.isString;e.unit=function u(r){switch(arguments.length){case 1:var t=arguments[0];if(t instanceof i)return t.clone();if(s(t)){if(i.isValuelessUnit(t))return new i(null,t);var f=i.parse(t);if(f)return f;throw new SyntaxError('String "'+t+'" is no valid unit');}if(a(r))return o.deepMap(r,u);throw new TypeError("A string or a number and string expected in function unit");case 2:return arguments[0] instanceof n?new i(arguments[0].toNumber(),arguments[1]):new i(arguments[0],arguments[1]);default:throw new e.error.ArgumentsError("unit",arguments.length,1,2);}};};},function(e,r,t){"use strict";e.exports=function(e){var r=t(160),n=e.type.BigNumber,i=t(6),o=t(10),a=t(13),s=r.number.isNumber,u=r["boolean"].isBoolean,f=i.isComplex,c=o.isUnit,l=a.isCollection;e.and=function p(r,t){if(2!=arguments.length)throw new e.error.ArgumentsError("and",arguments.length,2);if((s(r)||u(r)||null===r)&&(s(t)||u(t)||null===t))return !(!r||!t);if(f(r))return 0==r.re&&0==r.im?!1:p(!0,t);if(f(t))return 0==t.re&&0==t.im?!1:p(r,!0);if(r instanceof n)return r.isZero()||r.isNaN()?!1:p(!0,t);if(t instanceof n)return t.isZero()||t.isNaN()?!1:p(r,!0);if(c(r))return null===r.value||0==r.value?!1:p(!0,t);if(c(t))return null===t.value||0==t.value?!1:p(r,!0);if(l(r)||l(t))return a.deepMap2(r,t,p);throw new e.error.UnsupportedTypeError("and",e["typeof"](r),e["typeof"](t));};};},function(e,r,t){"use strict";e.exports=function(e){var r=t(160),n=e.type.BigNumber,i=t(6),o=t(10),a=t(13),s=r.number.isNumber,u=r["boolean"].isBoolean,f=i.isComplex,c=o.isUnit,l=a.isCollection;e.not=function p(r){if(1!=arguments.length)throw new e.error.ArgumentsError("not",arguments.length,1);if(s(r)||u(r)||null===r)return !r;if(f(r))return 0==r.re&&0==r.im;if(r instanceof n)return r.isZero()||r.isNaN();if(c(r))return null===r.value||0==r.value;if(l(r))return a.deepMap(r,p);throw new e.error.UnsupportedTypeError("not",e["typeof"](r));};};},function(e,r,t){"use strict";e.exports=function(e){var r=t(160),n=e.type.BigNumber,i=t(6),o=t(10),a=t(13),s=r.number.isNumber,u=r["boolean"].isBoolean,f=i.isComplex,c=o.isUnit,l=a.isCollection;e.or=function p(r,t){if(2!=arguments.length)throw new e.error.ArgumentsError("or",arguments.length,2);if((s(r)||u(r)||null===r)&&(s(t)||u(t)||null===t))return !(!r&&!t);if(f(r))return 0==r.re&&0==r.im?p(!1,t):!0;if(f(t))return 0==t.re&&0==t.im?p(r,!1):!0;if(r instanceof n)return r.isZero()||r.isNaN()?p(!1,t):!0;if(t instanceof n)return t.isZero()||t.isNaN()?p(r,!1):!0;if(c(r))return null===r.value||0==r.value?p(!1,t):!0;if(c(t))return null===t.value||0==t.value?p(r,!1):!0;if(l(r)||l(t))return a.deepMap2(r,t,p);throw new e.error.UnsupportedTypeError("or",e["typeof"](r),e["typeof"](t));};};},function(e,r,t){"use strict";e.exports=function(e){var r=t(160),n=e.type.BigNumber,i=t(6),o=t(10),a=t(13),s=r.number.isNumber,u=r["boolean"].isBoolean,f=i.isComplex,c=o.isUnit,l=a.isCollection;e.xor=function p(r,t){if(2!=arguments.length)throw new e.error.ArgumentsError("xor",arguments.length,2);if((s(r)||u(r)||null===r)&&(s(t)||u(t)||null===t))return !!(!!r^!!t);if(f(r))return p(!(0==r.re&&0==r.im),t);if(f(t))return p(r,!(0==t.re&&0==t.im));if(r instanceof n)return p(!(r.isZero()||r.isNaN()),t);if(t instanceof n)return p(r,!(t.isZero()||t.isNaN()));if(c(r))return p(!(null===r.value||0==r.value),t);if(c(t))return p(r,!(null===t.value||0==t.value));if(l(r)||l(t))return a.deepMap2(r,t,p);throw new e.error.UnsupportedTypeError("xor",e["typeof"](r),e["typeof"](t));};};},function(e,r,t){"use strict";e.exports=function(e){function r(t,n,i,o){if(i>o){if(t.length!=n.length)throw new e.error.DimensionError(t.length,n.length);for(var a=[],s=0;s<t.length;s++)a[s]=r(t[s],n[s],i,o+1);return a;}return t.concat(n);}var n=t(160),i=t(159),o=t(9),a=t(13),s=n.object,u=n.array,f=n.number.isNumber,c=n.number.isInteger,l=a.isCollection;e.concat=function(){var t,n,a=arguments.length,p=-1,m=!1,h=[];for(t=0;a>t;t++){var g=arguments[t];if(g instanceof o&&(m=!0),t==a-1&&(f(g)||g instanceof i)){if(n=p,p=g.valueOf(),!c(p))throw new TypeError("Integer number expected for dimension");if(0>p)throw new e.error.IndexError(p);if(t>0&&p>n)throw new e.error.IndexError(p,n+1);}else{if(!l(g))throw new e.error.UnsupportedTypeError("concat",e["typeof"](g));var d=s.clone(g).valueOf(),w=u.size(g.valueOf());if(h[t]=d,n=p,p=w.length-1,t>0&&p!=n)throw new e.error.DimensionError(n+1,p+1);}}if(0==h.length)throw new SyntaxError("At least one matrix expected");for(var x=h.shift();h.length;)x=r(x,h.shift(),p,0);return m?new o(x):x;};};},function(e,r,t){"use strict";e.exports=function(e){function r(r,t){var i=n.size(r),o=n.size(t);if(1!=i.length||1!=o.length||3!=i[0]||3!=o[0])throw new RangeError("Vectors with length 3 expected (Size A = ["+i.join(", ")+"], B = ["+o.join(", ")+"])");return [e.subtract(e.multiply(r[1],t[2]),e.multiply(r[2],t[1])),e.subtract(e.multiply(r[2],t[0]),e.multiply(r[0],t[2])),e.subtract(e.multiply(r[0],t[1]),e.multiply(r[1],t[0]))];}var n=t(153),i=t(9);e.cross=function(t,n){if(t instanceof i){if(n instanceof i)return new i(r(t.toArray(),n.toArray()));if(Array.isArray(n))return new i(r(t.toArray(),n));}else{if(Array.isArray(t)){if(n instanceof i)return new i(r(t,n.toArray()));if(Array.isArray(n))return r(t,n);}}throw new e.error.UnsupportedTypeError("cross",e["typeof"](t),e["typeof"](n));};};},function(e,r,t){"use strict";e.exports=function(e){function r(r,t){if(1==t)return o.clone(r[0][0]);if(2==t)return e.subtract(e.multiply(r[0][0],r[1][1]),e.multiply(r[1][0],r[0][1]));for(var n=function(r){var t,n,i=new Array(r.length),o=0;for(t=1;t<r.length;t++)o=e.add(o,r[t][t]);for(t=0;t<r.length;t++){for(i[t]=new Array(r.length),i[t][t]=e.unaryMinus(o),n=0;t>n;n++)i[t][n]=0;for(n=t+1;n<r.length;n++)i[t][n]=r[t][n];t+1<r.length&&(o=e.subtract(o,r[t+1][t+1]));}return i;},i=r,a=0;t-1>a;a++)i=e.multiply(n(i),r);return t%2==0?e.unaryMinus(i[0][0]):i[0][0];}var n=t(160),i=t(9),o=n.object,a=n.string;e.det=function(t){if(1!=arguments.length)throw new e.error.ArgumentsError("det",arguments.length,1);var n;switch(t instanceof i?n=t.size():t instanceof Array?(t=new i(t),n=t.size()):n=[],n.length){case 0:return o.clone(t);case 1:if(1==n[0])return o.clone(t.valueOf()[0]);throw new RangeError("Matrix must be square (size: "+a.format(n)+")");case 2:var s=n[0],u=n[1];if(s==u)return r(t.clone().valueOf(),s,u);throw new RangeError("Matrix must be square (size: "+a.format(n)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+a.format(n)+")");}};};},function(e,r,t){"use strict";e.exports=function(e){var r=t(160),n=e.type.BigNumber,i=t(9),o=r.object,a=r.array.isArray,s=r.number.isNumber,u=r.number.isInteger;e.diag=function(r,t){var f,c,l,p;if(1!=arguments.length&&2!=arguments.length)throw new e.error.ArgumentsError("diag",arguments.length,1,2);if(t){if(t instanceof n&&(t=t.toNumber()),!s(t)||!u(t))throw new TypeError("Second parameter in function diag must be an integer");}else t=0;var m,h=t>0?t:0,g=0>t?-t:0;if(r instanceof i)m=!1;else{if(!a(r))throw new TypeError("First parameter in function diag must be a Matrix or Array");r=new i(r),m=!0;}var d=r.size();switch(d.length){case 1:c=r.valueOf();var w=new i(),x=c[0] instanceof n?new n(0):0;for(w.resize([c.length+g,c.length+h],x),f=w.valueOf(),p=c.length,l=0;p>l;l++)f[l+g][l+h]=o.clone(c[l]);return m?w.valueOf():w;case 2:for(c=[],f=r.valueOf(),p=Math.min(d[0]-g,d[1]-h),l=0;p>l;l++)c[l]=o.clone(f[l+g][l+h]);return m?c:new i(c);default:throw new RangeError("Matrix for function diag must be 2 dimensional");}};};},function(e,r,t){"use strict";e.exports=function(e){function r(r,t){var i=n.size(r),o=n.size(t),a=i[0];if(1!==i.length||1!==o.length)throw new RangeError("Vector expected");if(i[0]!=o[0])throw new RangeError("Vectors must have equal length ("+i[0]+" != "+o[0]+")");if(0==a)throw new RangeError("Cannot calculate the dot product of empty vectors");for(var s=0,u=0;a>u;u++)s=e.add(s,e.multiply(r[u],t[u]));return s;}var n=t(153),i=t(9);e.dot=function(t,n){if(t instanceof i){if(n instanceof i)return r(t.toArray(),n.toArray());if(Array.isArray(n))return r(t.toArray(),n);}else{if(Array.isArray(t)){if(n instanceof i)return r(t,n.toArray());if(Array.isArray(n))return r(t,n);}}throw new e.error.UnsupportedTypeError("dot",e["typeof"](t),e["typeof"](n));};};},function(e,r,t){"use strict";e.exports=function(e,r){var n=t(160),i=e.type.BigNumber,o=t(9),a=t(13),s=n.number.isNumber,u=n.number.isInteger,f=Array.isArray;e.eye=function(t){var n=a.argsToArray(arguments),c=t instanceof o?!0:f(t)?!1:"matrix"===r.matrix;if(0==n.length)return c?new o():[];if(1==n.length)n[1]=n[0];else{if(n.length>2)throw new e.error.ArgumentsError("eye",n.length,0,2);}var l=n[0],p=n[1];if(l instanceof i&&(l=l.toNumber()),p instanceof i&&(p=p.toNumber()),!s(l)||!u(l)||1>l)throw new Error("Parameters in function eye must be positive integers");if(!s(p)||!u(p)||1>p)throw new Error("Parameters in function eye must be positive integers");var m=!1;n=n.map(function(e){return e instanceof i?(m=!0,e.toNumber()):e;});var h=new o(),g=m?new i(1):1,d=m?new i(0):0;h.resize(n,d);for(var w=e.min(n),x=h.valueOf(),y=0;w>y;y++)x[y][y]=g;return c?h:h.valueOf();};};},function(e,r,t){"use strict";e.exports=function(e){var r=t(160),n=t(9),i=r.object,o=r.array,a=Array.isArray;e.flatten=function(r){if(1!==arguments.length)throw new e.error.ArgumentsError("flatten",arguments.length,1);if(r instanceof n){var t=i.clone(r.toArray()),s=o.flatten(t);return new n(s);}if(a(r))return o.flatten(i.clone(r));throw new e.error.UnsupportedTypeError("flatten",e["typeof"](r));};};},function(e,r,t){"use strict";e.exports=function(e){function r(r,t,n){var i,o,a,s,u;if(1==t){if(s=r[0][0],0==s)throw Error("Cannot calculate inverse, determinant is zero");return [[e._divide(1,s)]];}if(2==t){var f=e.det(r);if(0==f)throw Error("Cannot calculate inverse, determinant is zero");return [[e._divide(r[1][1],f),e._divide(e.unaryMinus(r[0][1]),f)],[e._divide(e.unaryMinus(r[1][0]),f),e._divide(r[0][0],f)]];}var c=r.concat();for(i=0;t>i;i++)c[i]=c[i].concat();for(var l=e.eye(t).valueOf(),p=0;n>p;p++){for(i=p;t>i&&0==c[i][p];)i++;if(i==t||0==c[i][p])throw Error("Cannot calculate inverse, determinant is zero");i!=p&&(u=c[p],c[p]=c[i],c[i]=u,u=l[p],l[p]=l[i],l[i]=u);var m=c[p],h=l[p];for(i=0;t>i;i++){var g=c[i],d=l[i];if(i!=p){if(0!=g[p]){for(a=e._divide(e.unaryMinus(g[p]),m[p]),o=p;n>o;o++)g[o]=e.add(g[o],e.multiply(a,m[o]));for(o=0;n>o;o++)d[o]=e.add(d[o],e.multiply(a,h[o]));}}else{for(a=m[p],o=p;n>o;o++)g[o]=e._divide(g[o],a);for(o=0;n>o;o++)d[o]=e._divide(d[o],a);}}}return l;}var n=t(160),i=t(9);e.inv=function(t){if(1!=arguments.length)throw new e.error.ArgumentsError("inv",arguments.length,1);var o=e.size(t).valueOf();switch(o.length){case 0:return e._divide(1,t);case 1:if(1==o[0])return t instanceof i?new i([e._divide(1,t.valueOf()[0])]):[e._divide(1,t[0])];throw new RangeError("Matrix must be square (size: "+n.string.format(o)+")");case 2:var a=o[0],s=o[1];if(a==s)return t instanceof i?new i(r(t.valueOf(),a,s)):r(t,a,s);throw new RangeError("Matrix must be square (size: "+n.string.format(o)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+n.string.format(o)+")");}};};},function(e,r,t){"use strict";e.exports=function(e,r){var n=t(160),i=e.type.BigNumber,o=t(9),a=t(13),s=n.array,u=Array.isArray;e.ones=function(e){var t=a.argsToArray(arguments),n=e instanceof o?!0:u(e)?!1:"matrix"===r.matrix;if(0==t.length)return n?new o():[];var f=!1;t=t.map(function(e){return e instanceof i?(f=!0,e.toNumber()):e;});var c=[],l=f?new i(1):1;return c=s.resize(c,t,l),n?new o(c):c;};};},function(e,r,t){"use strict";e.exports=function(e,r){function n(e,r,t){var n=[],i=e;if(t>0)for(;r>i;)n.push(i),i+=t;else{if(0>t)for(;i>r;)n.push(i),i+=t;}return n;}function i(e,r,t){var n=[],i=e;if(t>0)for(;r>=i;)n.push(i),i+=t;else{if(0>t)for(;i>=r;)n.push(i),i+=t;}return n;}function o(e,r,t){var n=[],i=e.clone(),o=new f(0);if(t.gt(o))for(;i.lt(r);)n.push(i),i=i.plus(t);else{if(t.lt(o))for(;i.gt(r);)n.push(i),i=i.plus(t);}return n;}function a(e,r,t){var n=[],i=e.clone(),o=new f(0);if(t.gt(o))for(;i.lte(r);)n.push(i),i=i.plus(t);else{if(t.lt(o))for(;i.gte(r);)n.push(i),i=i.plus(t);}return n;}function s(e){var t=e.split(":"),n=null;if("bignumber"===r.number)try{n=t.map(function(e){return new f(e);});}catch(i){return null;}else{n=t.map(function(e){return Number(e);});var o=n.some(function(e){return isNaN(e);});if(o)return null;}switch(n.length){case 2:return {start:n[0],end:n[1],step:1};case 3:return {start:n[0],end:n[2],step:n[1]};default:return null;}}var u=t(160),f=e.type.BigNumber,c=t(9),l=(t(13),u["boolean"].isBoolean),p=u.string.isString,m=u.number.isNumber;e.range=function(){var t,u,h,g=Array.prototype.slice.call(arguments),d=!1;switch(l(g[g.length-1])&&(d=g.pop()?!0:!1),g.length){case 1:if(!p(g[0]))throw new TypeError("Two or three numbers or a single string expected in function range");var w=s(g[0]);if(!w)throw new SyntaxError('String "'+g[0]+'" is no valid range');t=w.start,u=w.end,h=w.step;break;case 2:t=g[0],u=g[1],h=1;break;case 3:t=g[0],u=g[1],h=g[2];break;case 4:throw new TypeError("Parameter includeEnd must be a boolean");default:throw new e.error.ArgumentsError("range",arguments.length,2,4);}if(!(m(t)||t instanceof f))throw new TypeError("Parameter start must be a number");if(!(m(u)||u instanceof f))throw new TypeError("Parameter end must be a number");if(!(m(h)||h instanceof f))throw new TypeError("Parameter step must be a number");if(t instanceof f||u instanceof f||h instanceof f){var x=!0;t instanceof f||(t=f.convert(t)),u instanceof f||(u=f.convert(u)),h instanceof f||(h=f.convert(h)),t instanceof f&&u instanceof f&&h instanceof f||(x=!1,t instanceof f&&(t=t.toNumber()),u instanceof f&&(u=u.toNumber()),h instanceof f&&(h=h.toNumber()));}var y=x?d?a:o:d?i:n,v=y(t,u,h);return "array"===r.matrix?v:new c(v);};};},function(e,r,t){"use strict";e.exports=function(e,r){function n(r,t,n){if(void 0!==n){if(!c(n)||1!==n.length)throw new TypeError("Single character expected as defaultValue");}else n=" ";if(1!==t.length)throw new e.error.DimensionError(t.length,1);var i=t[0];if(!l(i)||!p(i))throw new TypeError("Invalid size, must contain positive integers (size: "+f.format(t)+")");if(r.length>i)return r.substring(0,i);if(r.length<i){for(var o=r,a=0,s=i-r.length;s>a;a++)o+=n;return o;}return r;}var i=t(160),o=e.type.BigNumber,a=t(9),s=i.array,u=i.object.clone,f=i.string,c=i.string.isString,l=i.number.isNumber,p=i.number.isInteger,m=s.isArray;e.resize=function(t,i,f){if(2!=arguments.length&&3!=arguments.length)throw new e.error.ArgumentsError("resize",arguments.length,2,3);var l=t instanceof a?!0:m(t)?!1:"array"!==r.matrix;if(t instanceof a&&(t=t.valueOf()),i instanceof a&&(i=i.valueOf()),i.length&&i[0] instanceof o&&(i=i.map(function(e){return e instanceof o?e.toNumber():e;})),c(t))return n(t,i,f);if(0==i.length){for(;m(t);)t=t[0];return u(t);}m(t)||(t=[t]),t=u(t);var p=s.resize(t,i,f);return l?new a(p):p;};};},function(e,r,t){"use strict";e.exports=function(e,r){var n=t(160),i=e.type.BigNumber,o=t(6),a=t(10),s=t(9),u=n.array,f=n.number.isNumber,c=n["boolean"].isBoolean,l=n.string.isString,p=o.isComplex,m=a.isUnit;e.size=function(t){if(1!=arguments.length)throw new e.error.ArgumentsError("size",arguments.length,1);var n="array"===r.matrix;if(f(t)||p(t)||m(t)||c(t)||null==t||t instanceof i)return n?[]:new s([]);if(l(t))return n?[t.length]:new s([t.length]);if(Array.isArray(t))return u.size(t);if(t instanceof s)return new s(t.size());throw new e.error.UnsupportedTypeError("size",e["typeof"](t));};};},function(e,r,t){"use strict";e.exports=function(e){var r=t(160),n=t(9),i=r.object,o=r.array,a=Array.isArray;e.squeeze=function(r){if(1!=arguments.length)throw new e.error.ArgumentsError("squeeze",arguments.length,1);if(a(r))return o.squeeze(i.clone(r));if(r instanceof n){var t=o.squeeze(r.toArray());return a(t)?new n(t):t;}return i.clone(r);};};},function(e,r,t){"use strict";e.exports=function(e){function r(r,t){var i,o;if(l(r))return i=new s(r),o=i.subset(t),o&&o.valueOf();if(r instanceof s)return r.subset(t);if(c(r))return n(r,t);throw new e.error.UnsupportedTypeError("subset",e["typeof"](r));}function n(r,t){if(!(t instanceof u))throw new TypeError("Index expected");if(1!=t.size().length)throw new e.error.DimensionError(t.size().length,1);var n=r.length;f.validateIndex(t.min()[0],n),f.validateIndex(t.max()[0],n);var i=t.range(0),o="";return i.forEach(function(e){o+=r.charAt(e);}),o;}function i(r,t,n,i){var a;if(l(r))return a=new s(e.clone(r)),a.subset(t,n,i),a.valueOf();if(r instanceof s)return r.clone().subset(t,n,i);if(c(r))return o(r,t,n,i);throw new e.error.UnsupportedTypeError("subset",e["typeof"](r));}function o(r,t,n,i){if(!(t instanceof u))throw new TypeError("Index expected");if(1!=t.size().length)throw new e.error.DimensionError(t.size().length,1);if(void 0!==i){if(!c(i)||1!==i.length)throw new TypeError("Single character expected as defaultValue");}else i=" ";var o=t.range(0),a=o.size()[0];if(a!=n.length)throw new e.error.DimensionError(o.size()[0],n.length);var s=r.length;f.validateIndex(t.min()[0]),f.validateIndex(t.max()[0]);for(var l=[],p=0;s>p;p++)l[p]=r.charAt(p);if(o.forEach(function(e,r){l[e]=n.charAt(r);}),l.length>s)for(p=s-1,a=l.length;a>p;p++)l[p]||(l[p]=i);return l.join("");}var a=t(160),s=t(9),u=t(8),f=a.array,c=a.string.isString,l=Array.isArray;e.subset=function(){switch(arguments.length){case 2:return r(arguments[0],arguments[1]);case 3:case 4:return i(arguments[0],arguments[1],arguments[2],arguments[3]);default:throw new e.error.ArgumentsError("subset",arguments.length,2,4);}};};},function(e,r,t){"use strict";e.exports=function(e){var r=t(160),n=t(9),i=r.object,o=r.string;e.transpose=function(r){if(1!=arguments.length)throw new e.error.ArgumentsError("transpose",arguments.length,1);var t=e.size(r).valueOf();switch(t.length){case 0:return i.clone(r);case 1:return i.clone(r);case 2:var a,s=t[1],u=t[0],f=r instanceof n,c=r.valueOf(),l=[],p=i.clone;if(0===s)throw new RangeError("Cannot transpose a 2D matrix with no rows(size: "+o.format(t)+")");for(var m=0;s>m;m++){a=l[m]=[];for(var h=0;u>h;h++)a[h]=p(c[h][m]);}return f?new n(l):l;default:throw new RangeError("Matrix must be two dimensional (size: "+o.format(t)+")");}};};},function(e,r,t){"use strict";e.exports=function(e,r){var n=t(160),i=e.type.BigNumber,o=t(9),a=t(13),s=n.array,u=Array.isArray;e.zeros=function(e){var t=a.argsToArray(arguments),n=e instanceof o?!0:u(e)?!1:"matrix"===r.matrix;if(0==t.length)return n?new o():[];var f=!1;t=t.map(function(e){return e instanceof i?(f=!0,e.toNumber()):e;});var c=[],l=f?new i(0):0;return c=s.resize(c,t,l),n?new o(c):c;};};},function(e,r,t){"use strict";e.exports=function(e){var r=t(160),n=e.type.BigNumber,i=t(13),o=r.number.isNumber,a=r["boolean"].isBoolean,s=(r.number.isInteger,i.isCollection);e.factorial=function c(r){var t,l;if(1!=arguments.length)throw new e.error.ArgumentsError("factorial",arguments.length,1);if(o(r))return e.gamma(r+1);if(r instanceof n){if(!u(r)&&r.isFinite())return e.gamma(r.plus(1));if(!r.isFinite())return new n(r);if(r=r.toNumber(),r<f.length)return 21>r?new n(f[r]):f[r];var p=new n(1);t=new n(f.length),l=f[f.length-1];for(var m=f.length;r>m;++m)l=l.times(t),t=t.plus(p),f[m]=l;return f[r]=l.times(t);}if(a(r)||null===r)return 1;if(s(r))return i.deepMap(r,c);throw new e.error.UnsupportedTypeError("factorial",e["typeof"](r));};var u=function(e){return e.isInteger()&&(!e.isNegative()||e.isZero());},f=[1,1,2,6,24,120,720,5040,40320,362880,3628800,39916800,479001600,6227020800,87178291200,1307674368e3,20922789888e3,355687428096e3,6402373705728e3,0x1b02b9306890000,243290200817664e4,new n("51090942171709440000")];};},function(e,r,t){"use strict";e.exports=function(e){var r=t(160),n=e.type.BigNumber,i=t(6),o=t(13),a=r["boolean"].isBoolean,s=i.isComplex,u=r.number.isNumber,f=r.number.isInteger,c=o.isCollection;e.gamma=function p(r){var t,m,h=4.7421875;if(1!=arguments.length)throw new e.error.ArgumentsError("gamma",arguments.length,1);if(u(r)){if(f(r)){if(0>=r)return isFinite(r)?1/0:0/0;if(r>171)return 1/0;for(var g=r-2,d=r-1;g>1;)d*=g,g--;return 0==d&&(d=1),d;}if(.5>r)return Math.PI/(Math.sin(Math.PI*r)*p(1-r));if(r>=171.35)return 1/0;if(r>85){var w=r*r,x=w*r,y=x*r,v=y*r;return Math.sqrt(2*Math.PI/r)*Math.pow(r/Math.E,r)*(1+1/(12*r)+1/(288*w)-139/(51840*x)-571/(2488320*y)+163879/(209018880*v)+5246819/(75246796800*v*r));}--r,m=l[0];for(var b=1;b<l.length;++b)m+=l[b]/(r+b);return t=r+h+.5,Math.sqrt(2*Math.PI)*Math.pow(t,r+.5)*Math.exp(-t)*m;}if(s(r)){if(0==r.im)return p(r.re);r=new i(r.re-1,r.im),m=new i(l[0],0);for(var b=1;b<l.length;++b){var E=r.re+b,N=E*E+r.im*r.im;0!=N?(m.re+=l[b]*E/N,m.im+=-(l[b]*r.im)/N):m.re=l[b]<0?-1/0:1/0;}t=new i(r.re+h+.5,r.im);var A=Math.sqrt(2*Math.PI);r.re+=.5;var M=e.pow(t,r);0==M.im?M.re*=A:0==M.re?M.im*=A:(M.re*=A,M.im*=A);var T=Math.exp(-t.re);return t.re=T*Math.cos(-t.im),t.im=T*Math.sin(-t.im),e.multiply(e.multiply(M,t),m);}if(r instanceof n){if(r.isInteger())return r.isNegative()||r.isZero()?new n(1/0):e.factorial(r.minus(1));if(!r.isFinite())return new n(r.isNegative()?0/0:1/0);}if(a(r)||null===r)return r?1:1/0;if(c(r))return o.deepMap(r,p);throw new e.error.UnsupportedTypeError("gamma",e["typeof"](r));};var l=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];};},function(e,r,t){"use strict";e.exports=function(e){var r=t(194)(e);e.random=r("uniform").random;};},function(e,r,t){"use strict";e.exports=function(e){var r=t(194)(e);e.randomInt=r("uniform").randomInt;};},function(e,r,t){"use strict";e.exports=function(e){var r=t(194)(e);e.pickRandom=r("uniform").pickRandom;};},function(e,r,t){"use strict";e.exports=function(e){var r=t(160),n=e.type.BigNumber,i=r.number.isNumber,o=r.number.isInteger;e.permutations=function(r,t){var s,u,f=arguments.length;if(f>2)throw new e.error.ArgumentsError("permutations",arguments.length,2);if(i(r)){if(!o(r)||0>r)throw new TypeError("Positive integer value expected in function permutations");if(1==f)return e.factorial(r);if(2==f&&i(t)){if(!o(t)||0>t)throw new TypeError("Positive integer value expected in function permutations");if(t>r)throw new TypeError("second argument k must be less than or equal to first argument n");for(s=1,u=r-t+1;r>=u;u++)s*=u;return s;}}if(r instanceof n){if(void 0===t&&a(r))return e.factorial(r);if(t=n.convert(t),!(t instanceof n&&a(r)&&a(t)))throw new TypeError("Positive integer value expected in function permutations");if(t.gt(r))throw new TypeError("second argument k must be less than or equal to first argument n");for(s=new n(1),u=r.minus(t).plus(1);u.lte(r);u=u.plus(1))s=s.times(u);return s;}throw new e.error.UnsupportedTypeError("permutations",e["typeof"](r));};var a=function(e){return e.isInteger()&&e.gte(0);};};},function(e,r,t){"use strict";e.exports=function(e){var r=t(160),n=e.type.BigNumber,i=(t(13),r.number.isNumber),o=r.number.isInteger;e.combinations=function(r,t){var s,u,f,c,l=arguments.length;if(2!=l)throw new e.error.ArgumentsError("combinations",arguments.length,2);if(i(r)){if(!o(r)||0>r)throw new TypeError("Positive integer value enpected in function combinations");if(t>r)throw new TypeError("k must be less than or equal to n");for(s=Math.max(t,r-t),u=1,f=1;r-s>=f;f++)u=u*(s+f)/f;return u;}if(r instanceof n){if(t=n.convert(t),!(t instanceof n&&a(r)&&a(t)))throw new TypeError("Positive integer value expected in function combinations");if(t.gt(r))throw new TypeError("k must be less than n in function combinations");for(s=r.minus(t),t.lt(s)&&(s=t),u=new n(1),f=new n(1),c=r.minus(s);f.lte(c);f=f.plus(1))u=u.times(s.plus(f)).dividedBy(f);return u;}throw new e.error.UnsupportedTypeError("combinations",e["typeof"](r));};var a=function(e){return e.isInteger()&&e.gte(0);};};},function(e,r,t){"use strict";e.exports=function(e,r){var n=t(160),i=e.type.BigNumber,o=t(6),a=t(10),s=t(13),u=n.number.isNumber,f=n.number.nearlyEqual,c=n["boolean"].isBoolean,l=n.string.isString,p=o.isComplex,m=a.isUnit,h=s.isCollection;e.compare=function g(t,n){if(2!=arguments.length)throw new e.error.ArgumentsError("compare",arguments.length,2);if(u(t)&&u(n))return f(t,n,r.epsilon)?0:t>n?1:-1;if(t instanceof i)return u(n)?n=i.convert(n):(c(n)||null===n)&&(n=new i(n?1:0)),n instanceof i?new i(t.cmp(n)):g(t.toNumber(),n);if(n instanceof i)return u(t)?t=i.convert(t):(c(t)||null===t)&&(t=new i(t?1:0)),t instanceof i?new i(t.cmp(n)):g(t,n.toNumber());if(m(t)&&m(n)){if(!t.equalBase(n))throw new Error("Cannot compare units with different base");return t.value>n.value?1:t.value<n.value?-1:0;}if(h(t)||h(n))return s.deepMap2(t,n,g);if(l(t)||l(n))return t>n?1:n>t?-1:0;if(c(t)||null===t)return g(+t,n);if(c(n)||null===n)return g(t,+n);if(p(t)||p(n))throw new TypeError("No ordering relation is defined for complex numbers");throw new e.error.UnsupportedTypeError("compare",e["typeof"](t),e["typeof"](n));};};},function(e,r,t){"use strict";e.exports=function(e){function r(t,n){if(o(t)){if(o(n)){var i=t.length;if(i!==n.length)return !1;for(var a=0;i>a;a++)if(!r(t[a],n[a]))return !1;return !0;}return !1;}return o(n)?!1:e.equal(t,n);}var n=t(13),i=n.isCollection,o=Array.isArray;e.deepEqual=function(t,n){if(2!=arguments.length)throw new e.error.ArgumentsError("deepEqual",arguments.length,2);return i(t)||i(n)?r(t.valueOf(),n.valueOf()):e.equal(t,n);};};},function(e,r,t){"use strict";e.exports=function(e,r){var n=t(160),i=e.type.BigNumber,o=t(6),a=t(10),s=t(13),u=n.number.isNumber,f=n.number.nearlyEqual,c=n["boolean"].isBoolean,l=n.string.isString,p=o.isComplex,m=a.isUnit,h=s.isCollection;e.equal=function g(t,n){if(2!=arguments.length)throw new e.error.ArgumentsError("equal",arguments.length,2);if(u(t)){if(u(n))return f(t,n,r.epsilon);if(p(n))return f(t,n.re,r.epsilon)&&f(n.im,0,r.epsilon);}if(p(t)){if(u(n))return f(t.re,n,r.epsilon)&&f(t.im,0,r.epsilon);if(p(n))return f(t.re,n.re,r.epsilon)&&f(t.im,n.im,r.epsilon);}if(t instanceof i)return u(n)?n=i.convert(n):c(n)&&(n=new i(n?1:0)),n instanceof i?t.eq(n):g(t.toNumber(),n);if(n instanceof i)return u(t)?t=i.convert(t):c(t)&&(t=new i(t?1:0)),t instanceof i?t.eq(n):g(t,n.toNumber());if(m(t)&&m(n)){if(!t.equalBase(n))throw new Error("Cannot compare units with different base");return t.value==n.value;}if(h(t)||h(n))return s.deepMap2(t,n,g);if(l(t)||l(n))return t==n;if(c(t))return g(+t,n);if(c(n))return g(t,+n);if(null===t)return null===n;if(null===n)return null===t;if(void 0===t)return void 0===n;if(void 0===n)return void 0===t;throw new e.error.UnsupportedTypeError("equal",e["typeof"](t),e["typeof"](n));};};},function(e,r,t){"use strict";e.exports=function(e,r){var n=t(160),i=e.type.BigNumber,o=t(6),a=t(10),s=t(13),u=n.number.isNumber,f=n.number.nearlyEqual,c=n["boolean"].isBoolean,l=n.string.isString,p=o.isComplex,m=a.isUnit,h=s.isCollection;e.larger=function g(t,n){if(2!=arguments.length)throw new e.error.ArgumentsError("larger",arguments.length,2);if(u(t)&&u(n))return !f(t,n,r.epsilon)&&t>n;if(t instanceof i)return u(n)?n=i.convert(n):(c(n)||null===n)&&(n=new i(n?1:0)),n instanceof i?t.gt(n):g(t.toNumber(),n);if(n instanceof i)return u(t)?t=i.convert(t):(c(t)||null===t)&&(t=new i(t?1:0)),t instanceof i?t.gt(n):g(t,n.toNumber());if(m(t)&&m(n)){if(!t.equalBase(n))throw new Error("Cannot compare units with different base");return t.value>n.value;}if(h(t)||h(n))return s.deepMap2(t,n,g);if(l(t)||l(n))return t>n;if(c(t)||null===t)return g(+t,n);if(c(n)||null===n)return g(t,+n);if(p(t)||p(n))throw new TypeError("No ordering relation is defined for complex numbers");throw new e.error.UnsupportedTypeError("larger",e["typeof"](t),e["typeof"](n));};};},function(e,r,t){"use strict";e.exports=function(e,r){var n=t(160),i=e.type.BigNumber,o=t(6),a=t(10),s=t(13),u=n.number.isNumber,f=n.number.nearlyEqual,c=n["boolean"].isBoolean,l=n.string.isString,p=o.isComplex,m=a.isUnit,h=s.isCollection;e.largerEq=function g(t,n){if(2!=arguments.length)throw new e.error.ArgumentsError("largerEq",arguments.length,2);if(u(t)&&u(n))return f(t,n,r.epsilon)||t>n;if(t instanceof i)return u(n)?n=i.convert(n):(c(n)||null===n)&&(n=new i(n?1:0)),n instanceof i?t.gte(n):g(t.toNumber(),n);if(n instanceof i)return u(t)?t=i.convert(t):(c(t)||null===t)&&(t=new i(t?1:0)),t instanceof i?t.gte(n):g(t,n.toNumber());if(m(t)&&m(n)){if(!t.equalBase(n))throw new Error("Cannot compare units with different base");return t.value>=n.value;}if(h(t)||h(n))return s.deepMap2(t,n,g);if(l(t)||l(n))return t>=n;if(c(t)||null===t)return g(+t,n);if(c(n)||null===n)return g(t,+n);if(p(t)||p(n))throw new TypeError("No ordering relation is defined for complex numbers");throw new e.error.UnsupportedTypeError("largerEq",e["typeof"](t),e["typeof"](n));},e.largereq=function(){throw new Error("Function largereq is renamed to largerEq");};};},function(e,r,t){"use strict";e.exports=function(e,r){var n=t(160),i=e.type.BigNumber,o=t(6),a=t(10),s=t(13),u=n.number.isNumber,f=n.number.nearlyEqual,c=n["boolean"].isBoolean,l=n.string.isString,p=o.isComplex,m=a.isUnit,h=s.isCollection;e.smaller=function g(t,n){if(2!=arguments.length)throw new e.error.ArgumentsError("smaller",arguments.length,2);if(u(t)&&u(n))return !f(t,n,r.epsilon)&&n>t;if(t instanceof i)return u(n)?n=i.convert(n):(c(n)||null===n)&&(n=new i(n?1:0)),n instanceof i?t.lt(n):g(t.toNumber(),n);if(n instanceof i)return u(t)?t=i.convert(t):(c(t)||null===t)&&(t=new i(t?1:0)),t instanceof i?t.lt(n):g(t,n.toNumber());if(m(t)&&m(n)){if(!t.equalBase(n))throw new Error("Cannot compare units with different base");return t.value<n.value;}if(h(t)||h(n))return s.deepMap2(t,n,g);if(l(t)||l(n))return n>t;if(c(t)||null===t)return g(+t,n);if(c(n)||null===n)return g(t,+n);if(p(t)||p(n))throw new TypeError("No ordering relation is defined for complex numbers");throw new e.error.UnsupportedTypeError("smaller",e["typeof"](t),e["typeof"](n));};};},function(e,r,t){"use strict";e.exports=function(e,r){var n=t(160),i=e.type.BigNumber,o=t(6),a=t(10),s=t(13),u=n.number.isNumber,f=n.number.nearlyEqual,c=n["boolean"].isBoolean,l=n.string.isString,p=o.isComplex,m=a.isUnit,h=s.isCollection;e.smallerEq=function g(t,n){if(2!=arguments.length)throw new e.error.ArgumentsError("smallerEq",arguments.length,2);if(u(t)&&u(n))return f(t,n,r.epsilon)||n>t;if(t instanceof i)return u(n)?n=i.convert(n):(c(n)||null===n)&&(n=new i(n?1:0)),n instanceof i?t.lte(n):g(t.toNumber(),n);if(n instanceof i)return u(t)?t=i.convert(t):(c(t)||null===t)&&(t=new i(t?1:0)),t instanceof i?t.lte(n):g(t,n.toNumber());if(m(t)&&m(n)){if(!t.equalBase(n))throw new Error("Cannot compare units with different base");return t.value<=n.value;}if(h(t)||h(n))return s.deepMap2(t,n,g);if(l(t)||l(n))return n>=t;if(c(t)||null===t)return g(+t,n);if(c(n)||null===n)return g(t,+n);if(p(t)||p(n))throw new TypeError("No ordering relation is defined for complex numbers");throw new e.error.UnsupportedTypeError("smallerEq",e["typeof"](t),e["typeof"](n));},e.smallereq=function(){throw new Error("Function smallereq is renamed to smallerEq");};};},function(e,r,t){"use strict";e.exports=function(e,r){var n=t(160),i=e.type.BigNumber,o=t(6),a=t(10),s=t(13),u=n.number.isNumber,f=n.number.nearlyEqual,c=n["boolean"].isBoolean,l=n.string.isString,p=o.isComplex,m=a.isUnit,h=s.isCollection;e.unequal=function g(t,n){if(2!=arguments.length)throw new e.error.ArgumentsError("unequal",arguments.length,2);if(u(t)){if(u(n))return !f(t,n,r.epsilon);if(p(n))return !f(t,n.re,r.epsilon)||!f(n.im,0,r.epsilon);}if(p(t)){if(u(n))return !f(t.re,n,r.epsilon)||!f(t.im,0,r.epsilon);if(p(n))return !f(t.re,n.re,r.epsilon)||!f(t.im,n.im,r.epsilon);}if(t instanceof i)return u(n)?n=i.convert(n):c(n)&&(n=new i(n?1:0)),n instanceof i?!t.eq(n):g(t.toNumber(),n);if(n instanceof i)return u(t)?t=i.convert(t):c(t)&&(t=new i(t?1:0)),t instanceof i?!t.eq(n):g(t,n.toNumber());if(m(t)&&m(n)){if(!t.equalBase(n))throw new Error("Cannot compare units with different base");return t.value!=n.value;}if(h(t)||h(n))return s.deepMap2(t,n,g);if(l(t)||l(n))return t!=n;if(c(t))return g(+t,n);if(c(n))return g(t,+n);if(null===t)return null!==n;if(null===n)return null!==t;if(void 0===t)return void 0!==n;if(void 0===n)return void 0!==t;throw new e.error.UnsupportedTypeError("unequal",e["typeof"](t),e["typeof"](n));};};},function(e,r,t){"use strict";e.exports=function(e){function r(r,t){return e.smaller(r,t)?r:t;}function n(r){var t=void 0;if(i.deepForEach(r,function(r){(void 0===t||e.smaller(r,t))&&(t=r);}),void 0===t)throw new Error("Cannot calculate min of an empty array");return t;}var i=(t(9),t(13)),o=i.isCollection;e.min=function(e){if(0==arguments.length)throw new SyntaxError("Function min requires one or more parameters (0 provided)");if(o(e)){if(1==arguments.length)return n(e);if(2==arguments.length)return i.reduce(arguments[0],arguments[1],r);throw new SyntaxError("Wrong number of parameters");}return n(arguments);};};},function(e,r,t){"use strict";e.exports=function(e){function r(r,t){return e.larger(r,t)?r:t;}function n(r){var t=void 0;if(i.deepForEach(r,function(r){(void 0===t||e.larger(r,t))&&(t=r);}),void 0===t)throw new Error("Cannot calculate max of an empty array");return t;}var i=(t(9),t(13)),o=i.isCollection;e.max=function(e){if(0==arguments.length)throw new SyntaxError("Function max requires one or more parameters (0 provided)");if(o(e)){if(1==arguments.length)return n(e);if(2==arguments.length)return i.reduce(arguments[0],arguments[1],r);throw new SyntaxError("Wrong number of parameters");}return n(arguments);};};},function(e,r,t){"use strict";e.exports=function(e){function r(r,t){var n=i.reduce(r,t,e.add),o=s(r)?a(r):r.size();return e.divide(n,o[t]);}function n(r){var t=0,n=0;if(i.deepForEach(r,function(r){t=e.add(t,r),n++;}),0===n)throw new Error("Cannot calculate mean of an empty array");return e.divide(t,n);}var i=(t(9),t(13)),o=i.isCollection,a=t(153).size,s=Array.isArray;e.mean=function(e){if(0==arguments.length)throw new SyntaxError("Function mean requires one or more parameters (0 provided)");if(o(e)){if(1==arguments.length)return n(e);if(2==arguments.length)return r(arguments[0],arguments[1]);throw new SyntaxError("Wrong number of parameters");}return n(arguments);};};},function(e,r,t){"use strict";e.exports=function(e){function r(r){var t=u(r);t.sort(e.compare);var o=t.length;if(0==o)throw new Error("Cannot calculate median of an empty array");if(o%2==0){var s=t[o/2-1],f=t[o/2];if(!(a(s)||s instanceof i||s instanceof n))throw new e.error.UnsupportedTypeError("median",e["typeof"](s));if(!(a(f)||f instanceof i||f instanceof n))throw new e.error.UnsupportedTypeError("median",e["typeof"](f));return e.divide(e.add(s,f),2);}var c=t[(o-1)/2];if(!(a(c)||c instanceof i||c instanceof n))throw new e.error.UnsupportedTypeError("median",e["typeof"](c));return c;}var n=(t(9),t(10)),i=e.type.BigNumber,o=t(13),a=t(4).isNumber,s=o.isCollection,u=t(153).flatten;e.median=function(e){if(0==arguments.length)throw new SyntaxError("Function median requires one or more parameters (0 provided)");if(s(e)){if(1==arguments.length)return r(e.valueOf());throw 2==arguments.length?new Error("median(A, dim) is not yet supported"):new SyntaxError("Wrong number of parameters");}return r(Array.prototype.slice.call(arguments));};};},function(e,r,t){"use strict";e.exports=function(e){function r(r){var t=void 0;if(n.deepForEach(r,function(r){t=void 0===t?r:e.multiply(t,r);}),void 0===t)throw new Error("Cannot calculate prod of an empty array");return t;}var n=(t(9),t(13)),i=n.isCollection;e.prod=function(e){if(0==arguments.length)throw new SyntaxError("Function prod requires one or more parameters (0 provided)");if(i(e)){if(1==arguments.length)return r(e);throw 2==arguments.length?new Error("prod(A, dim) is not yet supported"):new SyntaxError("Wrong number of parameters");}return r(arguments);};};},function(e){"use strict";e.exports=function(e){e.std=function(){if(0==arguments.length)throw new SyntaxError("Function std requires one or more parameters (0 provided)");var r=e["var"].apply(null,arguments);return e.sqrt(r);};};},function(e,r,t){"use strict";e.exports=function(e){function r(r){var t=void 0;if(n.deepForEach(r,function(r){t=void 0===t?r:e.add(t,r);}),void 0===t)throw new Error("Cannot calculate sum of an empty array");return t;}var n=(t(9),t(13)),i=n.isCollection;e.sum=function(e){if(0==arguments.length)throw new SyntaxError("Function sum requires one or more parameters (0 provided)");if(i(e)){if(1==arguments.length)return r(e);throw 2==arguments.length?new Error("sum(A, dim) is not yet supported"):new SyntaxError("Wrong number of parameters");}return r(arguments);};};},function(e,r,t){"use strict";e.exports=function(e){function r(r,t){var o=0,a=0;if(i.deepForEach(r,function(r){o=e.add(o,r),a++;}),0===a)throw new Error("Cannot calculate var of an empty array");var s=e.divide(o,a);switch(o=0,i.deepForEach(r,function(r){var t=e.subtract(r,s);o=e.add(o,e.multiply(t,t));}),t){case "uncorrected":return e.divide(o,a);case "biased":return e.divide(o,a+1);case "unbiased":var u=o instanceof n?new n(0):0;return 1==a?u:e.divide(o,a-1);default:throw new Error('Unknown normalization "'+t+'". Choose "unbiased" (default), "uncorrected", or "biased".');}}var n=(t(9),e.type.BigNumber),i=t(13),o=i.isCollection,a=t(176).isString,s="unbiased";e["var"]=function(e,t){if(0==arguments.length)throw new SyntaxError("Function var requires one or more parameters (0 provided)");if(o(e)){if(1==arguments.length)return r(e,s);if(2==arguments.length){if(!a(t))throw new Error("String expected for parameter normalization");return r(e,t);}throw new SyntaxError("Wrong number of parameters");}return r(arguments,s);};};},function(e,r,t){"use strict";e.exports=function(e){var r=t(160),n=e.type.BigNumber,i=t(6),o=t(13),a=r.number.isNumber,s=r["boolean"].isBoolean,u=i.isComplex,f=o.isCollection;e.acos=function c(r){if(1!=arguments.length)throw new e.error.ArgumentsError("acos",arguments.length,1);if(a(r))return r>=-1&&1>=r?Math.acos(r):c(new i(r,0));if(u(r)){var t=new i(r.im*r.im-r.re*r.re+1,-2*r.re*r.im),l=e.sqrt(t),p=new i(l.re-r.im,l.im+r.re),m=e.log(p);return new i(1.5707963267948966-m.im,m.re);}if(f(r))return o.deepMap(r,c);if(s(r)||null===r)return Math.acos(r);if(r instanceof n)return c(r.toNumber());throw new e.error.UnsupportedTypeError("acos",e["typeof"](r));};};},function(e,r,t){"use strict";e.exports=function(e){var r=t(160),n=e.type.BigNumber,i=t(6),o=t(13),a=r.number.isNumber,s=r["boolean"].isBoolean,u=i.isComplex,f=o.isCollection;e.asin=function c(r){if(1!=arguments.length)throw new e.error.ArgumentsError("asin",arguments.length,1);if(a(r))return r>=-1&&1>=r?Math.asin(r):c(new i(r,0));if(u(r)){var t=r.re,l=r.im,p=new i(l*l-t*t+1,-2*t*l),m=e.sqrt(p),h=new i(m.re-l,m.im+t),g=e.log(h);return new i(g.im,-g.re);}if(f(r))return o.deepMap(r,c);if(s(r)||null===r)return Math.asin(r);if(r instanceof n)return c(r.toNumber());throw new e.error.UnsupportedTypeError("asin",e["typeof"](r));};};},function(e,r,t){"use strict";e.exports=function(e){var r=t(160),n=e.type.BigNumber,i=t(6),o=t(13),a=r.number.isNumber,s=r["boolean"].isBoolean,u=i.isComplex,f=o.isCollection;e.atan=function c(r){if(1!=arguments.length)throw new e.error.ArgumentsError("atan",arguments.length,1);if(a(r))return Math.atan(r);if(u(r)){var t=r.re,l=r.im,p=t*t+(1-l)*(1-l),m=new i((1-l*l-t*t)/p,-2*t/p),h=e.log(m);return new i(-.5*h.im,.5*h.re);}if(f(r))return o.deepMap(r,c);if(s(r)||null===r)return Math.atan(r);if(r instanceof n)return c(r.toNumber());throw new e.error.UnsupportedTypeError("atan",e["typeof"](r));};};},function(e,r,t){"use strict";e.exports=function(e){var r=t(160),n=e.type.BigNumber,i=t(6),o=t(13),a=r.number.isNumber,s=r["boolean"].isBoolean,u=(i.isComplex,o.isCollection);e.atan2=function f(r,t){if(2!=arguments.length)throw new e.error.ArgumentsError("atan2",arguments.length,2);if(a(r)&&a(t))return Math.atan2(r,t);if(u(r)||u(t))return o.deepMap2(r,t,f);if(s(r)||null===r)return f(+r,t);if(s(t)||null===t)return f(r,+t);if(r instanceof n)return f(r.toNumber(),t);if(t instanceof n)return f(r,t.toNumber());throw new e.error.UnsupportedTypeError("atan2",e["typeof"](r),e["typeof"](t));};};},function(e,r,t){"use strict";e.exports=function(e){var r=t(160),n=e.type.BigNumber,i=t(6),o=t(10),a=t(13),s=r.number.isNumber,u=r["boolean"].isBoolean,f=i.isComplex,c=o.isUnit,l=a.isCollection;e.cos=function p(r){if(1!=arguments.length)throw new e.error.ArgumentsError("cos",arguments.length,1);if(s(r))return Math.cos(r);if(f(r))return new i(Math.cos(r.re)*e.cosh(-r.im),Math.sin(r.re)*e.sinh(-r.im));if(c(r)){if(!r.hasBase(o.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cos is no angle");return Math.cos(r.value);}if(l(r))return a.deepMap(r,p);if(u(r)||null===r)return Math.cos(r);if(r instanceof n)return p(r.toNumber());throw new e.error.UnsupportedTypeError("cos",e["typeof"](r));};};},function(e,r,t){"use strict";e.exports=function(e){var r=t(160),n=e.type.BigNumber,i=t(6),o=t(10),a=t(13),s=r.number.isNumber,u=r["boolean"].isBoolean,f=i.isComplex,c=o.isUnit,l=a.isCollection;e.cosh=function p(r){if(1!=arguments.length)throw new e.error.ArgumentsError("cosh",arguments.length,1);if(s(r))return (Math.exp(r)+Math.exp(-r))/2;if(f(r)){var t=Math.exp(r.re),m=Math.exp(-r.re);return new i(Math.cos(r.im)*(t+m)/2,Math.sin(r.im)*(t-m)/2);}if(c(r)){if(!r.hasBase(o.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cosh is no angle");return p(r.value);}if(l(r))return a.deepMap(r,p);if(u(r)||null===r)return p(r?1:0);if(r instanceof n)return p(r.toNumber());throw new e.error.UnsupportedTypeError("cosh",e["typeof"](r));};};},function(e,r,t){"use strict";e.exports=function(e){var r=t(160),n=e.type.BigNumber,i=t(6),o=t(10),a=t(13),s=r.number.isNumber,u=r["boolean"].isBoolean,f=i.isComplex,c=o.isUnit,l=a.isCollection;e.cot=function p(r){if(1!=arguments.length)throw new e.error.ArgumentsError("cot",arguments.length,1);if(s(r))return 1/Math.tan(r);if(f(r)){var t=Math.exp(-4*r.im)-2*Math.exp(-2*r.im)*Math.cos(2*r.re)+1;return new i(2*Math.exp(-2*r.im)*Math.sin(2*r.re)/t,(Math.exp(-4*r.im)-1)/t);}if(c(r)){if(!r.hasBase(o.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cot is no angle");return 1/Math.tan(r.value);}if(l(r))return a.deepMap(r,p);if(u(r)||null===r)return p(+r);if(r instanceof n)return p(r.toNumber());throw new e.error.UnsupportedTypeError("cot",e["typeof"](r));};};},function(e,r,t){"use strict";e.exports=function(e){var r=t(160),n=e.type.BigNumber,i=t(6),o=t(10),a=t(13),s=r.number.isNumber,u=r["boolean"].isBoolean,f=i.isComplex,c=o.isUnit,l=a.isCollection;e.coth=function p(r){if(1!=arguments.length)throw new e.error.ArgumentsError("coth",arguments.length,1);if(s(r)){var t=Math.exp(2*r);return (t+1)/(t-1);}if(f(r)){var m=Math.exp(2*r.re),h=m*Math.cos(2*r.im),g=m*Math.sin(2*r.im),d=(h-1)*(h-1)+g*g;return new i(((h+1)*(h-1)+g*g)/d,-2*g/d);}if(c(r)){if(!r.hasBase(o.BASE_UNITS.ANGLE))throw new TypeError("Unit in function coth is no angle");return p(r.value);}if(l(r))return a.deepMap(r,p);if(u(r)||null===r)return p(r?1:0);if(r instanceof n)return p(r.toNumber());throw new e.error.UnsupportedTypeError("coth",e["typeof"](r));};};},function(e,r,t){"use strict";e.exports=function(e){var r=t(160),n=e.type.BigNumber,i=t(6),o=t(10),a=t(13),s=r.number.isNumber,u=r["boolean"].isBoolean,f=i.isComplex,c=o.isUnit,l=a.isCollection;e.csc=function p(r){if(1!=arguments.length)throw new e.error.ArgumentsError("csc",arguments.length,1);if(s(r))return 1/Math.sin(r);if(f(r)){var t=.25*(Math.exp(-2*r.im)+Math.exp(2*r.im))-.5*Math.cos(2*r.re);return new i(.5*Math.sin(r.re)*(Math.exp(-r.im)+Math.exp(r.im))/t,.5*Math.cos(r.re)*(Math.exp(-r.im)-Math.exp(r.im))/t);}if(c(r)){if(!r.hasBase(o.BASE_UNITS.ANGLE))throw new TypeError("Unit in function csc is no angle");return 1/Math.sin(r.value);}if(l(r))return a.deepMap(r,p);if(u(r)||null===r)return p(+r);if(r instanceof n)return p(r.toNumber());throw new e.error.UnsupportedTypeError("csc",e["typeof"](r));};};},function(e,r,t){"use strict";e.exports=function(e){var r=t(160),n=e.type.BigNumber,i=t(6),o=t(10),a=t(13),s=r.number,u=r.number.isNumber,f=r["boolean"].isBoolean,c=i.isComplex,l=o.isUnit,p=a.isCollection;e.csch=function m(r){if(1!=arguments.length)throw new e.error.ArgumentsError("csch",arguments.length,1);if(u(r))return 0==r?Number.NaN:Math.abs(2/(Math.exp(r)-Math.exp(-r)))*s.sign(r);if(c(r)){var t=Math.exp(r.re),h=Math.exp(-r.re),g=Math.cos(r.im)*(t-h),d=Math.sin(r.im)*(t+h),w=g*g+d*d;return new i(2*g/w,-2*d/w);}if(l(r)){if(!r.hasBase(o.BASE_UNITS.ANGLE))throw new TypeError("Unit in function csch is no angle");return m(r.value);}if(p(r))return a.deepMap(r,m);if(f(r)||null===r)return m(r?1:0);if(r instanceof n)return m(r.toNumber());throw new e.error.UnsupportedTypeError("csch",e["typeof"](r));};};},function(e,r,t){"use strict";e.exports=function(e){var r=t(160),n=e.type.BigNumber,i=t(6),o=t(10),a=t(13),s=r.number.isNumber,u=r["boolean"].isBoolean,f=i.isComplex,c=o.isUnit,l=a.isCollection;e.sec=function p(r){if(1!=arguments.length)throw new e.error.ArgumentsError("sec",arguments.length,1);if(s(r))return 1/Math.cos(r);if(f(r)){var t=.25*(Math.exp(-2*r.im)+Math.exp(2*r.im))+.5*Math.cos(2*r.re);return new i(.5*Math.cos(r.re)*(Math.exp(-r.im)+Math.exp(r.im))/t,.5*Math.sin(r.re)*(Math.exp(r.im)-Math.exp(-r.im))/t);}if(c(r)){if(!r.hasBase(o.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sec is no angle");return 1/Math.cos(r.value);}if(l(r))return a.deepMap(r,p);if(u(r)||null===r)return p(+r);if(r instanceof n)return p(r.toNumber());throw new e.error.UnsupportedTypeError("sec",e["typeof"](r));};};},function(e,r,t){"use strict";e.exports=function(e){var r=t(160),n=e.type.BigNumber,i=t(6),o=t(10),a=t(13),s=r.number.isNumber,u=r["boolean"].isBoolean,f=i.isComplex,c=o.isUnit,l=a.isCollection;e.sech=function p(r){if(1!=arguments.length)throw new e.error.ArgumentsError("sech",arguments.length,1);if(s(r))return 2/(Math.exp(r)+Math.exp(-r));if(f(r)){var t=Math.exp(r.re),m=Math.exp(-r.re),h=Math.cos(r.im)*(t+m),g=Math.sin(r.im)*(t-m),d=h*h+g*g;return new i(2*h/d,-2*g/d);}if(c(r)){if(!r.hasBase(o.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sech is no angle");return p(r.value);}if(l(r))return a.deepMap(r,p);if(u(r)||null===r)return p(r?1:0);if(r instanceof n)return p(r.toNumber());throw new e.error.UnsupportedTypeError("sech",e["typeof"](r));};};},function(e,r,t){"use strict";e.exports=function(e){var r=t(160),n=e.type.BigNumber,i=t(6),o=t(10),a=t(13),s=r.number.isNumber,u=r["boolean"].isBoolean,f=i.isComplex,c=o.isUnit,l=a.isCollection;e.sin=function p(r){if(1!=arguments.length)throw new e.error.ArgumentsError("sin",arguments.length,1);if(s(r))return Math.sin(r);if(f(r))return new i(Math.sin(r.re)*e.cosh(-r.im),Math.cos(r.re)*e.sinh(r.im));if(c(r)){if(!r.hasBase(o.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sin is no angle");return Math.sin(r.value);}if(l(r))return a.deepMap(r,p);if(u(r)||null===r)return Math.sin(r);if(r instanceof n)return p(r.toNumber());throw new e.error.UnsupportedTypeError("sin",e["typeof"](r));};};},function(e,r,t){"use strict";e.exports=function(e){var r=t(160),n=e.type.BigNumber,i=t(6),o=t(10),a=t(13),s=r.number.isNumber,u=r["boolean"].isBoolean,f=i.isComplex,c=o.isUnit,l=a.isCollection;e.sinh=function p(r){if(1!=arguments.length)throw new e.error.ArgumentsError("sinh",arguments.length,1);if(s(r))return Math.abs(r)<1?r+r*r*r/6+r*r*r*r*r/120:(Math.exp(r)-Math.exp(-r))/2;if(f(r)){var t=Math.cos(r.im),m=Math.sin(r.im),h=Math.exp(r.re),g=Math.exp(-r.re);return new i(t*(h-g)/2,m*(h+g)/2);}if(c(r)){if(!r.hasBase(o.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sinh is no angle");return p(r.value);}if(l(r))return a.deepMap(r,p);if(u(r)||null===r)return p(r?1:0);if(r instanceof n)return p(r.toNumber());throw new e.error.UnsupportedTypeError("sinh",e["typeof"](r));};};},function(e,r,t){"use strict";e.exports=function(e){var r=t(160),n=e.type.BigNumber,i=t(6),o=t(10),a=t(13),s=r.number.isNumber,u=r["boolean"].isBoolean,f=i.isComplex,c=o.isUnit,l=a.isCollection;e.tan=function p(r){if(1!=arguments.length)throw new e.error.ArgumentsError("tan",arguments.length,1);if(s(r))return Math.tan(r);if(f(r)){var t=Math.exp(-4*r.im)+2*Math.exp(-2*r.im)*Math.cos(2*r.re)+1;return new i(2*Math.exp(-2*r.im)*Math.sin(2*r.re)/t,(1-Math.exp(-4*r.im))/t);}if(c(r)){if(!r.hasBase(o.BASE_UNITS.ANGLE))throw new TypeError("Unit in function tan is no angle");return Math.tan(r.value);}if(l(r))return a.deepMap(r,p);if(u(r)||null===r)return Math.tan(r);if(r instanceof n)return p(r.toNumber());throw new e.error.UnsupportedTypeError("tan",e["typeof"](r));};};},function(e,r,t){"use strict";e.exports=function(e){var r=t(160),n=e.type.BigNumber,i=t(6),o=t(10),a=t(13),s=r.number.isNumber,u=r["boolean"].isBoolean,f=i.isComplex,c=o.isUnit,l=a.isCollection;e.tanh=function p(r){if(1!=arguments.length)throw new e.error.ArgumentsError("tanh",arguments.length,1);if(s(r)){var t=Math.exp(2*r);return (t-1)/(t+1);}if(f(r)){var m=Math.exp(2*r.re),h=m*Math.cos(2*r.im),g=m*Math.sin(2*r.im),d=(h+1)*(h+1)+g*g;return new i(((h-1)*(h+1)+g*g)/d,2*g/d);}if(c(r)){if(!r.hasBase(o.BASE_UNITS.ANGLE))throw new TypeError("Unit in function tanh is no angle");return p(r.value);}if(l(r))return a.deepMap(r,p);if(u(r)||null===r)return p(r?1:0);if(r instanceof n)return p(r.toNumber());throw new e.error.UnsupportedTypeError("tanh",e["typeof"](r));};};},function(e,r,t){"use strict";e.exports=function(e){var r=t(160),n=t(10),i=t(13),o=r.string.isString,a=n.isUnit,s=i.isCollection;e.to=function u(r,t){if(2!=arguments.length)throw new e.error.ArgumentsError("to",arguments.length,2);if(a(r)&&(a(t)||o(t)))return r.to(t);if(s(r)||s(t))return i.deepMap2(r,t,u);throw new e.error.UnsupportedTypeError("to",e["typeof"](r),e["typeof"](t));};};},function(e,r,t){"use strict";e.exports=function(e){var r=t(160),n=r.object;e.clone=function(r){if(1!=arguments.length)throw new e.error.ArgumentsError("clone",arguments.length,1);return n.clone(r);};};},function(e,r,t){"use strict";e.exports=function(e){function r(e,r){if("function"==typeof r)return e.filter(function(e){return r(e);});if(r instanceof RegExp)return e.filter(function(e){return r.test(e);});throw new TypeError("Function or RegExp expected");}var n=t(9);e.filter=function(t,i){if(2!==arguments.length)throw new e.error.ArgumentsError("filter",arguments.length,2);if(t instanceof n){var o=t.size();if(o.length>1)throw new Error("Only one dimensional matrices supported");return new n(r(t.toArray(),i));}if(Array.isArray(t))return r(t,i);throw new e.error.UnsupportedTypeError("filter",e["typeof"](t),e["typeof"](compare));};};},function(e,r,t){"use strict";e.exports=function(e){var r=t(160),n=r.string;e.format=function(r,t){var i=arguments.length;if(1!==i&&2!==i)throw new e.error.ArgumentsError("format",i,1,2);return n.format(r,t);};};},function(e,r,t){"use strict";e.exports=function(e){function r(r,t,n){(n.override||void 0===e[r])&&(e[r]=n.wrap&&"function"==typeof t?function(){for(var r=[],n=0,i=arguments.length;i>n;n++){var o=arguments[n];r[n]=o&&o.valueOf();}return t.apply(e,r);}:t,e.chaining.Chain.createProxy(r,t));}function n(e){return "function"==typeof e||s(e)||u(e)||f(e)||c(e);}var i=t(160),o=t(6),a=t(10),s=i.number.isNumber,u=i.string.isString,f=o.isComplex,c=a.isUnit;e["import"]=function l(i,o){var a=arguments.length;if(1!=a&&2!=a)throw new e.error.ArgumentsError("import",a,1,2);var s,f={override:o&&o.override||!1,wrap:o&&o.wrap||!1};if(u(i)){var c=t(195)(i);l(c,o);}else{if("object"!=typeof i)throw new TypeError("Object or module name expected");for(s in i)if(i.hasOwnProperty(s)){var p=i[s];n(p)?r(s,p,f):l(p,o);}}};};},function(e,r,t){"use strict";e.exports=function(e){function r(e,r){var t=function(n,i){return Array.isArray(n)?n.map(function(e,r){return t(e,i.concat(r));}):r(n,i,e);};return t(e,[]);}var n=t(9);e.map=function(t,i){if(2!=arguments.length)throw new e.error.ArgumentsError("map",arguments.length,2);if(Array.isArray(t))return r(t,i);if(t instanceof n)return t.map(i);throw new e.error.UnsupportedTypeError("map",e["typeof"](t));};};},function(e,r,t){"use strict";e.exports=function(e){var r=t(160),n=r.string.isString;e.print=function(r,t,i){var o=arguments.length;if(2!=o&&3!=o)throw new e.error.ArgumentsError("print",o,2,3);if(!n(r))throw new TypeError("String expected as first parameter in function format");if(!(t instanceof Object))throw new TypeError("Object expected as second parameter in function format");return r.replace(/\$([\w\.]+)/g,function(r,o){for(var a=o.split("."),s=t[a.shift()];a.length&&void 0!==s;){var u=a.shift();s=u?s[u]:s+".";}return void 0!==s?n(s)?s:e.format(s,i):r;});};};},function(e,r,t){"use strict";e.exports=function(e){var r=t(9);e.sort=function(t,n){var i=null;if(1===arguments.length)i=e.compare;else{if(2!==arguments.length)throw new e.error.ArgumentsError("sort",arguments.length,1,2);if("function"==typeof n)i=n;else if("asc"===n)i=e.compare;else{if("desc"!==n)throw new e.error.UnsupportedTypeError("sort",e["typeof"](t),e["typeof"](n));i=function(r,t){return -e.compare(r,t);};}}if(t instanceof r){var o=t.size();if(o.length>1)throw new Error("Only one dimensional matrices supported");return new r(t.toArray().sort(i));}if(Array.isArray(t))return t.sort(i);throw new e.error.UnsupportedTypeError("sort",e["typeof"](t),e["typeof"](n));};};},function(e,r,t){"use strict";e.exports=function(e){var r=t(196),n=t(6),i=t(9),o=t(10),a=t(8),s=t(7),u=t(11);e["typeof"]=function(t){if(1!=arguments.length)throw new e.error.ArgumentsError("typeof",arguments.length,1);var f=r.type(t);if("object"===f){if(t instanceof n)return "complex";if(t instanceof i)return "matrix";if(t instanceof o)return "unit";if(t instanceof a)return "index";if(t instanceof s)return "range";if(t instanceof u)return "help";if(t instanceof e.type.BigNumber)return "bignumber";if(t instanceof e.chaining.Chain)return "chain";}return f;};};},function(e,r,t){"use strict";e.exports=function(e){function r(e,r){var t=function(n,i){Array.isArray(n)?n.forEach(function(e,r){t(e,i.concat(r));}):r(n,i,e);};t(e,[]);}var n=t(9);e.forEach=function(t,i){if(2!=arguments.length)throw new e.error.ArgumentsError("forEach",arguments.length,2);if(Array.isArray(t))return r(t,i);if(t instanceof n)return t.forEach(i);throw new e.error.UnsupportedTypeError("forEach",e["typeof"](t));};};},function(e,r,t){"use strict";function n(e,t,n){var a,s,u=e.constructor,f=+(e.s<0),c=+(t.s<0);if(f){a=o(i(r.not(e)));for(var l=0;l<a.length;++l)a[l]^=1;}else a=o(i(e));if(c){s=o(i(r.not(t)));for(var l=0;l<s.length;++l)s[l]^=1;}else s=o(i(t));var p,m,h;a.length<=s.length?(p=a,m=s,h=f):(p=s,m=a,h=c);var g=p.length,d=m.length,w=1^n(f,c),x=new u(1^w),y=u.ONE,v=new u(2),b=u.precision;for(u.precision=1e9;g>0;)n(p[--g],m[--d])==w&&(x=x.plus(y)),y=y.times(v);for(;d>0;)n(h,m[--d])==w&&(x=x.plus(y)),y=y.times(v);return u.precision=b,0==w&&(x.s=-x.s),x;}function i(e){for(var r=e.c,t=r[0]+"",n=1;n<r.length;++n){for(var i=r[n]+"",o=7-i.length;o--;)i="0"+i;t+=i;}var a;for(a=t.length-1;"0"==t.charAt(a);--a);var s=e.e,u=t.slice(0,a+1||1),f=u.length;if(s>0)if(++s>f)for(s-=f;s--;u+="0");else f>s&&(u=u.slice(0,s)+"."+u.slice(s));return u;}function o(e){for(var r=[0],t=0;t<e.length;){for(var n=r.length;n--;r[n]*=10);r[0]+=e.charAt(t++)<<0;for(var i=0;i<r.length;++i)r[i]>1&&(null==r[i+1]&&(r[i+1]=0),r[i+1]+=r[i]>>1,r[i]&=1);}return r.reverse();}var a=t(159),s=t(4).isNumber;t(4).digits;;r.isBigNumber=function(e){return e instanceof a;},r.e=function(e){var r=a.constructor({precision:e});return new r(1).exp();},r.phi=function(e){var r=a.constructor({precision:e});return new r(1).plus(new r(5).sqrt()).div(2);},r.arctan=function(e){for(var r=e,t=0/0,n=e.times(e),i=e,o=-1,a=3;!r.equals(t);a+=2)i=i.times(n),t=r,r=o>0?r.plus(i.div(a)):r.minus(i.div(a)),o=-o;return r;},r.pi=function(e){var t=a.constructor({precision:e+4}),n=new t(4).times(r.arctan(new t(1).div(5))).minus(r.arctan(new t(1).div(239)));return t.config({precision:e}),new t(4).times(n);},r.tau=function(e){var t=r.pi(e+2),n=a.constructor({precision:e});return new n(2).times(t);},r.and=function(e,r){if(e.isFinite()&&!e.isInteger()||r.isFinite()&&!r.isInteger())throw new Error("Parameters in function bitAnd must be integer numbers");var t=e.constructor;if(e.isNaN()||r.isNaN())return new t(0/0);if(e.isZero()||r.eq(-1)||e.eq(r))return e;if(r.isZero()||e.eq(-1))return r;if(!e.isFinite()||!r.isFinite()){if(!e.isFinite()&&!r.isFinite())return e.isNegative()==r.isNegtive()?e:new t(0);if(!e.isFinite())return r.isNegative()?e:e.isNegative()?new t(0):r;if(!r.isFinite())return e.isNegative()?r:r.isNegative()?new t(0):e;}return n(e,r,function(e,r){return e&r;});},r.leftShift=function(e,r){if(e.isFinite()&&!e.isInteger()||r.isFinite()&&!r.isInteger())throw new Error("Parameters in function leftShift must be integer numbers");var t=e.constructor;return e.isNaN()||r.isNaN()||r.isNegative()&&!r.isZero()?new t(0/0):e.isZero()||r.isZero()?e:e.isFinite()||r.isFinite()?e.times(r.lt(55)?Math.pow(2,r.toNumber())+"":new t(2).pow(r)):new t(0/0);},r.not=function(e){if(e.isFinite()&&!e.isInteger())throw new Error("Parameter in function bitNot must be integer numbers");var r=e.constructor,t=r.precision;r.precision=1e9;var e=e.plus(r.ONE);return e.s=-e.s||null,r.precision=t,e;},r.or=function(e,r){if(e.isFinite()&&!e.isInteger()||r.isFinite()&&!r.isInteger())throw new Error("Parameters in function bitOr must be integer numbers");var t=e.constructor;if(e.isNaN()||r.isNaN())return new t(0/0);var i=new t(-1);return e.isZero()||r.eq(i)||e.eq(r)?r:r.isZero()||e.eq(i)?e:e.isFinite()&&r.isFinite()?n(e,r,function(e,r){return e|r;}):!e.isFinite()&&!e.isNegative()&&r.isNegative()||e.isNegative()&&!r.isNegative()&&!r.isFinite()?i:e.isNegative()&&r.isNegative()?e.isFinite()?e:r:e.isFinite()?r:e;},r.rightShift=function(e,r){if(e.isFinite()&&!e.isInteger()||r.isFinite()&&!r.isInteger())throw new Error("Parameters in function rightArithShift must be integer numbers");var t=e.constructor;return e.isNaN()||r.isNaN()||r.isNegative()&&!r.isZero()?new t(0/0):e.isZero()||r.isZero()?e:r.isFinite()?r.lt(55)?e.div(Math.pow(2,r.toNumber())+"").floor():e.div(new t(2).pow(r)).floor():new t(e.isNegative()?-1:e.isFinite()?0:0/0);},r.xor=function(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Parameters in function bitXor must be integer numbers");var i=e.constructor;if(e.isNaN()||t.isNaN())return new i(0/0);if(e.isZero())return t;if(t.isZero())return e;if(e.eq(t))return new i(0);var o=new i(-1);return e.eq(o)?r.not(t):t.eq(o)?r.not(e):e.isFinite()&&t.isFinite()?n(e,t,function(e,r){return e^r;}):e.isFinite()||t.isFinite()?new i(e.isNegative()==t.isNegative()?1/0:-1/0):o;},r.format=function(e,t){if("function"==typeof t)return t(e);if(!e.isFinite())return e.isNaN()?"NaN":e.gt(0)?"Infinity":"-Infinity";var n="auto",i=void 0;switch(void 0!==t&&(t.notation&&(n=t.notation),s(t)?i=t:t.precision&&(i=t.precision)),n){case "fixed":return r.toFixed(e,i);case "exponential":return r.toExponential(e,i);case "auto":var o=.001,a=1e5;t&&t.exponential&&(void 0!==t.exponential.lower&&(o=t.exponential.lower),void 0!==t.exponential.upper&&(a=t.exponential.upper));({toExpNeg:e.constructor.toExpNeg,toExpPos:e.constructor.toExpPos});;if(e.constructor.config({toExpNeg:Math.round(Math.log(o)/Math.LN10),toExpPos:Math.round(Math.log(a)/Math.LN10)}),e.isZero())return "0";var u,f=e.abs();return u=f.gte(o)&&f.lt(a)?e.toSignificantDigits(i).toFixed():r.toExponential(e,i),u.replace(/((\.\d*?)(0+))($|e)/,function(){var e=arguments[2],r=arguments[4];return "."!==e?e+r:r;});default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", or "fixed".');}},r.toExponential=function(e,r){return void 0!==r?e.toExponential(r-1):e.toExponential();},r.toFixed=function(e,r){return e.toFixed(r||0);};},function(e,r,t){"use strict";function n(e){for(var r=[];m(e);)r.push(e.length),e=e[0];return r;}function i(e,r,t){var n,o=e.length;if(o!=r[t])throw new l(o,r[t]);if(t<r.length-1){var a=t+1;for(n=0;o>n;n++){var s=e[n];if(!m(s))throw new l(r.length-1,r.length,"<");i(e[n],r,a);}}else{for(n=0;o>n;n++)if(m(e[n]))throw new l(r.length+1,r.length,">");}}function o(e,t,n,i){var a,s,u=e.length,f=t[n],l=Math.min(u,f);if(e.length=f,n<t.length-1){var p=n+1;for(a=0;l>a;a++)s=e[a],m(s)||(s=[s],e[a]=s),o(s,t,p,i);for(a=l;f>a;a++)s=[],e[a]=s,o(s,t,p,i);}else{for(a=0;l>a;a++)for(;m(e[a]);)e[a]=e[a][0];if(i!==r.UNINITIALIZED)for(a=l;f>a;a++)e[a]=c.clone(i);}}function a(e,r,t){var n,i;if(r>t){var o=t+1;for(n=0,i=e.length;i>n;n++)e[n]=a(e[n],r,o);}else for(;m(e);)e=e[0];return e;}function s(e,r,t){var n,i;if(m(e)){var o=t+1;for(n=0,i=e.length;i>n;n++)e[n]=s(e[n],r,o);}else for(var a=t;r>a;a++)e=[e];return e;}var u=t(4),f=t(176),c=t(3),l=(t(196),t(156)),p=t(157),m=Array.isArray;r.size=function(e){var t=n(e);return r.validate(e,t),t;},r.validate=function(e,r){var t=0==r.length;if(t){if(m(e))throw new l(e.length,0);}else i(e,r,0);},r.validateIndex=function(e,r){if(!u.isNumber(e)||!u.isInteger(e))throw new TypeError("Index must be an integer (value: "+e+")");if(0>e)throw new p(e);if(void 0!==r&&e>=r)throw new p(e,r);},r.UNINITIALIZED={},r.resize=function(e,r,t){if(!m(e)||!m(r))throw new TypeError("Array expected");if(0===r.length)throw new Error("Resizing to scalar is not supported");r.forEach(function(e){if(!u.isNumber(e)||!u.isInteger(e)||0>e)throw new TypeError("Invalid size, must contain positive integers (size: "+f.format(r)+")");});var n=void 0!==t?t:0;return o(e,r,0,n),e;},r.squeeze=function(e,t){for(var n=t||r.size(e);m(e)&&1===e.length;)e=e[0],n.shift();for(var i=n.length;1===n[i-1];)i--;return i<n.length&&(e=a(e,i,0),n.length=i),e;},r.unsqueeze=function(e,t,n,i){var o=i||r.size(e);if(n)for(var a=0;n>a;a++)e=[e],o.unshift(1);for(e=s(e,t,0);o.length<t;)o.push(1);return e;},r.flatten=function(e){for(var r=e,t=Array.isArray;t(r[0]);){for(var n=[],i=0,o=r.length;o>i;i++)n=n.concat.apply(n,r[i]);r=n;}return r;},r.argsToArray=function(e){for(var r=[],t=0,n=e.length;n>t;t++)r[t]=e[t];return r;},r.isArray=m;},function(e){e.exports="1.2.0";},function(e){"use strict";function r(e,t,n,i){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this.fn=e,this.count=t,this.min=n,this.max=i,this.message="Wrong number of arguments in function "+e+" ("+t+" provided, "+n+(void 0!=i?"-"+i:"")+" expected)",this.stack=(new Error()).stack;}r.prototype=new Error(),r.prototype.constructor=Error,r.prototype.name="ArgumentsError",e.exports=r;},function(e){"use strict";function r(e,t,n){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this.actual=e,this.expected=t,this.relation=n,this.message="Dimension mismatch ("+(Array.isArray(e)?"["+e.join(", ")+"]":e)+" "+(this.relation||"!=")+" "+(Array.isArray(t)?"["+t.join(", ")+"]":t)+")",this.stack=(new Error()).stack;}r.prototype=new RangeError(),r.prototype.constructor=RangeError,r.prototype.name="DimensionError",e.exports=r;},function(e){"use strict";function r(e,t,n){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this.index=e,arguments.length<3?(this.min=0,this.max=t):(this.min=t,this.max=n),this.message=void 0!==this.min&&this.index<this.min?"Index out of range ("+this.index+" < "+this.min+")":void 0!==this.max&&this.index>=this.max?"Index out of range ("+this.index+" > "+(this.max-1)+")":"Index out of range ("+this.index+")",this.stack=(new Error()).stack;}r.prototype=new RangeError(),r.prototype.constructor=RangeError,r.prototype.name="IndexError",e.exports=r;},function(e){"use strict";function r(e){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this.fn=e,this.types=Array.prototype.splice.call(arguments,1),this.message=e?0==this.types.length?"Unsupported type of argument in function "+e:"Function "+e+"("+this.types.join(", ")+") not supported":"Unsupported type of argument",this.stack=(new Error()).stack;}r.prototype=new TypeError(),r.prototype.constructor=TypeError,r.prototype.name="UnsupportedTypeError",e.exports=r;},function(e,r,t){var n;!function(i){"use strict";function o(e){for(var r,t,n=1,i=e.length,o=e[0]+"";i>n;n++){for(r=e[n]+"",t=T-r.length;t--;)r="0"+r;o+=r;}for(i=o.length;48===o.charCodeAt(--i););return o.slice(0,i+1||1);}function a(e,r,t,n){var i,o,a,s,u;for(o=1,a=e[0];a>=10;a/=10,o++);return a=r-o,0>a?(a+=T,i=0):(i=Math.ceil((a+1)/T),a%=T),o=N(10,T-a),u=e[i]%o|0,null==n?3>a?(0==a?u=u/100|0:1==a&&(u=u/10|0),s=4>t&&99999==u||t>3&&49999==u||5e4==u||0==u):s=(4>t&&u+1==o||t>3&&u+1==o/2)&&(e[i+1]/o/100|0)==N(10,a-2)-1||(u==o/2||0==u)&&0==(e[i+1]/o/100|0):4>a?(0==a?u=u/1e3|0:1==a?u=u/100|0:2==a&&(u=u/10|0),s=(n||4>t)&&9999==u||!n&&t>3&&4999==u):s=((n||4>t)&&u+1==o||!n&&t>3&&u+1==o/2)&&(e[i+1]/o/1e3|0)==N(10,a-3)-1,s;}function s(e,r,t){var n=e.constructor;return null==r||((x=0>r||r>8)||0!==r&&(n.errors?parseInt:parseFloat)(r)!=r)&&!p(n,"rounding mode",r,t,0)?n.rounding:0|r;}function u(e,r,t,n){var i=e.constructor;return !(x=(n||0)>r||r>=U+1)&&(0===r||(i.errors?parseInt:parseFloat)(r)==r)||p(i,"argument",r,t,0);}function f(e,r){var t,n,i,s,u,f,c,l=0,p=0,m=0,h=e.constructor,d=h.ONE,w=h.rounding,x=h.precision;if(!e.c||!e.c[0]||e.e>17)return new h(e.c?e.c[0]?e.s<0?0:1/0:d:e.s?e.s<0?0:e:0/0);for(null==r?(v=!1,u=x):u=r,c=new h(.03125);e.e>-2;)e=e.times(c),m+=5;for(n=Math.log(N(2,m))/Math.LN10*2+5|0,u+=n,t=s=f=new h(d),h.precision=u;;){if(s=g(s.times(e),u,1),t=t.times(++p),c=f.plus(I(s,t,u,1)),o(c.c).slice(0,u)===o(f.c).slice(0,u)){for(i=m;i--;)f=g(f.times(f),u,1);if(null!=r)return h.precision=x,f;if(!(3>l&&a(f.c,u-n,w,l)))return g(f,h.precision=x,w,v=!0);h.precision=u+=10,t=s=c=new h(d),p=0,l++;}f=c;}}function c(e,r,t,n){var i,a,s=e.constructor,u=(e=new s(e)).e;if(null==r?t=0:(g(e,++r,t),t=n?r:r+e.e-u),u=e.e,i=o(e.c),1==n||2==n&&(u>=r||u<=s.toExpNeg)){for(;i.length<t;i+="0");i.length>1&&(i=i.charAt(0)+"."+i.slice(1)),i+=(0>u?"e":"e+")+u;}else{if(n=i.length,0>u){for(a=t-n;++u;i="0"+i);i="0."+i;}else if(++u>n){for(a=t-u,u-=n;u--;i+="0");a>0&&(i+=".");}else a=t-n,n>u?i=i.slice(0,u)+"."+i.slice(u):a>0&&(i+=".");if(a>0)for(;a--;i+="0");}return e.s<0&&e.c[0]?"-"+i:i;}function l(e){var r=e.length-1,t=r*T+1;if(r=e[r]){for(;r%10==0;r/=10,t--);for(r=e[0];r>=10;r/=10,t++);}return t;}function p(e,r,t,n,i){if(e.errors){var o=new Error((n||["new Decimal","cmp","div","eq","gt","gte","lt","lte","minus","mod","plus","times","toFraction","pow","random","log","sqrt","toNearest","divToInt"][b?0>b?-b:b:0>1/b?1:0])+"() "+(["number type has more than 15 significant digits","LN10 out of digits"][r]||r+([x?" out of range":" not an integer"," not a boolean or binary digit"][i]||""))+": "+t);throw o.name="Decimal Error",x=b=0,o;}}function m(e,r,t){var n=new e(e.ONE);for(v=!1;1&t&&(n=n.times(r)),t>>=1,t;)r=r.times(r);return v=!0,n;}function h(e,r){var t,n,i,s,u,f,c,l,m,d,w,x=1,y=10,b=e,E=b.c,N=b.constructor,A=N.ONE,M=N.rounding,T=N.precision;if(b.s<0||!E||!E[0]||!b.e&&1==E[0]&&1==E.length)return new N(E&&!E[0]?-1/0:1!=b.s?0/0:E?0:b);if(null==r?(v=!1,c=T):c=r,N.precision=c+=y,t=o(E),n=t.charAt(0),!(Math.abs(s=b.e)<15e14))return b=new N(n+"."+t.slice(1)),c+2>q.length&&p(N,1,c+2,"ln"),b=h(b,c-y).plus(new N(q.slice(0,c+2)).times(s+"")),N.precision=T,null==r?g(b,T,M,v=!0):b;for(;7>n&&1!=n||1==n&&t.charAt(1)>3;)b=b.times(e),t=o(b.c),n=t.charAt(0),x++;for(s=b.e,n>1?(b=new N("0."+t),s++):b=new N(n+"."+t.slice(1)),d=b,l=u=b=I(b.minus(A),b.plus(A),c,1),w=g(b.times(b),c,1),i=3;;){if(u=g(u.times(w),c,1),m=l.plus(I(u,new N(i),c,1)),o(m.c).slice(0,c)===o(l.c).slice(0,c)){if(l=l.times(2),0!==s&&(c+2>q.length&&p(N,1,c+2,"ln"),l=l.plus(new N(q.slice(0,c+2)).times(s+""))),l=I(l,new N(x),c,1),null!=r)return N.precision=T,l;if(!a(l.c,c-y,M,f))return g(l,N.precision=T,M,v=!0);N.precision=c+=y,m=u=b=I(d.minus(A),d.plus(A),c,1),w=g(b.times(b),c,1),i=f=1;}l=m,i+=2;}}function g(e,r,t,n){var i,o,a,s,u,f,c,l,p=e.constructor;e:if(null!=r){if(!(c=e.c))return e;for(i=1,s=c[0];s>=10;s/=10,i++);if(o=r-i,0>o)o+=T,a=r,u=c[l=0],f=u/N(10,i-a-1)%10|0;else if(l=Math.ceil((o+1)/T),l>=c.length){if(!n)break e;for(;c.length<=l;c.push(0));u=f=0,i=1,o%=T,a=o-T+1;}else{for(u=s=c[l],i=1;s>=10;s/=10,i++);o%=T,a=o-T+i,f=0>a?0:E(u/N(10,i-a-1)%10);}if(n=n||0>r||null!=c[l+1]||(0>a?u:u%N(10,i-a-1)),n=4>t?(f||n)&&(0==t||t==(e.s<0?3:2)):f>5||5==f&&(4==t||n||6==t&&(o>0?a>0?u/N(10,i-a):0:c[l-1])%10&1||t==(e.s<0?8:7)),1>r||!c[0])return c.length=0,n?(r-=e.e+1,c[0]=N(10,r%T),e.e=-r||0):c[0]=e.e=0,e;if(0==o?(c.length=l,s=1,l--):(c.length=l+1,s=N(10,T-o),c[l]=a>0?(u/N(10,i-a)%N(10,a)|0)*s:0),n)for(;;){if(0==l){for(o=1,a=c[0];a>=10;a/=10,o++);for(a=c[0]+=s,s=1;a>=10;a/=10,s++);o!=s&&(e.e++,c[0]==M&&(c[0]=1));break;}if(c[l]+=s,c[l]!=M)break;c[l--]=0,s=1;}for(o=c.length;0===c[--o];c.pop());}return v&&(e.e>p.maxE?e.c=e.e=null:e.e<p.minE&&(e.c=[e.e=0])),e;}var d,w,x,y=i.crypto,v=!0,b=0,E=Math.floor,N=Math.pow,A=Object.prototype.toString,M=1e7,T=7,S="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_",O={},C=9e15,U=1e9,B=3e3,q="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058";O.absoluteValue=O.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),g(e);},O.ceil=function(){return g(new this.constructor(this),this.e+1,2);},O.comparedTo=O.cmp=function(e,r){var t,n=this,i=n.c,o=(b=-b,e=new n.constructor(e,r),e.c),a=n.s,s=e.s,u=n.e,f=e.e;if(!a||!s)return null;if(t=i&&!i[0],r=o&&!o[0],t||r)return t?r?0:-s:a;if(a!=s)return a;if(t=0>a,!i||!o)return u==f?0:!i^t?1:-1;if(u!=f)return u>f^t?1:-1;for(a=-1,s=(u=i.length)<(f=o.length)?u:f;++a<s;)if(i[a]!=o[a])return i[a]>o[a]^t?1:-1;return u==f?0:u>f^t?1:-1;},O.decimalPlaces=O.dp=function(){var e,r,t=null;if(e=this.c){if(t=((r=e.length-1)-E(this.e/T))*T,r=e[r])for(;r%10==0;r/=10,t--);0>t&&(t=0);}return t;},O.dividedBy=O.div=function(e,r){return b=2,I(this,new this.constructor(e,r));},O.dividedToIntegerBy=O.divToInt=function(e,r){var t=this,n=t.constructor;return b=18,g(I(t,new n(e,r),0,1,1),n.precision,n.rounding);},O.equals=O.eq=function(e,r){return b=3,0===this.cmp(e,r);},O.exponential=O.exp=function(){return f(this);},O.floor=function(){return g(new this.constructor(this),this.e+1,3);},O.greaterThan=O.gt=function(e,r){return b=4,this.cmp(e,r)>0;},O.greaterThanOrEqualTo=O.gte=function(e,r){return b=5,r=this.cmp(e,r),1==r||0===r;},O.isFinite=function(){return !!this.c;},O.isInteger=O.isInt=function(){return !!this.c&&E(this.e/T)>this.c.length-2;},O.isNaN=function(){return !this.s;},O.isNegative=O.isNeg=function(){return this.s<0;},O.isZero=function(){return !!this.c&&0==this.c[0];},O.lessThan=O.lt=function(e,r){return b=6,this.cmp(e,r)<0;},O.lessThanOrEqualTo=O.lte=function(e,r){return b=7,r=this.cmp(e,r),-1==r||0===r;},O.logarithm=O.log=function(e,r){var t,n,i,s,u,f,c,l,m,d=this,w=d.constructor,x=w.precision,y=w.rounding,E=5;if(null==e)e=new w(10),t=!0;else{if(b=15,e=new w(e,r),n=e.c,e.s<0||!n||!n[0]||!e.e&&1==n[0]&&1==n.length)return new w(0/0);t=e.eq(10);}if(n=d.c,d.s<0||!n||!n[0]||!d.e&&1==n[0]&&1==n.length)return new w(n&&!n[0]?-1/0:1!=d.s?0/0:n?0:1/0);if(u=t&&(s=n[0],n.length>1||1!=s&&10!=s&&100!=s&&1e3!=s&&1e4!=s&&1e5!=s&&1e6!=s),v=!1,c=x+E,l=c+10,f=h(d,c),t?(l>q.length&&p(w,1,l,"log"),i=new w(q.slice(0,l))):i=h(e,c),m=I(f,i,c,1),a(m.c,s=x,y))do if(c+=10,f=h(d,c),t?(l=c+10,l>q.length&&p(w,1,l,"log"),i=new w(q.slice(0,l))):i=h(e,c),m=I(f,i,c,1),!u){+o(m.c).slice(s+1,s+15)+1==1e14&&(m=g(m,x+1,0));break;}while(a(m.c,s+=10,y));return v=!0,g(m,x,y);},O.minus=function(e,r){var t,n,i,o,a=this,s=a.constructor,u=a.s;if(b=8,e=new s(e,r),r=e.s,!u||!r)return new s(0/0);if(u!=r)return e.s=-r,a.plus(e);var f=a.c,c=e.c,l=E(e.e/T),p=E(a.e/T),m=s.precision,h=s.rounding;if(!p||!l){if(!f||!c)return f?(e.s=-r,e):new s(c?a:0/0);if(!f[0]||!c[0])return a=c[0]?(e.s=-r,e):new s(f[0]?a:3==h?-0:0),v?g(a,m,h):a;}if(f=f.slice(),n=f.length,u=p-l){for((o=0>u)?(u=-u,t=f,n=c.length):(l=p,t=c),(p=Math.ceil(m/T))>n&&(n=p),u>(n+=2)&&(u=n,t.length=1),t.reverse(),r=u;r--;t.push(0));t.reverse();}else{for((o=n<(i=c.length))&&(i=n),u=r=0;i>r;r++)if(f[r]!=c[r]){o=f[r]<c[r];break;}}if(o&&(t=f,f=c,c=t,e.s=-e.s),(r=-((i=f.length)-c.length))>0)for(;r--;f[i++]=0);for(p=M-1,r=c.length;r>u;){if(f[--r]<c[r]){for(n=r;n&&!f[--n];f[n]=p);--f[n],f[r]+=M;}f[r]-=c[r];}for(;0==f[--i];f.pop());for(;0==f[0];f.shift(),--l);for(f[0]||(f=[l=0],e.s=3==h?-1:1),e.c=f,u=1,r=f[0];r>=10;r/=10,u++);return e.e=u+l*T-1,v?g(e,m,h):e;},O.modulo=O.mod=function(e,r){var t,n,i=this,o=i.constructor,a=o.modulo;return b=9,e=new o(e,r),r=e.s,t=!i.c||!r||e.c&&!e.c[0],t||!e.c||i.c&&!i.c[0]?t?new o(0/0):g(new o(i),o.precision,o.rounding):(v=!1,9==a?(e.s=1,n=I(i,e,0,3,1),e.s=r,n.s*=r):n=I(i,e,0,a,1),n=n.times(e),v=!0,i.minus(n));},O.naturalLogarithm=O.ln=function(){return h(this);},O.negated=O.neg=function(){var e=new this.constructor(this);return e.s=-e.s||null,g(e);},O.plus=function(e,r){var t,n=this,i=n.constructor,o=n.s;if(b=10,e=new i(e,r),r=e.s,!o||!r)return new i(0/0);if(o!=r)return e.s=-r,n.minus(e);var a=n.c,s=e.c,u=E(e.e/T),f=E(n.e/T),c=i.precision,l=i.rounding;if(!f||!u){if(!a||!s)return new i(o/0);if(!a[0]||!s[0])return n=s[0]?e:new i(a[0]?n:0*o),v?g(n,c,l):n;}if(a=a.slice(),o=f-u){for(0>o?(o=-o,t=a,r=s.length):(u=f,t=s,r=a.length),(f=Math.ceil(c/T))>r&&(r=f),o>++r&&(o=r,t.length=1),t.reverse();o--;t.push(0));t.reverse();}for(a.length-s.length<0&&(t=s,s=a,a=t),o=s.length,r=0,f=M;o;a[o]%=f)r=(a[--o]=a[o]+s[o]+r)/f|0;for(r&&(a.unshift(r),++u),o=a.length;0==a[--o];a.pop());for(e.c=a,o=1,r=a[0];r>=10;r/=10,o++);return e.e=o+u*T-1,v?g(e,c,l):e;},O.precision=O.sd=function(e){var r=null,t=this;return e!=r&&e!==!!e&&1!==e&&0!==e&&p(t.constructor,"argument",e,"precision",1),t.c&&(r=l(t.c),e&&t.e+1>r&&(r=t.e+1)),r;},O.round=function(){var e=this,r=e.constructor;return g(new r(e),e.e+1,r.rounding);},O.squareRoot=O.sqrt=function(){var e,r,t,n,i,a,s=this,u=s.c,f=s.s,c=s.e,l=s.constructor,p=new l(.5);if(1!==f||!u||!u[0])return new l(!f||0>f&&(!u||u[0])?0/0:u?s:1/0);for(v=!1,f=Math.sqrt(+s),0==f||f==1/0?(r=o(u),(r.length+c)%2==0&&(r+="0"),f=Math.sqrt(r),c=E((c+1)/2)-(0>c||c%2),f==1/0?r="1e"+c:(r=f.toExponential(),r=r.slice(0,r.indexOf("e")+1)+c),n=new l(r)):n=new l(f.toString()),t=(c=l.precision)+3;;)if(a=n,n=p.times(a.plus(I(s,a,t+2,1))),o(a.c).slice(0,t)===(r=o(n.c)).slice(0,t)){if(r=r.slice(t-3,t+1),"9999"!=r&&(i||"4999"!=r)){(!+r||!+r.slice(1)&&"5"==r.charAt(0))&&(g(n,c+1,1),e=!n.times(n).eq(s));break;}if(!i&&(g(a,c+1,0),a.times(a).eq(s))){n=a;break;}t+=4,i=1;}return v=!0,g(n,c,l.rounding,e);},O.times=function(e,r){var t,n,i=this,o=i.constructor,a=i.c,s=(b=11,e=new o(e,r),e.c),u=E(i.e/T),f=E(e.e/T),c=i.s;if(r=e.s,e.s=c==r?1:-1,!((u||a&&a[0])&&(f||s&&s[0])))return new o(!c||!r||a&&!a[0]&&!s||s&&!s[0]&&!a?0/0:a&&s?0*e.s:e.s/0);for(n=u+f,c=a.length,r=s.length,r>c&&(t=a,a=s,s=t,f=c,c=r,r=f),f=c+r,t=[];f--;t.push(0));for(u=r-1;u>-1;u--){for(r=0,f=c+u;f>u;)r=t[f]+s[u]*a[f-u-1]+r,t[f--]=r%M|0,r=r/M|0;t[f]=(t[f]+r)%M|0;}for(r?++n:t[0]||t.shift(),f=t.length;!t[--f];t.pop());for(e.c=t,c=1,r=t[0];r>=10;r/=10,c++);return e.e=c+n*T-1,v?g(e,o.precision,o.rounding):e;},O.toDecimalPlaces=O.toDP=function(e,r){var t=this;return t=new t.constructor(t),null!=e&&u(t,e,"toDP")?g(t,(0|e)+t.e+1,s(t,r,"toDP")):t;},O.toExponential=function(e,r){var t=this;return t.c?c(t,null!=e&&u(t,e,"toExponential")?0|e:null,null!=e&&s(t,r,"toExponential"),1):t.toString();},O.toFixed=function(e,r){var t,n=this,i=n.constructor,o=i.toExpNeg,a=i.toExpPos;return null!=e&&(e=u(n,e,t="toFixed")?n.e+(0|e):null,r=s(n,r,t)),i.toExpNeg=-(i.toExpPos=1/0),null!=e&&n.c?(t=c(n,e,r),n.s<0&&n.c&&(n.c[0]?t.indexOf("-")<0&&(t="-"+t):t=t.replace("-",""))):t=n.toString(),i.toExpNeg=o,i.toExpPos=a,t;},O.toFormat=function(e,r){var t=this;if(!t.c)return t.toString();var n,i=t.s<0,o=t.constructor.format,a=o.groupSeparator,s=+o.groupSize,u=+o.secondaryGroupSize,f=t.toFixed(e,r).split("."),c=f[0],l=f[1],p=i?c.slice(1):c,m=p.length;if(u&&(n=s,s=u,m-=u=n),s>0&&m>0){for(n=m%s||s,c=p.substr(0,n);m>n;n+=s)c+=a+p.substr(n,s);u>0&&(c+=a+p.slice(n)),i&&(c="-"+c);}return l?c+o.decimalSeparator+((u=+o.fractionGroupSize)?l.replace(new RegExp("\\d{"+u+"}\\B","g"),"$&"+o.fractionGroupSeparator):l):c;},O.toFraction=function(e){var r,t,n,i,a,s,u,f,c=this,m=c.constructor,h=r=new m(m.ONE),g=s=new m(0),d=c.c,w=new m(g);if(!d)return c.toString();for(n=w.e=l(d)-c.e-1,w.c[0]=N(10,(u=n%T)<0?T+u:u),(null==e||(!(b=12,a=new m(e)).s||(x=a.cmp(h)<0||!a.c)||m.errors&&E(a.e/T)<a.c.length-1)&&!p(m,"max denominator",e,"toFraction",0)||(e=a).cmp(w)>0)&&(e=n>0?w:h),v=!1,a=new m(o(d)),u=m.precision,m.precision=n=d.length*T*2;f=I(a,w,0,1,1),t=r.plus(f.times(g)),1!=t.cmp(e);)r=g,g=t,h=s.plus(f.times(t=h)),s=t,w=a.minus(f.times(t=w)),a=t;return t=I(e.minus(r),g,0,1,1),s=s.plus(t.times(h)),r=r.plus(t.times(g)),s.s=h.s=c.s,i=I(h,g,n,1).minus(c).abs().cmp(I(s,r,n,1).minus(c).abs())<1?[h+"",g+""]:[s+"",r+""],v=!0,m.precision=u,i;},O.toNearest=function(e,r){var t=this,n=t.constructor;return t=new n(t),null==e?(e=new n(n.ONE),r=n.rounding):(b=17,e=new n(e),r=s(t,r,"toNearest")),e.c?t.c&&(e.c[0]?(v=!1,t=I(t,e,0,4>r?[4,5,7,8][r]:r,1).times(e),v=!0,g(t)):t.c=[t.e=0]):t.s&&(e.s&&(e.s=t.s),t=e),t;},O.toNumber=function(){var e=this;return +e||(e.s?0*e.s:0/0);},O.toPower=O.pow=function(e,r){var t,n,i,s,u=this,c=u.constructor,l=u.s,p=(b=13,+(e=new c(e,r))),d=0>p?-p:p,w=c.precision,x=c.rounding;if(!u.c||!e.c||(i=!u.c[0])||!e.c[0])return new c(N(i?0*l:+u,p));if(u=new c(u),t=u.c.length,!u.e&&u.c[0]==u.s&&1==t)return u;if(r=e.c.length-1,e.e||e.c[0]!=e.s||r)if(n=E(e.e/T),i=n>=r,!i&&0>l)s=new c(0/0);else{if(i&&B>t*T*d){if(s=m(c,u,d),e.s<0)return c.ONE.div(s);}else{if(l=0>l&&1&e.c[Math.max(n,r)]?-1:1,r=N(+u,p),n=0!=r&&isFinite(r)?new c(r+"").e:E(p*(Math.log("0."+o(u.c))/Math.LN10+u.e+1)),n>c.maxE+1||n<c.minE-1)return new c(n>0?l/0:0);v=!1,c.rounding=u.s=1,d=Math.min(12,(n+"").length),s=f(e.times(h(u,w+d)),w),s=g(s,w+5,1),a(s.c,w,x)&&(n=w+10,s=g(f(e.times(h(u,n+d)),n),n+5,1),+o(s.c).slice(w+1,w+15)+1==1e14&&(s=g(s,w+1,0))),s.s=l,v=!0,c.rounding=x;}s=g(s,w,x);}else s=g(u,w,x);return s;},O.toPrecision=function(e,r){var t=this;return null!=e&&u(t,e,"toPrecision",1)&&t.c?c(t,0|--e,s(t,r,"toPrecision"),2):t.toString();},O.toSignificantDigits=O.toSD=function(e,r){var t=this,n=t.constructor;return t=new n(t),null!=e&&u(t,e,"toSD",1)?g(t,0|e,s(t,r,"toSD")):g(t,n.precision,n.rounding);},O.toString=function(e){var r,t,n,i=this,a=i.constructor,s=i.e;if(null===s)t=i.s?"Infinity":"NaN";else{if(e===r&&(s<=a.toExpNeg||s>=a.toExpPos))return c(i,null,a.rounding,1);if(t=o(i.c),0>s){for(;++s;t="0"+t);t="0."+t;}else if(n=t.length,s>0)if(++s>n)for(s-=n;s--;t+="0");else n>s&&(t=t.slice(0,s)+"."+t.slice(s));else if(r=t.charAt(0),n>1)t=r+"."+t.slice(1);else{if("0"==r)return r;}if(null!=e)if((x=!(e>=2&&65>e))||e!=(0|e)&&a.errors)p(a,"base",e,"toString",0);else{if(t=d(a,t,0|e,10,i.s),"0"==t)return t;}}return i.s<0?"-"+t:t;},O.truncated=O.trunc=function(){return g(new this.constructor(this),this.e+1,1);},O.valueOf=O.toJSON=function(){return this.toString();},d=function(){function e(e,r,t){for(var n,i,o=[0],a=0,s=e.length;s>a;){for(i=o.length;i--;o[i]*=r);for(o[n=0]+=S.indexOf(e.charAt(a++));n<o.length;n++)o[n]>t-1&&(null==o[n+1]&&(o[n+1]=0),o[n+1]+=o[n]/t|0,o[n]%=t);}return o.reverse();}return function(r,t,n,i,o){var a,s,u,f,c,l,p=t.indexOf("."),h=r.precision,g=r.rounding;for(37>i&&(t=t.toLowerCase()),p>=0&&(t=t.replace(".",""),l=new r(i),f=m(r,l,t.length-p),l.c=e(f.toFixed(),10,n),l.e=l.c.length),c=e(t,i,n),a=s=c.length;0==c[--s];c.pop());if(!c[0])return "0";if(0>p?a--:(f.c=c,f.e=a,f.s=o,f=I(f,l,h,g,0,n),c=f.c,u=f.r,a=f.e),p=c[h],s=n/2,u=u||null!=c[h+1],4>g?(null!=p||u)&&(0==g||g==(f.s<0?3:2)):p>s||p==s&&(4==g||u||6==g&&1&c[h-1]||g==(f.s<0?8:7)))for(c.length=h,--n;++c[--h]>n;)c[h]=0,h||(++a,c.unshift(1));else c.length=h;for(s=c.length;!c[--s];);for(p=0,t="";s>=p;t+=S.charAt(c[p++]));if(0>a){for(;++a;t="0"+t);t="0."+t;}else if(p=t.length,++a>p)for(a-=p;a--;t+="0");else p>a&&(t=t.slice(0,a)+"."+t.slice(a));return t;};}();var I=function(){function e(e,r,t){var n,i=0,o=e.length;for(e=e.slice();o--;)n=e[o]*r+i,e[o]=n%t|0,i=n/t|0;return i&&e.unshift(i),e;}function r(e,r,t,n){var i,o;if(t!=n)o=t>n?1:-1;else{for(i=o=0;t>i;i++)if(e[i]!=r[i]){o=e[i]>r[i]?1:-1;break;}}return o;}function t(e,r,t,n){for(var i=0;t--;)e[t]-=i,i=e[t]<r[t]?1:0,e[t]=i*n+e[t]-r[t];for(;!e[0]&&e.length>1;e.shift());}return function(n,i,o,a,s,u){var f,c,l,p,m,h,d,w,x,y,v,b,N,A,S,O,C,U,B,q=n.constructor,I=n.s==i.s?1:-1,z=n.c,_=i.c;if(!(z&&z[0]&&_&&_[0]))return new q(n.s&&i.s&&(z?!_||z[0]!=_[0]:_)?z&&0==z[0]||!_?0*I:I/0:0/0);for(u?(p=1,c=n.e-i.e):(u=M,p=T,c=E(n.e/p)-E(i.e/p)),U=_.length,O=z.length,x=new q(I),y=x.c=[],l=0;_[l]==(z[l]||0);l++);if(_[l]>(z[l]||0)&&c--,null==o?(I=o=q.precision,a=q.rounding):I=s?o+(n.e-i.e)+1:o,0>I)y.push(1),m=!0;else{if(I=I/p+2|0,l=0,1==U){for(h=0,_=_[0],I++;(O>l||h)&&I--;l++)A=h*u+(z[l]||0),y[l]=A/_|0,h=A%_|0;m=h||O>l;}else{for(h=u/(_[0]+1)|0,h>1&&(_=e(_,h,u),z=e(z,h,u),U=_.length,O=z.length),S=U,v=z.slice(0,U),b=v.length;U>b;v[b++]=0);B=_.slice(),B.unshift(0),C=_[0],_[1]>=u/2&&C++;do h=0,f=r(_,v,U,b),0>f?(N=v[0],U!=b&&(N=N*u+(v[1]||0)),h=N/C|0,h>1?(h>=u&&(h=u-1),d=e(_,h,u),w=d.length,b=v.length,f=r(d,v,w,b),1==f&&(h--,t(d,w>U?B:_,w,u))):(0==h&&(f=h=1),d=_.slice()),w=d.length,b>w&&d.unshift(0),t(v,d,b,u),-1==f&&(b=v.length,f=r(_,v,U,b),1>f&&(h++,t(v,b>U?B:_,b,u))),b=v.length):0===f&&(h++,v=[0]),y[l++]=h,f&&v[0]?v[b++]=z[S]||0:(v=[z[S]],b=1);while((S++<O||null!=v[0])&&I--);m=null!=v[0];}y[0]||y.shift();}if(1==p)x.e=c,x.r=+m;else{for(l=1,I=y[0];I>=10;I/=10,l++);x.e=l+c*p-1,g(x,s?o+x.e+1:o,a,m);}return x;};}();w=function(){function e(e){var r,t,n,i=this,o="config",a=i.errors?parseInt:parseFloat;return e==t||"object"!=typeof e&&!p(i,"object expected",e,o)?i:((n=e[r="precision"])!=t&&((x=1>n||n>U)||a(n)!=n?p(i,r,n,o,0):i[r]=0|n),(n=e[r="rounding"])!=t&&((x=0>n||n>8)||a(n)!=n?p(i,r,n,o,0):i[r]=0|n),(n=e[r="toExpNeg"])!=t&&((x=-C>n||n>0)||a(n)!=n?p(i,r,n,o,0):i[r]=E(n)),(n=e[r="toExpPos"])!=t&&((x=0>n||n>C)||a(n)!=n?p(i,r,n,o,0):i[r]=E(n)),(n=e[r="minE"])!=t&&((x=-C>n||n>0)||a(n)!=n?p(i,r,n,o,0):i[r]=E(n)),(n=e[r="maxE"])!=t&&((x=0>n||n>C)||a(n)!=n?p(i,r,n,o,0):i[r]=E(n)),(n=e[r="errors"])!=t&&(n===!!n||1===n||0===n?(x=b=0,i[r]=!!n):p(i,r,n,o,1)),(n=e[r="crypto"])!=t&&(n===!!n||1===n||0===n?i[r]=!(!n||!y||"object"!=typeof y):p(i,r,n,o,1)),(n=e[r="modulo"])!=t&&((x=0>n||n>9)||a(n)!=n?p(i,r,n,o,0):i[r]=0|n),(e=e[r="format"])!=t&&("object"==typeof e?i[r]=e:p(i,"format object expected",e,o)),i);}function r(e){return new this(e).exp();}function t(e){return new this(e).ln();}function n(e,r){return new this(e).log(r);}function i(e,r,t){var n,i,o=0;for("[object Array]"==A.call(r[0])&&(r=r[0]),n=new e(r[0]);++o<r.length;){if(i=new e(r[o]),!i.s){n=i;break;}n[t](i)&&(n=i);}return n;}function o(){return i(this,arguments,"lt");}function a(){return i(this,arguments,"gt");}function s(e,r){return new this(e).pow(r);}function f(e){var r,t,n,i=0,o=[],a=this,s=new a(a.ONE);if(null!=e&&u(s,e,"random")?e|=0:e=a.precision,t=Math.ceil(e/T),a.crypto)if(y&&y.getRandomValues)for(r=y.getRandomValues(new Uint32Array(t));t>i;)n=r[i],n>=429e7?r[i]=y.getRandomValues(new Uint32Array(1))[0]:o[i++]=n%1e7;else if(y&&y.randomBytes){for(r=y.randomBytes(t*=4);t>i;)n=r[i]+(r[i+1]<<8)+(r[i+2]<<16)+((127&r[i+3])<<24),n>=214e7?y.randomBytes(4).copy(r,i):(o.push(n%1e7),i+=4);i=t/4;}else p(a,"crypto unavailable",y,"random");if(!i)for(;t>i;)o[i++]=1e7*Math.random()|0;for(t=o[--i],e%=T,t&&e&&(n=N(10,T-e),o[i]=(t/n|0)*n);0===o[i];i--)o.pop();if(0>i)o=[t=0];else{for(t=-1;0===o[0];)o.shift(),t-=T;for(i=1,n=o[0];n>=10;)n/=10,i++;T>i&&(t-=T-i);}return s.e=t,s.c=o,s;}function c(e){return new this(e).sqrt();}function l(i){function u(e,r){var t=this;if(!(t instanceof u))return p(u,"Decimal called without new",e),new u(e,r);if(t.constructor=u,e instanceof u){if(null==r)return b=0,t.s=e.s,t.e=e.e,t.c=(e=e.c)?e.slice():e,t;if(10==r)return g(new u(e),u.precision,u.rounding);e+="";}return m(u,t,e,r);}return u.precision=20,u.rounding=4,u.modulo=1,u.toExpNeg=-7,u.toExpPos=21,u.minE=-C,u.maxE=C,u.errors=!0,u.crypto=!1,u.format={decimalSeparator:".",groupSeparator:",",groupSize:3,secondaryGroupSize:0,fractionGroupSeparator:"",fractionGroupSize:0},u.prototype=O,u.ONE=new u(1),u.ROUND_UP=0,u.ROUND_DOWN=1,u.ROUND_CEIL=2,u.ROUND_FLOOR=3,u.ROUND_HALF_UP=4,u.ROUND_HALF_DOWN=5,u.ROUND_HALF_EVEN=6,u.ROUND_HALF_CEIL=7,u.ROUND_HALF_FLOOR=8,u.EUCLID=9,u.config=e,u.constructor=l,u.exp=r,u.ln=t,u.log=n,u.max=o,u.min=a,u.pow=s,u.sqrt=c,u.random=f,null!=i&&u.config(i),u;}var m=function(){var e=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,r=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"");};return function(t,n,i,o){var a,s,u,f,c,l;if("string"!=typeof i&&(i=(f="number"==typeof i||"[object Number]"==A.call(i))&&0===i&&0>1/i?"-0":i+""),c=i,null==o&&e.test(i))n.s=45===i.charCodeAt(0)?(i=i.slice(1),-1):1;else{if(10==o)return g(new t(i),t.precision,t.rounding);if(i=r.call(i).replace(/^\+(?!-)/,""),n.s=45===i.charCodeAt(0)?(i=i.replace(/^-(?!-)/,""),-1):1,null!=o?o!=(0|o)&&t.errors||(x=!(o>=2&&65>o))?(p(t,"base",o,0,0),l=e.test(i)):(a="["+S.slice(0,o=0|o)+"]+",i=i.replace(/\.$/,"").replace(/^\./,"0."),(l=new RegExp("^"+a+"(?:\\."+a+")?$",37>o?"i":"").test(i))?(f&&(i.replace(/^0\.0*|\./,"").length>15&&p(t,0,c),f=!f),i=d(t,i,10,o,n.s)):"Infinity"!=i&&"NaN"!=i&&(p(t,"not a base "+o+" number",c),i="NaN")):l=e.test(i),!l)return n.c=n.e=null,"Infinity"!=i&&("NaN"!=i&&p(t,"not a number",c),n.s=null),b=0,n;}for((s=i.indexOf("."))>-1&&(i=i.replace(".","")),(u=i.search(/e/i))>0?(0>s&&(s=u),s+=+i.slice(u+1),i=i.substring(0,u)):0>s&&(s=i.length),u=0;48===i.charCodeAt(u);u++);for(o=i.length;48===i.charCodeAt(--o););if(i=i.slice(u,o+1)){if(o=i.length,f&&o>15&&p(t,0,c),n.e=s=s-u-1,n.c=[],u=(s+1)%T,0>s&&(u+=T),o>u){for(u&&n.c.push(+i.slice(0,u)),o-=T;o>u;)n.c.push(+i.slice(u,u+=T));i=i.slice(u),u=T-i.length;}else u-=o;for(;u--;i+="0");n.c.push(+i),v&&(n.e>t.maxE?n.c=n.e=null:n.e<t.minE&&(n.c=[n.e=0]));}else n.c=[n.e=0];return b=0,n;};}();return l();}(),n=function(){return w;}.call(r,t,r,e),!(void 0!==n&&(e.exports=n));}(this);},function(e,r,t){"use strict";r.array=t(153),r["boolean"]=t(175),r.number=t(4),r.bignumber=t(152),r.object=t(3),r.string=t(176),r.types=t(196);},function(e,r,t){"use strict";function n(e){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(this.nodes=e||[],!a(this.nodes)||!this.nodes.every(s))throw new TypeError("Array containing Nodes expected");}var i=t(173),o=(t(3),t(176)),a=(t(13),t(160),Array.isArray),s=i.isNode;n.prototype=new i(),n.prototype.type="ArrayNode",n.prototype._compile=function(e){var r="array"!==e.math.config().matrix,t=this.nodes.map(function(r){return r._compile(e);});return (r?"math.matrix([":"[")+t.join(",")+(r?"])":"]");},n.prototype.forEach=function(e){for(var r=0;r<this.nodes.length;r++){var t=this.nodes[r];e(t,"nodes["+r+"]",this);}},n.prototype.map=function(e){for(var r=[],t=0;t<this.nodes.length;t++)r[t]=this._ifNode(e(this.nodes[t],"nodes["+t+"]",this));return new n(r);},n.prototype.clone=function(){return new n(this.nodes.slice(0));},n.prototype.toString=function(){return o.format(this.nodes);},n.prototype.toTex=function(e){e=e||"bmatrix";var r="\\begin{"+e+"}";return this.nodes.forEach(function(e){r+=e.nodes?e.nodes.map(function(e){return e.toTex();}).join("&"):e.toTex(),r+="\\\\";}),r+="\\end{"+e+"}";},e.exports=n;},function(e,r,t){"use strict";function n(e,r){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(!u(e))throw new TypeError('String expected for parameter "name"');if(!(r instanceof i))throw new TypeError('Node expected for parameter "expr"');if(e in a)throw new Error('Illegal symbol name, "'+e+'" is a reserved keyword');this.name=e,this.expr=r;}var i=t(173),o=t(161),a=t(314),s=t(315),u=t(176).isString;n.prototype=new i(),n.prototype.type="AssignmentNode",n.prototype._compile=function(e){return 'scope["'+this.name+'"] = '+this.expr._compile(e);},n.prototype.forEach=function(e){e(this.expr,"expr",this);},n.prototype.map=function(e){return new n(this.name,this._ifNode(e(this.expr,"expr",this)));},n.prototype.clone=function(){return new n(this.name,this.expr);},n.prototype.toString=function(){return this.name+" = "+this.expr.toString();},n.prototype.toTex=function(){var e;return this.expr instanceof o&&(e=["\\mathbf{","}"]),s.addBraces(s.toSymbol(this.name),e)+"="+s.addBraces(this.expr.toTex());},e.exports=n;},function(e,r,t){"use strict";function n(e){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(!Array.isArray(e))throw new Error("Array expected");this.blocks=e.map(function(e){var r=e&&e.node,t=e&&void 0!==e.visible?e.visible:!0;if(!(r instanceof i))throw new TypeError('Property "node" must be a Node');if(!a(t))throw new TypeError('Property "visible" must be a boolean');return {node:r,visible:t};});}var i=t(173),o=t(12),a=t(175).isBoolean;n.prototype=new i(),n.prototype.type="BlockNode",n.prototype._compile=function(e){e.ResultSet=o;var r=this.blocks.map(function(r){var t=r.node._compile(e);return r.visible?"results.push("+t+");":t+";";});return "(function () {var results = [];"+r.join("")+"return new ResultSet(results);})()";},n.prototype.forEach=function(e){for(var r=0;r<this.blocks.length;r++)e(this.blocks[r].node,"blocks["+r+"].node",this);},n.prototype.map=function(e){for(var r=[],t=0;t<this.blocks.length;t++){var i=this.blocks[t],o=this._ifNode(e(i.node,"blocks["+t+"].node",this));r[t]={node:o,visible:i.visible};}return new n(r);},n.prototype.clone=function(){var e=this.blocks.map(function(e){return {node:e.node,visible:e.visible};});return new n(e);},n.prototype.toString=function(){return this.blocks.map(function(e){return e.node.toString()+(e.visible?"":";");}).join("\n");},n.prototype.toTex=function(){return this.blocks.map(function(e){return e.node.toTex()+(e.visible?"":";");}).join("\n");},e.exports=n;},function(e,r,t){"use strict";function n(e,r,t){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(!(e instanceof i))throw new TypeError("Parameter condition must be a Node");if(!(r instanceof i))throw new TypeError("Parameter trueExpr must be a Node");if(!(t instanceof i))throw new TypeError("Parameter falseExpr must be a Node");this.condition=e,this.trueExpr=r,this.falseExpr=t;}var i=t(173),o=t(315),a=t(159),s=t(6),u=t(10),f=t(160),c=f.string.isString,l=f.number.isNumber,p=f["boolean"].isBoolean;n.prototype=new i(),n.prototype.type="ConditionalNode",n.prototype._compile=function(e){return e.testCondition=function(r){if(l(r)||p(r)||c(r))return r?!0:!1;if(r instanceof a)return r.isZero()?!1:!0;if(r instanceof s)return r.re||r.im?!0:!1;if(r instanceof u)return r.value?!0:!1;if(null===r||void 0===r)return !1;throw new TypeError('Unsupported type of condition "'+e.math["typeof"](r)+'"');},"testCondition("+this.condition._compile(e)+") ? ( "+this.trueExpr._compile(e)+") : ( "+this.falseExpr._compile(e)+")";},n.prototype.forEach=function(e){e(this.condition,"condition",this),e(this.trueExpr,"trueExpr",this),e(this.falseExpr,"falseExpr",this);},n.prototype.map=function(e){return new n(this._ifNode(e(this.condition,"condition",this)),this._ifNode(e(this.trueExpr,"trueExpr",this)),this._ifNode(e(this.falseExpr,"falseExpr",this)));},n.prototype.clone=function(){return new n(this.condition,this.trueExpr,this.falseExpr);},n.prototype.toString=function(){return "("+this.condition.toString()+") ? ("+this.trueExpr.toString()+") : ("+this.falseExpr.toString()+")";},n.prototype.toTex=function(){var e=o.addBraces(this.trueExpr.toTex())+", &\\quad"+o.addBraces("\\text{if}\\;"+this.condition.toTex())+"\\\\"+(o.addBraces(this.falseExpr.toTex())+", &\\quad"+o.addBraces("\\text{otherwise}"));return o.addBraces(e,["\\left\\{\\begin{array}{l l}","\\end{array}\\right."]);},e.exports=n;},function(e,r,t){"use strict";function n(e,r){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(r){if(!a(r))throw new TypeError('String expected for parameter "valueType"');if(!a(e))throw new TypeError('String expected for parameter "value"');this.value=e,this.valueType=r;}else this.value=e+"",this.valueType=o(e);if(!s[this.valueType])throw new TypeError('Unsupported type of value "'+this.valueType+'"');}var i=t(173),o=(t(159),t(196).type),a=t(176).isString,s={number:!0,string:!0,"boolean":!0,undefined:!0,"null":!0};n.prototype=new i(),n.prototype.type="ConstantNode",n.prototype._compile=function(e){switch(this.valueType){case "number":return "bignumber"===e.math.config().number?'math.bignumber("'+this.value+'")':this.value.replace(/^(0*)[0-9]/,function(e,r){return e.substring(r.length);});case "string":return '"'+this.value+'"';case "boolean":return this.value;case "undefined":return this.value;case "null":return this.value;default:throw new TypeError('Unsupported type of constant "'+this.valueType+'"');}},n.prototype.forEach=function(){},n.prototype.map=function(){return this.clone();},n.prototype.clone=function(){return new n(this.value,this.valueType);},n.prototype.toString=function(){switch(this.valueType){case "string":return '"'+this.value+'"';default:return this.value;}},n.prototype.toTex=function(){var e,r=this.value;switch(this.valueType){case "string":return "\\text{"+r+"}";case "number":return e=r.toLowerCase().indexOf("e"),-1!==e?r.substring(0,e)+" \\cdot 10^{"+r.substring(e+1)+"}":r;default:return r;}},e.exports=n;},function(e,r,t){"use strict";function n(e,r,t){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(!s(e))throw new TypeError('String expected for parameter "name"');if(!u(r)||!r.every(s))throw new TypeError('Array containing strings expected for parameter "params"');if(!(t instanceof i))throw new TypeError('Node expected for parameter "expr"');if(e in o)throw new Error('Illegal function name, "'+e+'" is a reserved keyword');this.name=e,this.params=r,this.expr=t;}var i=t(173),o=t(314),a=t(315),s=t(176).isString,u=Array.isArray;n.prototype=new i(),n.prototype.type="FunctionAssignmentNode",n.prototype._compile=function(e){return 'scope["'+this.name+'"] =   (function (scope) {    scope = Object.create(scope);     var fn = function '+this.name+"("+this.params.join(",")+") {      if (arguments.length != "+this.params.length+') {        throw new SyntaxError("Wrong number of arguments in function '+this.name+' (" + arguments.length + " provided, '+this.params.length+' expected)");      }'+this.params.map(function(e,r){return 'scope["'+e+'"] = arguments['+r+"];";}).join("")+"      return "+this.expr._compile(e)+'    };    fn.syntax = "'+this.name+"("+this.params.join(", ")+')";    return fn;  })(scope);';},n.prototype.forEach=function(e){e(this.expr,"expr",this);},n.prototype.map=function(e){var r=this._ifNode(e(this.expr,"expr",this));return new n(this.name,this.params.slice(0),r);},n.prototype.clone=function(){return new n(this.name,this.params.slice(0),this.expr);},n.prototype.toString=function(){return "function "+this.name+"("+this.params.join(", ")+") = "+this.expr.toString();},n.prototype.toTex=function(){return this.name+a.addBraces(this.params.map(a.toSymbol).join(", "),!0)+"="+a.addBraces(this.expr.toTex());},e.exports=n;},function(e,r,t){"use strict";function n(e,r){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(!(e instanceof i))throw new TypeError('Node expected for parameter "object"');if(!c(r)||!r.every(f))throw new TypeError('Array containing Nodes expected for parameter "ranges"');this.object=e,this.ranges=r;}var i=t(173),o=t(170),a=t(171),s=t(159),u=t(7),f=i.isNode,c=Array.isArray;n.prototype=new i(),n.prototype.type="IndexNode",n.prototype._compile=function(e){return this.compileSubset(e);},n.prototype.compileSubset=function(e,r){function t(e){return e instanceof a&&"end"==e.name;}var n=!1,i=this.ranges.map(function(e){var r=e.filter(t).length>0;return n=r?r:n,r;});e.range=function(e,r,t){return new u(e instanceof s?e.toNumber():e,r instanceof s?r.toNumber():r,t instanceof s?t.toNumber():t);};var f=this.ranges.map(function(r,t){var n=i[t];return r instanceof o?n?'(function (scope) {  scope = Object.create(scope);   scope["end"] = size['+t+"];  return range(    "+r.start._compile(e)+",     "+r.end._compile(e)+",     "+(r.step?r.step._compile(e):"1")+"  );})(scope)":"range("+r.start._compile(e)+", "+r.end._compile(e)+", "+(r.step?r.step._compile(e):"1")+")":n?'(function (scope) {  scope = Object.create(scope);   scope["end"] = size['+t+"];  return "+r._compile(e)+";})(scope)":r._compile(e);});return n?"(function () {  var obj = "+this.object._compile(e)+";  var size = math.size(obj).valueOf();  return math.subset(    obj,     math.index("+f.join(", ")+")    "+(r?", "+r:"")+"  );})()":"math.subset("+this.object._compile(e)+",math.index("+f.join(", ")+")"+(r?", "+r:"")+")";},n.prototype.forEach=function(e){e(this.object,"object",this);for(var r=0;r<this.ranges.length;r++)e(this.ranges[r],"ranges["+r+"]",this);},n.prototype.map=function(e){for(var r=this._ifNode(e(this.object,"object",this)),t=[],i=0;i<this.ranges.length;i++)t[i]=this._ifNode(e(this.ranges[i],"ranges["+i+"]",this));return new n(r,t);},n.prototype.objectName=function(){return this.object.name;},n.prototype.clone=function(){return new n(this.object,this.ranges.slice(0));},n.prototype.toString=function(){return this.object.toString()+"["+this.ranges.join(", ")+"]";},n.prototype.toTex=function(){return this.object.toTex()+"["+this.ranges.join(", ")+"]";},e.exports=n;},function(e,r,t){"use strict";function n(e,r,t){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this.op=e,this.fn=r,this.args=t||[];}var i=t(173),o=t(165),a=t(171),s=t(169),u=t(315);n.prototype=new i(),n.prototype.type="OperatorNode",n.prototype._compile=function(e){if(!(this.fn in e.math))throw new Error("Function "+this.fn+' missing in provided namespace "math"');var r=this.args.map(function(r){return r._compile(e);});return "math."+this.fn+"("+r.join(", ")+")";},n.prototype.forEach=function(e){for(var r=0;r<this.args.length;r++)e(this.args[r],"args["+r+"]",this);},n.prototype.map=function(e){for(var r=[],t=0;t<this.args.length;t++)r[t]=this._ifNode(e(this.args[t],"args["+t+"]",this));return new n(this.op,this.fn,r);},n.prototype.clone=function(){return new n(this.op,this.fn,this.args.slice(0));},n.prototype.toString=function(){var e=this.args;switch(e.length){case 1:return "-"==this.op?"-"+e[0].toString():e[0].toString()+this.op;case 2:var r=e[0].toString();e[0] instanceof n&&(r="("+r+")");var t=e[1].toString();return e[1] instanceof n&&(t="("+t+")"),r+" "+this.op+" "+t;default:return this.op+"("+this.args.join(", ")+")";}},n.prototype.toTex=function(){var e=this.args,r=u.toOperator(this.op),t=e[0],i=e[1];switch(e.length){case 1:return "-"===this.op||"+"===this.op?this.op+t.toTex():t.toTex()+this.op;case 2:var f=t.toTex(),c=!1,l=i.toTex(),p=!1,m="",h="";switch(this.op){case "/":m=r,r="";break;case "*":t instanceof n&&("+"===t.op||"-"===t.op)&&(c=!0),i instanceof n&&("+"===i.op||"-"===i.op?p=!0:"*"===i.op&&(p=!0)),r=(t instanceof o||t instanceof n)&&(i instanceof o||i instanceof n)?" \\cdot ":" \\, ";break;case "^":t instanceof n||t instanceof s?c=!0:t instanceof a&&(c=null);break;case "to":l=u.toUnit(l,!0);}return f=u.addBraces(f,c),l=u.addBraces(l,p),m+f+r+l+h;default:return r+"("+this.args.map(u.toSymbol).join(", ")+")";}},e.exports=n;},function(e,r,t){"use strict";function n(e,r){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof e)throw new TypeError('string expected for parameter "name"');if(!u(r)||!r.every(s))throw new TypeError('Array containing Nodes expected for parameter "args"');this.name=e,this.args=r||[];}var i=t(173),o=t(171),a=t(315),s=i.isNode,u=Array.isArray;n.prototype=new i(),n.prototype.type="FunctionNode",n.prototype._compile=function(e){var r=e.math[this.name],t="function"==typeof r&&1==r.rawArgs,n=this.args.map(function(r){return r._compile(e);});if(t){var i;do i="p"+Math.round(1e4*Math.random());while(i in e);return e[i]=this.args,'("'+this.name+'" in scope ? scope["'+this.name+'"]('+n.join(", ")+') : math["'+this.name+'"]('+i+", math, scope))";}var a=new o(this.name);return a._compile(e)+"("+n.join(", ")+")";},n.prototype.forEach=function(e){for(var r=0;r<this.args.length;r++)e(this.args[r],"args["+r+"]",this);},n.prototype.map=function(e){for(var r=[],t=0;t<this.args.length;t++)r[t]=this._ifNode(e(this.args[t],"args["+t+"]",this));return new n(this.name,r);},n.prototype.clone=function(){return new n(this.name,this.args.slice(0));},n.prototype.toString=function(){return this.name+"("+this.args.join(", ")+")";},n.prototype.toTex=function(){return a.toArgs(this);},e.exports=n;},function(e,r,t){"use strict";function n(e,r,t){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(!o(e))throw new TypeError("Node expected");if(!o(r))throw new TypeError("Node expected");if(t&&!o(t))throw new TypeError("Node expected");if(arguments.length>3)throw new Error("Too many arguments");this.start=e,this.end=r,this.step=t||null;}var i=t(173),o=i.isNode;n.prototype=new i(),n.prototype.type="RangeNode",n.prototype._compile=function(e){return "math.range("+this.start._compile(e)+", "+this.end._compile(e)+(this.step?", "+this.step._compile(e):"")+")";},n.prototype.forEach=function(e){e(this.start,"start",this),e(this.end,"end",this),this.step&&e(this.step,"step",this);},n.prototype.map=function(e){return new n(this._ifNode(e(this.start,"start",this)),this._ifNode(e(this.end,"end",this)),this.step&&this._ifNode(e(this.step,"step",this)));},n.prototype.clone=function(){return new n(this.start,this.end,this.step&&this.step);},n.prototype.toString=function(){var e=this.start.toString();return this.step&&(e+=":"+this.step.toString()),e+=":"+this.end.toString();},n.prototype.toTex=function(){var e=this.start.toTex();return this.step&&(e+=":"+this.step.toTex()),e+=":"+this.end.toTex();},e.exports=n;},function(e,r,t){"use strict";function n(e){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(!u(e))throw new TypeError('String expected for parameter "name"');this.name=e;}function i(e){throw new Error("Undefined symbol "+e);}var o=t(173),a=t(10),s=t(315),u=t(176).isString;n.prototype=new o(),n.prototype.type="SymbolNode",n.prototype._compile=function(e){return e.undef=i,e.Unit=a,this.name in e.math?'("'+this.name+'" in scope ? scope["'+this.name+'"] : math["'+this.name+'"])':'("'+this.name+'" in scope ? scope["'+this.name+'"] : '+(a.isValuelessUnit(this.name)?'new Unit(null, "'+this.name+'")':'undef("'+this.name+'")')+")";},n.prototype.forEach=function(){},n.prototype.map=function(){return this.clone();},n.prototype.clone=function(){return new n(this.name);},n.prototype.toString=function(){return this.name;},n.prototype.toTex=function(){return s.toSymbol(this.name);},e.exports=n;},function(e,r,t){"use strict";function n(e,r){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(!(e instanceof o))throw new TypeError('Expected IndexNode for parameter "index"');if(!(r instanceof i))throw new TypeError('Expected Node for parameter "expr"');this.index=e,this.expr=r;}var i=t(173),o=t(167);n.prototype=new i(),n.prototype.type="UpdateNode",n.prototype._compile=function(e){return 'scope["'+this.index.objectName()+'"] = '+this.index.compileSubset(e,this.expr._compile(e));},n.prototype.forEach=function(e){e(this.index,"index",this),e(this.expr,"expr",this);},n.prototype.map=function(e){return new n(this._ifNode(e(this.index,"index",this)),this._ifNode(e(this.expr,"expr",this)));},n.prototype.clone=function(){return new n(this.index,this.expr);},n.prototype.toString=function(){return this.index.toString()+" = "+this.expr.toString();},n.prototype.toTex=function(){return this.index.toTex()+" = "+this.expr.toTex();},e.exports=n;},function(e,r,t){"use strict";function n(){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");}function i(e){for(var r in e)if(e.hasOwnProperty(r)&&r in a)throw new Error('Scope contains an illegal symbol, "'+r+'" is a reserved keyword');}function o(e){var r=Object.create(e);for(var t in e)if(e.hasOwnProperty(t)){var n=e[t],i=n&&n.transform;i&&(r[t]=i);}return r;}var a=t(314);n.prototype.eval=function(){throw new Error("Node.eval is deprecated. Use Node.compile(math).eval([scope]) instead.");},n.prototype.type="Node",n.prototype.compile=function(e){if(!(e instanceof Object))throw new TypeError("Object expected for parameter math");var r={math:o(e),_validateScope:i},t=this._compile(r),n=Object.keys(r).map(function(e){return "    var "+e+' = defs["'+e+'"];';}),a=n.join(" ")+'return {  "eval": function (scope) {    if (scope) _validateScope(scope);    scope = scope || {};    return '+t+";  }};",s=new Function("defs",a);return s(r);},n.prototype._compile=function(){throw new Error("Cannot compile a Node interface");},n.prototype.forEach=function(){throw new Error("Cannot run forEach on a Node interface");},n.prototype.map=function(){throw new Error("Cannot run map on a Node interface");},n.prototype._ifNode=function(e){if(!(e instanceof n))throw new TypeError("Callback function must return a Node");return e;},n.prototype.traverse=function(e){function r(e,t){e.forEach(function(e,n,i){t(e,n,i),r(e,t);});}e(this,null,null),r(this,e);},n.prototype.transform=function(e){function r(e,t){return e.map(function(e,n,i){var o=t(e,n,i);return o!==e?o:r(e,t);});}var t=e(this,null,null);return t!==this?t:r(this,e);},n.prototype.filter=function(e){var r=[];return this.traverse(function(t,n,i){e(t,n,i)&&r.push(t);}),r;},n.prototype.find=function(){throw new Error("Function Node.find is deprecated. Use Node.filter instead.");},n.prototype.match=function(){throw new Error("Function Node.match is deprecated. See functions Node.filter, Node.transform, Node.traverse.");},n.prototype.clone=function(){throw new Error("Cannot clone a Node interface");},n.prototype.toString=function(){return "";},n.prototype.toTex=function(){return "";},n.isNode=function(e){return e instanceof n;},e.exports=n;},function(e,r,t){var n=(t(156),t(157));r.transform=function(e){return e instanceof n?new n(e.index+1,e.min+1,e.max+1):e;};},function(e,r){"use strict";r.isBoolean=function(e){return e instanceof Boolean||"boolean"==typeof e;};},function(e,r,t){"use strict";function n(e,t){if(Array.isArray(e)){for(var i="[",o=e.length,a=0;o>a;a++)0!=a&&(i+=", "),i+=n(e[a],t);return i+="]";}return r.format(e,t);}var i=t(4),o=t(152),a=t(159);r.isString=function(e){return e instanceof String||"string"==typeof e;},r.endsWith=function(e,r){var t=e.length-r.length,n=e.length;return e.substring(t,n)===r;},r.format=function(e,t){return i.isNumber(e)?i.format(e,t):e instanceof a?o.format(e,t):Array.isArray(e)?n(e,t):r.isString(e)?'"'+e+'"':"function"==typeof e?e.syntax?e.syntax+"":"function":e instanceof Object?"function"==typeof e.format?e.format(t):e.toString():String(e);};},function(e){e.exports={name:"e",category:"Constants",syntax:["e"],description:"Euler's number, the base of the natural logarithm. Approximately equal to 2.71828",examples:["e","e ^ 2","exp(2)","log(e)"],seealso:["exp"]};},function(e){e.exports={name:"false",category:"Constants",syntax:["false"],description:"Boolean value false",examples:["false"],seealso:["true"]};},function(e){e.exports={name:"i",category:"Constants",syntax:["i"],description:"Imaginary unit, defined as i*i=-1. A complex number is described as a + b*i, where a is the real part, and b is the imaginary part.",examples:["i","i * i","sqrt(-1)"],seealso:[]};},function(e){e.exports={name:"Infinity",category:"Constants",syntax:["Infinity"],description:"Infinity, a number which is larger than the maximum number that can be handled by a floating point number.",examples:["Infinity","1 / 0"],seealso:[]};},function(e){e.exports={name:"LN2",category:"Constants",syntax:["LN2"],description:"Returns the natural logarithm of 2, approximately equal to 0.693",examples:["LN2","log(2)"],seealso:[]};},function(e){e.exports={name:"LN10",category:"Constants",syntax:["LN10"],description:"Returns the natural logarithm of 10, approximately equal to 2.302",examples:["LN10","log(10)"],seealso:[]};},function(e){e.exports={name:"LOG2E",category:"Constants",syntax:["LOG2E"],description:"Returns the base-2 logarithm of E, approximately equal to 1.442",examples:["LOG2E","log(e, 2)"],seealso:[]};},function(e){e.exports={name:"LOG10E",category:"Constants",syntax:["LOG10E"],description:"Returns the base-10 logarithm of E, approximately equal to 0.434",examples:["LOG10E","log(e, 10)"],seealso:[]};},function(e){e.exports={name:"NaN",category:"Constants",syntax:["NaN"],description:"Not a number",examples:["NaN","0 / 0"],seealso:[]};},function(e){e.exports={name:"null",category:"Constants",syntax:["null"],description:"Value null",examples:["null"],seealso:["true","false"]};},function(e){e.exports={name:"pi",category:"Constants",syntax:["pi"],description:"The number pi is a mathematical constant that is the ratio of a circle's circumference to its diameter, and is approximately equal to 3.14159",examples:["pi","sin(pi/2)"],seealso:["tau"]};},function(e){e.exports={name:"phi",category:"Constants",syntax:["phi"],description:"Phi is the golden ratio. Two quantities are in the golden ratio if their ratio is the same as the ratio of their sum to the larger of the two quantities. Phi is defined as `(1 + sqrt(5)) / 2` and is approximately 1.618034...",examples:["tau"],seealso:[]};},function(e){e.exports={name:"SQRT1_2",category:"Constants",syntax:["SQRT1_2"],description:"Returns the square root of 1/2, approximately equal to 0.707",examples:["SQRT1_2","sqrt(1/2)"],seealso:[]};},function(e){e.exports={name:"SQRT2",category:"Constants",syntax:["SQRT2"],description:"Returns the square root of 2, approximately equal to 1.414",examples:["SQRT2","sqrt(2)"],seealso:[]};},function(e){e.exports={name:"tau",category:"Constants",syntax:["tau"],description:"Tau is the ratio constant of a circle's circumference to radius, equal to 2 * pi, approximately 6.2832.",examples:["tau","2 * pi"],seealso:["pi"]};},function(e){e.exports={name:"true",category:"Constants",syntax:["true"],description:"Boolean value true",examples:["true"],seealso:["false"]};},function(e){e.exports={name:"version",category:"Constants",syntax:["version"],description:"A string with the version number of math.js",examples:["version"],seealso:[]};},function(e,r,t){"use strict";e.exports=function(e){function r(r){if(!s.hasOwnProperty(r))throw new Error("Unknown distribution "+r);var t=Array.prototype.slice.call(arguments,1),o=s[r].apply(this,t);return function(r){var t={random:function(r,t,i){var s,f,c;if(arguments.length>3)throw new e.error.ArgumentsError("random",arguments.length,0,3);if(1===arguments.length?a(r)?s=r:c=r:2===arguments.length?a(r)?(s=r,c=t):(f=r,c=t):(s=r,f=t,c=i),void 0===c&&(c=1),void 0===f&&(f=0),void 0!==s){var l=u(s.valueOf(),f,c,o);return s instanceof n?new n(l):l;}return o(f,c);},randomInt:function(r,t,i){var o,f,c;if(arguments.length>3||arguments.length<1)throw new e.error.ArgumentsError("randomInt",arguments.length,1,3);if(1===arguments.length?a(r)?o=r:c=r:2===arguments.length?a(r)?(o=r,c=t):(f=r,c=t):(o=r,f=t,c=i),void 0===f&&(f=0),void 0!==o){var l=u(o.valueOf(),f,c,s);return o instanceof n?new n(l):l;}return s(f,c);},pickRandom:function(r){if(1!==arguments.length)throw new e.error.ArgumentsError("pickRandom",arguments.length,1);if(r instanceof n)r=r.valueOf();else{if(!Array.isArray(r))throw new e.error.UnsupportedTypeError("pickRandom",e["typeof"](r));}if(i.size(r).length>1)throw new Error("Only one dimensional vectors supported");return r[Math.floor(Math.random()*r.length)];}},o=function(e,t){return e+r()*(t-e);},s=function(e,t){return Math.floor(e+r()*(t-e));},u=function(e,r,t,n){var i,o,a=[];if(e=e.slice(0),e.length>1)for(o=0,i=e.shift();i>o;o++)a.push(u(e,r,t,n));else for(o=0,i=e.shift();i>o;o++)a.push(n(r,t));return a;};return t;}(o);}var n=t(9),i=t(153),o=t(13),a=o.isCollection,s={uniform:function(){return Math.random;},normal:function(){return function(){for(var e,r,t=-1;0>t||t>1;)e=Math.random(),r=Math.random(),t=1/6*Math.pow(-2*Math.log(e),.5)*Math.cos(2*Math.PI*r)+.5;return t;};}};return r;};},function(e,r,t){function n(e){return t(i(e));}function i(e){return o[e]||function(){throw new Error("Cannot find module '"+e+"'.");}();}var o={"./clone":143,"./clone.js":143,"./filter":144,"./filter.js":144,"./forEach":151,"./forEach.js":151,"./format":145,"./format.js":145,"./import":146,"./import.js":146,"./map":147,"./map.js":147,"./print":148,"./print.js":148,"./sort":149,"./sort.js":149,"./typeof":150,"./typeof.js":150};n.keys=function(){return Object.keys(o);},n.resolve=i,e.exports=n,n.id=195;},function(e,r){"use strict";r.type=function(e){var r=typeof e;if("object"===r){if(null===e)return "null";if(e instanceof Boolean)return "boolean";if(e instanceof Number)return "number";if(e instanceof String)return "string";if(Array.isArray(e))return "array";if(e instanceof Date)return "date";if(e instanceof Function)return "function";if(e instanceof RegExp)return "regexp";}return r;};},function(e){e.exports={name:"abs",category:"Arithmetic",syntax:["abs(x)"],description:"Compute the absolute value.",examples:["abs(3.5)","abs(-4.2)"],seealso:["sign"]};},function(e){e.exports={name:"add",category:"Operators",syntax:["x + y","add(x, y)"],description:"Add two values.",examples:["a = 2.1 + 3.6","a - 3.6","3 + 2i",'"hello" + " world"',"3 cm + 2 inch"],seealso:["subtract"]};},function(e){e.exports={name:"ceil",category:"Arithmetic",syntax:["ceil(x)"],description:"Round a value towards plus infinity. If x is complex, both real and imaginary part are rounded towards plus infinity.",examples:["ceil(3.2)","ceil(3.8)","ceil(-4.2)"],seealso:["floor","fix","round"]};},function(e){e.exports={name:"cube",category:"Arithmetic",syntax:["cube(x)"],description:"Compute the cube of a value. The cube of x is x * x * x.",examples:["cube(2)","2^3","2 * 2 * 2"],seealso:["multiply","square","pow"]};},function(e){e.exports={name:"divide",category:"Operators",syntax:["x / y","divide(x, y)"],description:"Divide two values.",examples:["a = 2 / 3","a * 3","4.5 / 2","3 + 4 / 2","(3 + 4) / 2","18 km / 4.5"],seealso:["multiply"]};},function(e){e.exports={name:"dotDivide",category:"Operators",syntax:["x ./ y","dotDivide(x, y)"],description:"Divide two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a ./ b"],seealso:["multiply","dotMultiply","divide"]};},function(e){e.exports={name:"dotMultiply",category:"Operators",syntax:["x .* y","dotMultiply(x, y)"],description:"Multiply two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a .* b"],seealso:["multiply","divide","dotDivide"]};},function(e){e.exports={name:"dotpow",category:"Operators",syntax:["x .^ y","dotpow(x, y)"],description:"Calculates the power of x to y element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","a .^ 2"],seealso:["pow"]};},function(e){e.exports={name:"exp",category:"Arithmetic",syntax:["exp(x)"],description:"Calculate the exponent of a value.",examples:["exp(1.3)","e ^ 1.3","log(exp(1.3))","x = 2.4","(exp(i*x) == cos(x) + i*sin(x))   # Euler's formula"],seealso:["pow","log"]};},function(e){e.exports={name:"fix",category:"Arithmetic",syntax:["fix(x)"],description:"Round a value towards zero. If x is complex, both real and imaginary part are rounded towards zero.",examples:["fix(3.2)","fix(3.8)","fix(-4.2)","fix(-4.8)"],seealso:["ceil","floor","round"]};},function(e){e.exports={name:"floor",category:"Arithmetic",syntax:["floor(x)"],description:"Round a value towards minus infinity.If x is complex, both real and imaginary part are rounded towards minus infinity.",examples:["floor(3.2)","floor(3.8)","floor(-4.2)"],seealso:["ceil","fix","round"]};},function(e){e.exports={name:"gcd",category:"Arithmetic",syntax:["gcd(a, b)","gcd(a, b, c, ...)"],description:"Compute the greatest common divisor.",examples:["gcd(8, 12)","gcd(-4, 6)","gcd(25, 15, -10)"],seealso:["lcm","xgcd"]};},function(e){e.exports={name:"lcm",category:"Arithmetic",syntax:["lcm(x, y)"],description:"Compute the least common multiple.",examples:["lcm(4, 6)","lcm(6, 21)","lcm(6, 21, 5)"],seealso:["gcd"]};},function(e){e.exports={name:"log",category:"Arithmetic",syntax:["log(x)","log(x, base)"],description:"Compute the logarithm of a value. If no base is provided, the natural logarithm of x is calculated. If base if provided, the logarithm is calculated for the specified base. log(x, base) is defined as log(x) / log(base).",examples:["log(3.5)","a = log(2.4)","exp(a)","10 ^ 4","log(10000, 10)","log(10000) / log(10)","b = log(1024, 2)","2 ^ b"],seealso:["exp","log10"]};},function(e){e.exports={name:"log10",category:"Arithmetic",syntax:["log10(x)"],description:"Compute the 10-base logarithm of a value.",examples:["log10(0.00001)","log10(10000)","10 ^ 4","log(10000) / log(10)","log(10000, 10)"],seealso:["exp","log"]};},function(e){e.exports={name:"mod",category:"Operators",syntax:["x % y","x mod y","mod(x, y)"],description:"Calculates the modulus, the remainder of an integer division.",examples:["7 % 3","11 % 2","10 mod 4","function isOdd(x) = x % 2","isOdd(2)","isOdd(3)"],seealso:["divide"]};},function(e){e.exports={name:"multiply",category:"Operators",syntax:["x * y","multiply(x, y)"],description:"multiply two values.",examples:["a = 2.1 * 3.4","a / 3.4","2 * 3 + 4","2 * (3 + 4)","3 * 2.1 km"],seealso:["divide"]};},function(e){e.exports={name:"norm",category:"Arithmetic",syntax:["norm(x)","norm(x, p)"],description:"Calculate the norm of a number, vector or matrix.",examples:["abs(-3.5)","norm(-3.5)","norm(3 - 4i))","norm([1, 2, -3], Infinity)","norm([1, 2, -3], -Infinity)","norm([3, 4], 2)","norm([[1, 2], [3, 4]], 1)","norm([[1, 2], [3, 4]], 'inf')","norm([[1, 2], [3, 4]], 'fro')"]};},function(e){e.exports={name:"nthRoot",category:"Arithmetic",syntax:["nthRoot(a)","nthRoot(a, root)"],description:'Calculate the nth root of a value. The principal nth root of a positive real number A, is the positive real solution of the equation "x^root = A".',examples:["4 ^ 3","nthRoot(64, 3)","nthRoot(9, 2)","sqrt(9)"],seealso:["sqrt","pow"]};},function(e){e.exports={name:"pow",category:"Operators",syntax:["x ^ y","pow(x, y)"],description:"Calculates the power of x to y, x^y.",examples:["2^3 = 8","2*2*2","1 + e ^ (pi * i)"],seealso:["multiply"]};},function(e){e.exports={name:"round",category:"Arithmetic",syntax:["round(x)","round(x, n)"],description:"round a value towards the nearest integer.If x is complex, both real and imaginary part are rounded towards the nearest integer. When n is specified, the value is rounded to n decimals.",examples:["round(3.2)","round(3.8)","round(-4.2)","round(-4.8)","round(pi, 3)","round(123.45678, 2)"],seealso:["ceil","floor","fix"]};},function(e){e.exports={name:"sign",category:"Arithmetic",syntax:["sign(x)"],description:"Compute the sign of a value. The sign of a value x is 1 when x>1, -1 when x<0, and 0 when x=0.",examples:["sign(3.5)","sign(-4.2)","sign(0)"],seealso:["abs"]};},function(e){e.exports={name:"sqrt",category:"Arithmetic",syntax:["sqrt(x)"],description:"Compute the square root value. If x = y * y, then y is the square root of x.",examples:["sqrt(25)","5 * 5","sqrt(-1)"],seealso:["square","multiply"]};},function(e){e.exports={name:"square",category:"Arithmetic",syntax:["square(x)"],description:"Compute the square of a value. The square of x is x * x.",examples:["square(3)","sqrt(9)","3^2","3 * 3"],seealso:["multiply","pow","sqrt","cube"]};},function(e){e.exports={name:"subtract",category:"Operators",syntax:["x - y","subtract(x, y)"],description:"subtract two values.",examples:["a = 5.3 - 2","a + 2","2/3 - 1/6","2 * 3 - 3","2.1 km - 500m"],seealso:["add"]};},function(e){e.exports={name:"unaryMinus",category:"Operators",syntax:["-x","unaryMinus(x)"],description:"Inverse the sign of a value. Converts booleans and strings to numbers.",examples:["-4.5","-(-5.6)",'-"22"'],seealso:["add","subtract","unaryPlus"]};},function(e){e.exports={name:"unaryPlus",category:"Operators",syntax:["+x","unaryPlus(x)"],description:"Converts booleans and strings to numbers.",examples:["+true",'+"2"'],seealso:["add","subtract","unaryMinus"]};},function(e){e.exports={name:"xgcd",category:"Arithmetic",syntax:["xgcd(a, b)"],description:"Calculate the extended greatest common divisor for two values",examples:["xgcd(8, 12)","gcd(8, 12)","xgcd(36163, 21199)"],seealso:["gcd","lcm"]};},function(e){e.exports={name:"bitAnd",category:"Bitwise",syntax:["x & y","bitAnd(x, y)"],description:"Bitwise AND operation. Performs the logical AND operation on each pair of the corresponding bits of the two given values by multiplying them. If both bits in the compared position are 1, the bit in the resulting binary representation is 1, otherwise, the result is 0",examples:["5 & 3","bitAnd(53, 131)","[1, 12, 31] & 42"],seealso:["bitNot","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]};},function(e){e.exports={name:"bitNot",category:"Bitwise",syntax:["~x","bitNot(x)"],description:"Bitwise NOT operation. Performs a logical negation on each bit of the given value. Bits that are 0 become 1, and those that are 1 become 0.",examples:["~1","~2","bitNot([2, -3, 4])"],seealso:["bitAnd","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]};},function(e){e.exports={name:"bitOr",category:"Bitwise",syntax:["x | y","bitOr(x, y)"],description:"Bitwise OR operation. Performs the logical inclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if the first bit is 1 or the second bit is 1 or both bits are 1, otherwise, the result is 0.",examples:["5 | 3","bitOr([1, 2, 3], 4)"],seealso:["bitAnd","bitNot","bitXor","leftShift","rightArithShift","rightLogShift"]};},function(e){e.exports={name:"bitXor",category:"Bitwise",syntax:["bitXor(x, y)"],description:"Bitwise XOR operation, exclusive OR. Performs the logical exclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if only the first bit is 1 or only the second bit is 1, but will be 0 if both are 0 or both are 1.",examples:["bitOr(1, 2)","bitXor([2, 3, 4], 4)"],seealso:["bitAnd","bitNot","bitOr","leftShift","rightArithShift","rightLogShift"]};},function(e){e.exports={name:"leftShift",category:"Bitwise",syntax:["x << y","leftShift(x, y)"],description:"Bitwise left logical shift of a value x by y number of bits.",examples:["4 << 1","8 >> 1"],seealso:["bitAnd","bitNot","bitOr","bitXor","rightArithShift","rightLogShift"]};},function(e){e.exports={name:"rightArithShift",category:"Bitwise",syntax:["x >> y","leftShift(x, y)"],description:"Bitwise right arithmetic shift of a value x by y number of bits.",examples:["8 >> 1","4 << 1","-12 >> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightLogShift"]};},function(e){e.exports={name:"rightLogShift",category:"Bitwise",syntax:["x >> y","leftShift(x, y)"],description:"Bitwise right logical shift of a value x by y number of bits.",examples:["8 >>> 1","4 << 1","-12 >>> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightArithShift"]};},function(e){e.exports={name:"arg",category:"Complex",syntax:["arg(x)"],description:"Compute the argument of a complex value. If x = a+bi, the argument is computed as atan2(b, a).",examples:["arg(2 + 2i)","atan2(3, 2)","arg(2 + 3i)"],seealso:["re","im","conj","abs"]};},function(e){e.exports={name:"conj",category:"Complex",syntax:["conj(x)"],description:"Compute the complex conjugate of a complex value. If x = a+bi, the complex conjugate is a-bi.",examples:["conj(2 + 3i)","conj(2 - 3i)","conj(-5.2i)"],seealso:["re","im","abs","arg"]};},function(e){e.exports={name:"re",category:"Complex",syntax:["re(x)"],description:"Get the real part of a complex number.",examples:["re(2 + 3i)","im(2 + 3i)","re(-5.2i)","re(2.4)"],seealso:["im","conj","abs","arg"]};},function(e){e.exports={name:"im",category:"Complex",syntax:["im(x)"],description:"Get the imaginary part of a complex number.",examples:["im(2 + 3i)","re(2 + 3i)","im(-5.2i)","im(2.4)"],seealso:["re","conj","abs","arg"]};},function(e){e.exports={name:"bignumber",category:"Type",syntax:["bignumber(x)"],description:"Create a big number from a number or string.",examples:["0.1 + 0.2","bignumber(0.1) + bignumber(0.2)",'bignumber("7.2")','bignumber("7.2e500")',"bignumber([0.1, 0.2, 0.3])"],seealso:["boolean","complex","index","matrix","string","unit"]};},function(e){e.exports={name:"boolean",category:"Type",syntax:["x","boolean(x)"],description:"Convert a string or number into a boolean.",examples:["boolean(0)","boolean(1)","boolean(3)",'boolean("true")','boolean("false")',"boolean([1, 0, 1, 1])"],seealso:["bignumber","complex","index","matrix","number","string","unit"]};},function(e){e.exports={name:"complex",category:"Type",syntax:["complex()","complex(re, im)","complex(string)"],description:"Create a complex number.",examples:["complex()","complex(2, 3)",'complex("7 - 2i")'],seealso:["bignumber","boolean","index","matrix","number","string","unit"]};},function(e){e.exports={name:"index",category:"Type",syntax:["[start]","[start:end]","[start:step:end]","[start1, start 2, ...]","[start1:end1, start2:end2, ...]","[start1:step1:end1, start2:step2:end2, ...]"],description:"Create an index to get or replace a subset of a matrix",examples:["[]","[1, 2, 3]","A = [1, 2, 3; 4, 5, 6]","A[1, :]","A[1, 2] = 50","A[0:2, 0:2] = ones(2, 2)"],seealso:["bignumber","boolean","complex","matrix,","number","range","string","unit"]};},function(e){e.exports={name:"matrix",category:"Type",syntax:["[]","[a1, b1, ...; a2, b2, ...]","matrix()","matrix([...])"],description:"Create a matrix.",examples:["[]","[1, 2, 3]","[1, 2, 3; 4, 5, 6]","matrix()","matrix([3, 4])"],seealso:["bignumber","boolean","complex","index","number","string","unit"]};},function(e){e.exports={name:"number",category:"Type",syntax:["x","number(x)"],description:"Create a number or convert a string or boolean into a number.",examples:["2","2e3","4.05","number(2)",'number("7.2")',"number(true)","number([true, false, true, true])",'number("52cm", "m")'],seealso:["bignumber","boolean","complex","index","matrix","string","unit"]};},function(e){e.exports={name:"string",category:"Type",syntax:['"text"',"string(x)"],description:"Create a string or convert a value to a string",examples:['"Hello World!"',"string(4.2)","string(3 + 2i)"],seealso:["bignumber","boolean","complex","index","matrix","number","unit"]};},function(e){e.exports={name:"unit",category:"Type",syntax:["value unit","unit(value, unit)","unit(string)"],description:"Create a unit.",examples:["5.5 mm","3 inch",'unit(7.1, "kilogram")','unit("23 deg")'],seealso:["bignumber","boolean","complex","index","matrix","number","string"]};},function(e){e.exports={name:"eval",category:"Expression",syntax:["eval(expression)","eval([expr1, expr2, expr3, ...])"],description:"Evaluate an expression or an array with expressions.",examples:['eval("2 + 3")','eval("sqrt(" + 4 + ")")'],seealso:[]};},function(e){e.exports={name:"help",category:"Expression",syntax:["help(object)","help(string)"],description:"Display documentation on a function or data type.",examples:["help(sqrt)",'help("complex")'],seealso:[]};},function(e){e.exports={name:"and",category:"Logical",syntax:["x and y","and(x, y)"],description:"Logical and. Test whether two values are both defined with a nonzero/nonempty value.",examples:["true and false","true and true","2 and 4"],seealso:["not","or","xor"]};},function(e){e.exports={name:"not",category:"Logical",syntax:["!x","not x","not(x)"],description:"Logical not. Flips the boolean value of given argument.",examples:["!true","not false","!2","!0"],seealso:["and","or","xor"]};},function(e){e.exports={name:"or",category:"Logical",syntax:["x or y","or(x, y)"],description:"Logical or. Test if at least one value is defined with a nonzero/nonempty value.",examples:["true or false","false or false","0 or 4"],seealso:["not","and","xor"]};},function(e){e.exports={name:"xor",category:"Logical",syntax:["x or y","or(x, y)"],description:"Logical exclusive or, xor. Test whether one and only one value is defined with a nonzero/nonempty value.",examples:["true xor false","false xor false","true xor true","0 or 4"],seealso:["not","and","or"]};},function(e){e.exports={name:"concat",category:"Matrix",syntax:["concat(A, B, C, ...)","concat(A, B, C, ..., dim)"],description:"Concatenate matrices. By default, the matrices are concatenated by the last dimension. The dimension on which to concatenate can be provided as last argument.",examples:["A = [1, 2; 5, 6]","B = [3, 4; 7, 8]","concat(A, B)","concat(A, B, 1)","concat(A, B, 2)"],seealso:["det","diag","eye","inv","ones","range","size","squeeze","subset","transpose","zeros"]};},function(e){e.exports={name:"cross",category:"Matrix",syntax:["cross(A, B)"],description:"Calculate the cross product for two vectors in three dimensional space.",examples:["cross([1, 1, 0],  [0, 1, 1])","cross([3, -3, 1], [4, 9, 2])","cross([2, 3, 4],  [5, 6, 7])"],seealso:["multiply","dot"]};},function(e){e.exports={name:"det",category:"Matrix",syntax:["det(x)"],description:"Calculate the determinant of a matrix",examples:["det([1, 2; 3, 4])","det([-2, 2, 3; -1, 1, 3; 2, 0, -1])"],seealso:["concat","diag","eye","inv","ones","range","size","squeeze","subset","transpose","zeros"]};},function(e){e.exports={name:"diag",category:"Matrix",syntax:["diag(x)","diag(x, k)"],description:"Create a diagonal matrix or retrieve the diagonal of a matrix. When x is a vector, a matrix with the vector values on the diagonal will be returned. When x is a matrix, a vector with the diagonal values of the matrix is returned. When k is provided, the k-th diagonal will be filled in or retrieved, if k is positive, the values are placed on the super diagonal. When k is negative, the values are placed on the sub diagonal.",examples:["diag(1:3)","diag(1:3, 1)","a = [1, 2, 3; 4, 5, 6; 7, 8, 9]","diag(a)"],seealso:["concat","det","eye","inv","ones","range","size","squeeze","subset","transpose","zeros"]};},function(e){e.exports={name:"dot",category:"Matrix",syntax:["dot(A, B)"],description:"Calculate the dot product of two vectors. The dot product of A = [a1, a2, a3, ..., an] and B = [b1, b2, b3, ..., bn] is defined as dot(A, B) = a1 * b1 + a2 * b2 + a3 * b3 + ... + an * bn",examples:["dot([2, 4, 1], [2, 2, 3])","[2, 4, 1] * [2, 2, 3]"],seealso:["multiply","cross"]};},function(e){e.exports={name:"eye",category:"Matrix",syntax:["eye(n)","eye(m, n)","eye([m, n])","eye"],description:"Returns the identity matrix with size m-by-n. The matrix has ones on the diagonal and zeros elsewhere.",examples:["eye(3)","eye(3, 5)","a = [1, 2, 3; 4, 5, 6]","eye(size(a))"],seealso:["concat","det","diag","inv","ones","range","size","squeeze","subset","transpose","zeros"]};},function(e){e.exports={name:"flatten",category:"Matrix",syntax:["flatten(x)"],description:"Flatten a multi dimensional matrix into a single dimensional matrix.",examples:["a = [1, 2, 3; 4, 5, 6]","size(a)","b = flatten(a)","size(b)"],seealso:["concat","resize","size","squeeze"]};},function(e){e.exports={name:"inv",category:"Matrix",syntax:["inv(x)"],description:"Calculate the inverse of a matrix",examples:["inv([1, 2; 3, 4])","inv(4)","1 / 4"],seealso:["concat","det","diag","eye","ones","range","size","squeeze","subset","transpose","zeros"]};},function(e){e.exports={name:"ones",category:"Matrix",syntax:["ones(m)","ones(m, n)","ones(m, n, p, ...)","ones([m])","ones([m, n])","ones([m, n, p, ...])","ones"],description:"Create a matrix containing ones.",examples:["ones(3)","ones(3, 5)","ones([2,3]) * 4.5","a = [1, 2, 3; 4, 5, 6]","ones(size(a))"],seealso:["concat","det","diag","eye","inv","range","size","squeeze","subset","transpose","zeros"]};},function(e){e.exports={name:"range",category:"Type",syntax:["start:end","start:step:end","range(start, end)","range(start, end, step)","range(string)"],description:"Create a range. Lower bound of the range is included, upper bound is excluded.",examples:["1:5","3:-1:-3","range(3, 7)","range(0, 12, 2)",'range("4:10")',"a = [1, 2, 3, 4; 5, 6, 7, 8]","a[1:2, 1:2]"],seealso:["concat","det","diag","eye","inv","ones","size","squeeze","subset","transpose","zeros"]};},function(e){e.exports={name:"resize",category:"Matrix",syntax:["resize(x, size)","resize(x, size, defaultValue)"],description:"Resize a matrix.",examples:["resize([1,2,3,4,5], [3])","resize([1,2,3], [5])","resize([1,2,3], [5], -1)","resize(2, [2, 3])",'resize("hello", [8], "!")'],seealso:["size","subset","squeeze"]};},function(e){e.exports={name:"size",category:"Matrix",syntax:["size(x)"],description:"Calculate the size of a matrix.",examples:["size(2.3)",'size("hello world")',"a = [1, 2; 3, 4; 5, 6]","size(a)","size(1:6)"],seealso:["concat","det","diag","eye","inv","ones","range","squeeze","subset","transpose","zeros"]};},function(e){e.exports={name:"squeeze",category:"Matrix",syntax:["squeeze(x)"],description:"Remove inner and outer singleton dimensions from a matrix.",examples:["a = zeros(3,2,1)","size(squeeze(a))","b = zeros(1,1,3)","size(squeeze(b))"],seealso:["concat","det","diag","eye","inv","ones","range","size","subset","transpose","zeros"]};},function(e){e.exports={name:"subset",category:"Matrix",syntax:["value(index)","value(index) = replacement","subset(value, [index])","subset(value, [index], replacement)"],description:"Get or set a subset of a matrix or string. Indexes are one-based. Both the ranges lower-bound and upper-bound are included.",examples:["d = [1, 2; 3, 4]","e = []","e[1, 1:2] = [5, 6]","e[2, :] = [7, 8]","f = d * e","f[2, 1]","f[:, 1]"],seealso:["concat","det","diag","eye","inv","ones","range","size","squeeze","transpose","zeros"]};},function(e){e.exports={name:"transpose",category:"Matrix",syntax:["x'","transpose(x)"],description:"Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","transpose(a)"],seealso:["concat","det","diag","eye","inv","ones","range","size","squeeze","subset","zeros"]};},function(e){e.exports={name:"zeros",category:"Matrix",syntax:["zeros(m)","zeros(m, n)","zeros(m, n, p, ...)","zeros([m])","zeros([m, n])","zeros([m, n, p, ...])","zeros"],description:"Create a matrix containing zeros.",examples:["zeros(3)","zeros(3, 5)","a = [1, 2, 3; 4, 5, 6]","zeros(size(a))"],seealso:["concat","det","diag","eye","inv","ones","range","size","squeeze","subset","transpose"]};},function(e){e.exports={name:"combinations",category:"Probability",syntax:["combinations(n, k)"],description:"Compute the number of combinations of n items taken k at a time",examples:["combinations(7, 5)"],seealso:["permutations","factorial"]};},function(e){e.exports={name:"factorial",category:"Probability",syntax:["n!","factorial(n)"],description:"Compute the factorial of a value",examples:["5!","5 * 4 * 3 * 2 * 1","3!"],seealso:["combinations","permutations","gamma"]};},function(e){e.exports={name:"gamma",category:"Probability",syntax:["gamma(n)"],description:"Compute the gamma function. For small values, the Lanczos approximation is used, and for large values the extended Stirling approximation.",examples:["gamma(4)","3!","gamma(1/2)","sqrt(pi)"],seealso:["factorial"]};},function(e){e.exports={name:"permutations",category:"Probability",syntax:["permutations(n)","permutations(n, k)"],description:"Compute the number of permutations of n items taken k at a time",examples:["permutations(5)","permutations(5, 3)"],seealso:["combinations","factorial"]};},function(e){e.exports={name:"pickRandom",category:"Probability",syntax:["pickRandom(array)"],description:"Pick a random entry from a given array.",examples:["pickRandom(0:10)","pickRandom([1, 3, 1, 6])"],seealso:["random","randomInt"]};},function(e){e.exports={name:"random",category:"Probability",syntax:["random()","random(max)","random(min, max)","random(size)","random(size, max)","random(size, min, max)"],description:"Return a random number.",examples:["random()","random(10, 20)","random([2, 3])"],seealso:["pickRandom","randomInt"]};},function(e){e.exports={name:"randInt",category:"Probability",syntax:["randInt()","randInt(max)","randInt(min, max)","randInt(size)","randInt(size, max)","randInt(size, min, max)"],description:"Return a random integer number",examples:["randInt()","randInt(10, 20)","randInt([2, 3], 10)"],seealso:["pickRandom","random"]};},function(e){e.exports={name:"compare",category:"Relational",syntax:["compare(x, y)"],description:"Compare two values. Returns 1 if x is larger than y, -1 if x is smaller than y, and 0 if x and y are equal.",examples:["compare(2, 3)","compare(3, 2)","compare(2, 2)","compare(5cm, 40mm)","compare(2, [1, 2, 3])"],seealso:["equal","unequal","smaller","smallerEq","largerEq"]};},function(e){e.exports={name:"deepEqual",category:"Relational",syntax:["deepEqual(x, y)"],description:"Check equality of two matrices element wise. Returns true if the size of both matrices is equal and when and each of the elements are equal.",examples:["[1,3,4] == [1,3,4]","[1,3,4] == [1,3]"],seealso:["equal","unequal","smaller","larger","smallerEq","largerEq","compare"]};},function(e){e.exports={name:"equal",category:"Relational",syntax:["x == y","equal(x, y)"],description:"Check equality of two values. Returns true if the values are equal, and false if not.",examples:["2+2 == 3","2+2 == 4","a = 3.2","b = 6-2.8","a == b","50cm == 0.5m"],seealso:["unequal","smaller","larger","smallerEq","largerEq","compare","deepEqual"]};},function(e){e.exports={name:"larger",category:"Relational",syntax:["x > y","larger(x, y)"],description:"Check if value x is larger than y. Returns true if x is larger than y, and false if not.",examples:["2 > 3","5 > 2*2","a = 3.3","b = 6-2.8","(a > b)","(b < a)","5 cm > 2 inch"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare"]};},function(e){e.exports={name:"largerEq",category:"Relational",syntax:["x >= y","largerEq(x, y)"],description:"Check if value x is larger or equal to y. Returns true if x is larger or equal to y, and false if not.",examples:["2 > 1+1","2 >= 1+1","a = 3.2","b = 6-2.8","(a > b)"],seealso:["equal","unequal","smallerEq","smaller","largerEq","compare"]};},function(e){e.exports={name:"smaller",category:"Relational",syntax:["x < y","smaller(x, y)"],description:"Check if value x is smaller than value y. Returns true if x is smaller than y, and false if not.",examples:["2 < 3","5 < 2*2","a = 3.3","b = 6-2.8","(a < b)","5 cm < 2 inch"],seealso:["equal","unequal","larger","smallerEq","largerEq","compare"]};},function(e){e.exports={name:"smallerEq",category:"Relational",syntax:["x <= y","smallerEq(x, y)"],description:"Check if value x is smaller or equal to value y. Returns true if x is smaller than y, and false if not.",examples:["2 < 1+1","2 <= 1+1","a = 3.2","b = 6-2.8","(a < b)"],seealso:["equal","unequal","larger","smaller","largerEq","compare"]};},function(e){e.exports={name:"unequal",category:"Relational",syntax:["x != y","unequal(x, y)"],description:"Check unequality of two values. Returns true if the values are unequal, and false if they are equal.",examples:["2+2 != 3","2+2 != 4","a = 3.2","b = 6-2.8","a != b","50cm != 0.5m","5 cm != 2 inch"],seealso:["equal","smaller","larger","smallerEq","largerEq","compare","deepEqual"]};},function(e){e.exports={name:"max",category:"Statistics",syntax:["max(a, b, c, ...)","max(A)","max(A, dim)"],description:"Compute the maximum value of a list of values.",examples:["max(2, 3, 4, 1)","max([2, 3, 4, 1])","max([2, 5; 4, 3], 0)","max([2, 5; 4, 3], 1)","max(2.7, 7.1, -4.5, 2.0, 4.1)","min(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["mean","median","min","prod","std","sum","var"]};},function(e){e.exports={name:"mean",category:"Statistics",syntax:["mean(a, b, c, ...)","mean(A)","mean(A, dim)"],description:"Compute the arithmetic mean of a list of values.",examples:["mean(2, 3, 4, 1)","mean([2, 3, 4, 1])","mean([2, 5; 4, 3], 0)","mean([2, 5; 4, 3], 1)","mean([1.0, 2.7, 3.2, 4.0])"],seealso:["max","median","min","prod","std","sum","var"]};},function(e){e.exports={name:"median",category:"Statistics",syntax:["median(a, b, c, ...)","median(A)"],description:"Compute the median of all values. The values are sorted and the middle value is returned. In case of an even number of values, the average of the two middle values is returned.",examples:["median(5, 2, 7)","median([3, -1, 5, 7])"],seealso:["max","mean","min","prod","std","sum","var"]};},function(e){e.exports={name:"min",category:"Statistics",syntax:["min(a, b, c, ...)","min(A)","min(A, dim)"],description:"Compute the minimum value of a list of values.",examples:["min(2, 3, 4, 1)","min([2, 3, 4, 1])","min([2, 5; 4, 3], 0)","min([2, 5; 4, 3], 1)","min(2.7, 7.1, -4.5, 2.0, 4.1)","max(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["max","mean","median","prod","std","sum","var"]};},function(e){e.exports={name:"prod",category:"Statistics",syntax:["prod(a, b, c, ...)","prod(A)"],description:"Compute the product of all values.",examples:["prod(2, 3, 4)","prod([2, 3, 4])","prod([2, 5; 4, 3])"],seealso:["max","mean","min","median","min","std","sum","var"]};},function(e){e.exports={name:"std",category:"Statistics",syntax:["std(a, b, c, ...)","std(A)","std(A, normalization)"],description:'Compute the standard deviation of all values, defined as std(A) = sqrt(var(A)). Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["std(2, 4, 6)","std([2, 4, 6, 8])",'std([2, 4, 6, 8], "uncorrected")','std([2, 4, 6, 8], "biased")',"std([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","min","prod","sum","var"]};},function(e){e.exports={name:"sum",category:"Statistics",syntax:["sum(a, b, c, ...)","sum(A)"],description:"Compute the sum of all values.",examples:["sum(2, 3, 4, 1)","sum([2, 3, 4, 1])","sum([2, 5; 4, 3])"],seealso:["max","mean","median","min","prod","std","sum","var"]};},function(e){e.exports={name:"var",category:"Statistics",syntax:["var(a, b, c, ...)","var(A)","var(A, normalization)"],description:'Compute the variance of all values. Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["var(2, 4, 6)","var([2, 4, 6, 8])",'var([2, 4, 6, 8], "uncorrected")','var([2, 4, 6, 8], "biased")',"var([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","min","prod","std","sum"]};},function(e){e.exports={name:"acos",category:"Trigonometry",syntax:["acos(x)"],description:"Compute the inverse cosine of a value in radians.",examples:["acos(0.5)","acos(cos(2.3))"],seealso:["cos","atan","asin"]};},function(e){e.exports={name:"asin",category:"Trigonometry",syntax:["asin(x)"],description:"Compute the inverse sine of a value in radians.",examples:["asin(0.5)","asin(sin(2.3))"],seealso:["sin","acos","atan"]};},function(e){e.exports={name:"atan",category:"Trigonometry",syntax:["atan(x)"],description:"Compute the inverse tangent of a value in radians.",examples:["atan(0.5)","atan(tan(2.3))"],seealso:["tan","acos","asin"]};},function(e){e.exports={name:"atan2",category:"Trigonometry",syntax:["atan2(y, x)"],description:"Computes the principal value of the arc tangent of y/x in radians.",examples:["atan2(2, 2) / pi","angle = 60 deg in rad","x = cos(angle)","y = sin(angle)","atan2(y, x)"],seealso:["sin","cos","tan"]};},function(e){e.exports={name:"cos",category:"Trigonometry",syntax:["cos(x)"],description:"Compute the cosine of x in radians.",examples:["cos(2)","cos(pi / 4) ^ 2","cos(180 deg)","cos(60 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["acos","sin","tan"]};},function(e){e.exports={name:"cosh",category:"Trigonometry",syntax:["cosh(x)"],description:"Compute the hyperbolic cosine of x in radians.",examples:["cosh(0.5)"],seealso:["sinh","tanh","coth"]};},function(e){e.exports={name:"cot",category:"Trigonometry",syntax:["cot(x)"],description:"Compute the cotangent of x in radians. Defined as 1/tan(x)",examples:["cot(2)","1 / tan(2)"],seealso:["sec","csc","tan"]};},function(e){e.exports={name:"coth",category:"Trigonometry",syntax:["coth(x)"],description:"Compute the hyperbolic cotangent of x in radians.",examples:["coth(2)","1 / tanh(2)"],seealso:["sech","csch","tanh"]};},function(e){e.exports={name:"csc",category:"Trigonometry",syntax:["csc(x)"],description:"Compute the cosecant of x in radians. Defined as 1/sin(x)",examples:["csc(2)","1 / sin(2)"],seealso:["sec","cot","sin"]};},function(e){e.exports={name:"csch",category:"Trigonometry",syntax:["csch(x)"],description:"Compute the hyperbolic cosecant of x in radians. Defined as 1/sinh(x)",examples:["csch(2)","1 / sinh(2)"],seealso:["sech","coth","sinh"]};},function(e){e.exports={name:"sec",category:"Trigonometry",syntax:["sec(x)"],description:"Compute the secant of x in radians. Defined as 1/cos(x)",examples:["sec(2)","1 / cos(2)"],seealso:["cot","csc","cos"]};},function(e){e.exports={name:"sech",category:"Trigonometry",syntax:["sech(x)"],description:"Compute the hyperbolic secant of x in radians. Defined as 1/cosh(x)",examples:["sech(2)","1 / cosh(2)"],seealso:["coth","csch","cosh"]};},function(e){e.exports={name:"sin",category:"Trigonometry",syntax:["sin(x)"],description:"Compute the sine of x in radians.",examples:["sin(2)","sin(pi / 4) ^ 2","sin(90 deg)","sin(30 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["asin","cos","tan"]};},function(e){e.exports={name:"sinh",category:"Trigonometry",syntax:["sinh(x)"],description:"Compute the hyperbolic sine of x in radians.",examples:["sinh(0.5)"],seealso:["cosh","tanh"]};},function(e){e.exports={name:"tan",category:"Trigonometry",syntax:["tan(x)"],description:"Compute the tangent of x in radians.",examples:["tan(0.5)","sin(0.5) / cos(0.5)","tan(pi / 4)","tan(45 deg)"],seealso:["atan","sin","cos"]};},function(e){e.exports={name:"tanh",category:"Trigonometry",syntax:["tanh(x)"],description:"Compute the hyperbolic tangent of x in radians.",examples:["tanh(0.5)","sinh(0.5) / cosh(0.5)"],seealso:["sinh","cosh"]};},function(e){e.exports={name:"to",category:"Units",syntax:["x to unit","to(x, unit)"],description:"Change the unit of a value.",examples:["5 inch to cm","3.2kg to g","16 bytes in bits"],seealso:[]};},function(e){e.exports={name:"clone",category:"Utils",syntax:["clone(x)"],description:"Clone a variable. Creates a copy of primitive variables,and a deep copy of matrices",examples:["clone(3.5)","clone(2 - 4i)","clone(45 deg)","clone([1, 2; 3, 4])",'clone("hello world")'],seealso:[]};},function(e){e.exports={name:"map",category:"Utils",syntax:["map(x, callback)"],description:"Create a new matrix or array with the results of the callback function executed on each entry of the matrix/array.",examples:["map([1, 2, 3], function(val) { return value * value })"],seealso:["filter","forEach"]};},function(e){e.exports={name:"filter",category:"Utils",syntax:["filter(x, test)"],description:"Filter items in a matrix.",examples:["isPositive(x) = x > 0","filter([6, -2, -1, 4, 3], isPositive)","filter([6, -2, 0, 1, 0], x != 0)"],seealso:["sort","map","forEach"]};},function(e){e.exports={name:"forEach",category:"Utils",syntax:["forEach(x, callback)"],description:"Iterates over all elements of a matrix/array, and executes the given callback function.",examples:["forEach([1, 2, 3], function(val) { console.log(val) })"],seealso:["map","sort","filter"]};},function(e){e.exports={name:"format",category:"Utils",syntax:["format(value)","format(value, precision)"],description:"Format a value of any type as string.",examples:["format(2.3)","format(3 - 4i)","format([])","format(pi, 3)"],seealso:["print"]};},function(e){e.exports={name:"import",category:"Utils",syntax:["import(string)"],description:"Import functions from a file.",examples:['import("numbers")','import("./mylib.js")'],seealso:[]};},function(e){e.exports={name:"sort",category:"Utils",syntax:["sort(x)","sort(x, compare)"],description:'Sort the items in a matrix. Compare can be a string "asc" or "desc", or a custom sort function.',examples:["sort([5, 10, 1])",'sort(["C", "B", "A", "D"])',"sortByLength(a, b) = size(a)[1] - size(b)[1]",'sort(["Langdon", "Tom", "Sara"], sortByLength)'],seealso:["map","filter","forEach"]};},function(e){e.exports={name:"typeof",category:"Utils",syntax:["typeof(x)"],description:"Get the type of a variable.",examples:["typeof(3.5)","typeof(2 - 4i)","typeof(45 deg)",'typeof("hello world")'],seealso:[]};},function(e){"use strict";e.exports={end:!0};},function(e,r,t){"use strict";function n(){for(var e,r=Array.prototype.slice.call(arguments),t=0,n=r.length;n>t;t++){e=r[t];for(var i in e)e.hasOwnProperty(i)&&(w[i]=e[i]);}}function i(e,r){return "undefined"!=typeof e[r];}function o(e){return function(r){return i(e,r);};}function a(e){return function(t){if("boolean"==typeof e[t])t=e[t]===!0?"\\"+t:"\\mathrm{"+t+"}";else if("string"==typeof e[t])t=e[t];else{if("string"==typeof t){var n=t.indexOf("_");-1!==n&&(t=r.toSymbol(t.substring(0,n))+"_{"+r.toSymbol(t.substring(n+1))+"}");}}return t;};}var s=t(161),u=t(168),f={Alpha:"A",alpha:!0,Beta:"B",beta:!0,Gamma:!0,gamma:!0,Delta:!0,delta:!0,Epsilon:"E",epsilon:!0,varepsilon:!0,Zeta:"Z",zeta:!0,Eta:"H",eta:!0,Theta:!0,theta:!0,vartheta:!0,Iota:"I",iota:!0,Kappa:"K",kappa:!0,varkappa:!0,Lambda:!0,lambda:!0,Mu:"M",mu:!0,Nu:"N",nu:!0,Xi:!0,xi:!0,Omicron:"O",omicron:!0,Pi:!0,pi:!0,varpi:!0,Rho:"P",rho:!0,varrho:!0,Sigma:!0,sigma:!0,varsigma:!0,Tau:"T",tau:!0,Upsilon:!0,upsilon:!0,Phi:!0,phi:!0,varphi:!0,Chi:"X",chi:!0,Psi:!0,psi:!0,Omega:!0,omega:!0},c={dots:!0,ldots:!0,cdots:!0,vdots:!0,ddots:!0,idots:!0},l={"true":"\\mathrm{True}","false":"\\mathrm{False}"},p={inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:!0,undefined:"\\mathbf{?}"},m={acos:"\\cos^{-1}",arccos:"\\cos^{-1}",cos:!0,csc:!0,csch:!1,exp:!0,ker:!0,limsup:!0,min:!0,sinh:!0,asin:"\\sin^{-1}",arcsin:"\\sin^{-1}",cosh:!0,deg:!0,gcd:!0,lg:!0,ln:!0,Pr:!0,sup:!0,atan:"\\tan^{-1}",atan2:"\\tan2^{-1}",arctan:"\\tan^{-1}",cot:!0,det:!0,hom:!0,log:!0,log10:"\\log_{10}",sec:!0,sech:!1,tan:!0,arg:!0,coth:!0,dim:!0,inf:!0,max:!0,sin:!0,tanh:!0,fix:!1,lcm:!1,sign:!1,xgcd:!1,unaryMinus:!1,unaryPlus:!1,complex:!1,conj:!1,im:!1,re:!1,diag:!1,resize:!1,size:!1,squeeze:!1,subset:!1,index:!1,ones:!1,zeros:!1,range:!1,random:!1,mean:"\\mu",median:!1,prod:!1,std:"\\sigma","var":"\\sigma^2"},h={sqrt:!0,inv:!0,"int":"\\int",Int:"\\int",integrate:"\\int",eigenvalues:"\\lambda",liminf:!0,lim:!0,exp:"e^",sum:!0,eye:"\\mathbf{I}"},g={"<=":"\\leq",">=":"\\geq","!=":"\\neq","in":!0,"*":"\\cdot","/":"\\frac",mod:"\\bmod",to:"\\rightarrow"},d={deg:"^{\\circ}"},w={};n(m,h,f,c,l,p),r.isSymbol=o(w),r.toSymbol=a(w),r.isFunction=o(m),r.toFunction=a(m),r.isCurlyFunction=o(h),r.toCurlyFunction=a(h),r.isOperator=o(g),r.toOperator=a(g),r.isUnit=o(d),r.toUnit=function(){var e=a(d);return function(t,n){return r.isUnit(t)?e(t):(n?"":"\\,")+"\\mathrm{"+t+"}";};}(),r.addBraces=function(e,r,t){if(null===r)return e;var n=["",""];switch(t=t||"normal","undefined"==typeof r||r===!1?n=["{","}"]:r===!0?(n=["(",")"],t="lr"):n=Array.isArray(r)&&2===r.length?r:[r,r],t){case "normal":case !1:return n[0]+e+n[1];case "lr":return "\\left"+n[0]+"{"+e+"}\\right"+n[1];case "be":return "\\begin{"+n[0]+"}"+e+"\\end{"+n[1]+"}";}return n[0]+e+n[1];},r.toArgs=function(e){var t=e.name,n=e.args,i=r.toSymbol(e.name),o=null,a=null,f=!1,c=!1,l="",p="",m=null;switch(t){case "add":m="+";break;case "subtract":m="-";break;case "larger":m=">";break;case "largerEq":m=">=";break;case "smaller":m="<";break;case "smallerEq":m="<=";break;case "unequal":m="!=";break;case "equal":m="=";break;case "mod":m="mod";break;case "multiply":m="*";break;case "pow":m="^";break;case "concat":m="||";break;case "factorial":m="!";break;case "permutations":if(1!==n.length){var h=n[0].toTex(),g=n[1].toTex();return "\\frac{"+h+"!}{\\left("+h+" - "+g+"\\right)!}";}m="!";break;case "combinations":m="\\choose";break;case "abs":a="|",f="lr";break;case "norm":if(a="\\|",f="lr",2===n.length){var d=n[1].toTex();"\\text{inf}"===d?d="\\infty":"\\text{-inf}"===d?d="{- \\infty}":"\\text{fro}"===d&&(d="F"),p="_{"+d+"}",n=[n[0]];}break;case "ceil":a=["\\lceil","\\rceil"],f="lr";break;case "floor":a=["\\lfloor","\\rfloor"],f="lr";break;case "round":a=["\\lfloor","\\rceil"],f="lr",2===n.length&&(p="_"+r.addBraces(n[1].toTex()),n=[n[0]]);break;case "inv":p="^{-1}";break;case "transpose":p="^{T}",a=!1;break;case "log":var w="e";2===n.length&&(w=n[1].toTex(),i="\\log_{"+w+"}",n=[n[0]]),"e"===w&&(i="\\ln"),c=!0;break;case "square":p="^{2}";break;case "cube":p="^{3}";break;case "eye":c=!0,a=!1,i+="_";break;case "det":if(e.args[0] instanceof s)return e.args[0].toTex("vmatrix");a="vmatrix",f="be";break;default:c=!0;}return null!==m?(a="+"===m||"-"===m,o=new u(m,t,n).toTex()):m=", ",null!==a||r.isCurlyFunction(t)||(a=!0),o=o||n.map(function(e){return "{"+e.toTex()+"}";}).join(m),l+(c?i:"")+r.addBraces(o,a,f)+p;};}]);});;
(function(b){if(typeof define==="function"&&define.amd&&define.amd.jQuery)define(["jquery"],b);else b(jQuery);}(function(ac){var S="left",T="right",ad="up",G="down",af="in",E="out",V="none",L="auto",W="swipe",K="pinch",R="tap",Y="doubletap",ag="longtap",F="hold",M="horizontal",J="vertical",Z="all",O=10,ab="start",X="move",aa="end",Q="cancel",ah="ontouchstart" in window,I=window.navigator.msPointerEnabled&&!window.navigator.pointerEnabled,ae=window.navigator.pointerEnabled||window.navigator.msPointerEnabled,P="TouchSwipe";var U={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:true,triggerOnTouchLeave:false,allowPageScroll:"auto",fallbackToMouseEvents:true,excludedElements:"label, button, input, select, textarea, a, .noSwipe"};ac.fn.swipe=function(a){var b=ac(this),c=b.data(P);if(c&&typeof a==="string")if(c[a])return c[a].apply(this,Array.prototype.slice.call(arguments,1));else ac.error("Method "+a+" does not exist on jQuery.swipe");else{if(!c&&(typeof a==="object"||!a))return H.apply(this,arguments);}return b;};ac.fn.swipe.defaults=U;ac.fn.swipe.phases={PHASE_START:ab,PHASE_MOVE:X,PHASE_END:aa,PHASE_CANCEL:Q};ac.fn.swipe.directions={LEFT:S,RIGHT:T,UP:ad,DOWN:G,IN:af,OUT:E};ac.fn.swipe.pageScroll={NONE:V,HORIZONTAL:M,VERTICAL:J,AUTO:L};ac.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,ALL:Z};function H(a){if(a&&(a.allowPageScroll===undefined&&(a.swipe!==undefined||a.swipeStatus!==undefined)))a.allowPageScroll=V;if(a.click!==undefined&&a.tap===undefined)a.tap=a.click;if(!a)a={};a=ac.extend({},ac.fn.swipe.defaults,a);return this.each(function(){var b=ac(this);var c=b.data(P);if(!c){c=new N(this,a);b.data(P,c);}});}function N(bR,C){var u=(ah||ae||!C.fallbackToMouseEvents),s=u?(ae?(I?"MSPointerDown":"pointerdown"):"touchstart"):"mousedown",w=u?(ae?(I?"MSPointerMove":"pointermove"):"touchmove"):"mousemove",g=u?(ae?(I?"MSPointerUp":"pointerup"):"touchend"):"mouseup",i=u?null:"mouseleave",bI=(ae?(I?"MSPointerCancel":"pointercancel"):"touchcancel");var bf=0,bw=null,bk=0,bU=0,bm=0,x=1,aw=0,bC=0,p=null;var bu=ac(bR);var b="start";var e=0;var bv=null;var h=0,bT=0,bQ=0,bi=0,o=0;var bp=null,bg=null;try{bu.bind(s,by);bu.bind(bI,bM);}catch(bb){ac.error("events not supported "+s+","+bI+" on jQuery.swipe");}this.enable=function(){bu.bind(s,by);bu.bind(bI,bM);return bu;};this.disable=function(){bB();return bu;};this.destroy=function(){bB();bu.data(P,null);return bu;};this.option=function(ai,aj){if(C[ai]!==undefined)if(aj===undefined)return C[ai];else C[ai]=aj;else ac.error("Option "+ai+" does not exist on jQuery.swipe.options");return null;};function by(aj){if(bK())return;if(ac(aj.target).closest(C.excludedElements,bu).length>0)return;var ai=aj.originalEvent?aj.originalEvent:aj;var ak,al=ah?ai.touches[0]:ai;b=ab;if(ah)e=ai.touches.length;else aj.preventDefault();bf=0;bw=null;bC=null;bk=0;bU=0;bm=0;x=1;aw=0;bv=bc();p=bl();j();if(!ah||(e===C.fingers||C.fingers===Z)||bo()){bd(0,al);h=au();if(e==2){bd(1,ai.touches[1]);bU=bm=D(bv[0].start,bv[1].start);}if(C.swipeStatus||C.pinchStatus)ak=n(ai,b);}else ak=false;if(ak===false){b=Q;n(ai,b);return ak;}else{if(C.hold)bg=setTimeout(ac.proxy(function(){bu.trigger("hold",[ai.target]);if(C.hold)ak=C.hold.call(bu,ai,ai.target);},this),C.longTapThreshold);ay(true);}return null;}function bS(al){var ai=al.originalEvent?al.originalEvent:al;if(b===aa||b===Q||a0())return;var am,an=ah?ai.touches[0]:ai;var ak=bE(an);bT=au();if(ah)e=ai.touches.length;if(C.hold)clearTimeout(bg);b=X;if(e==2){if(bU==0){bd(1,ai.touches[1]);bU=bm=D(bv[0].start,bv[1].start);}else{bE(ai.touches[1]);bm=D(bv[0].end,bv[1].end);bC=av(bv[0].end,bv[1].end);}x=bO(bU,bm);aw=Math.abs(bU-bm);}if((e===C.fingers||C.fingers===Z)||!ah||bo()){bw=bA(ak.start,ak.end);ba(al,bw);bf=bt(ak.start,ak.end);bk=bz();bD(bw,bf);if(C.swipeStatus||C.pinchStatus)am=n(ai,b);if(!C.triggerOnTouchEnd||C.triggerOnTouchLeave){var ao=true;if(C.triggerOnTouchLeave){var aj=bn(this);ao=B(ak.end,aj);}if(!C.triggerOnTouchEnd&&ao)b=bJ(X);else{if(C.triggerOnTouchLeave&&!ao)b=bJ(aa);}if(b==Q||b==aa)n(ai,b);}}else{b=Q;n(ai,b);}if(am===false){b=Q;n(ai,b);}}function q(aj){var ai=aj.originalEvent;if(ah)if(ai.touches.length>0){A();return true;}if(a0())e=bi;bT=au();bk=bz();if(m()||!az()){b=Q;n(ai,b);}else if(C.triggerOnTouchEnd||(C.triggerOnTouchEnd==false&&b===X)){aj.preventDefault();b=aa;n(ai,b);}else if(!C.triggerOnTouchEnd&&bP()){b=aa;bG(ai,b,R);}else{if(b===X){b=Q;n(ai,b);}}ay(false);return null;}function bM(){e=0;bT=0;h=0;bU=0;bm=0;x=1;j();ay(false);}function r(aj){var ai=aj.originalEvent;if(C.triggerOnTouchLeave){b=bJ(aa);n(ai,b);}}function bB(){bu.unbind(s,by);bu.unbind(bI,bM);bu.unbind(w,bS);bu.unbind(g,q);if(i)bu.unbind(i,r);ay(false);}function bJ(ai){var aj=ai;var ak=bL();var al=az();var am=m();if(!ak||am)aj=Q;else if(al&&ai==X&&(!C.triggerOnTouchEnd||C.triggerOnTouchLeave))aj=aa;else{if(!al&&ai==aa&&C.triggerOnTouchLeave)aj=Q;}return aj;}function n(ai,ak){var aj=undefined;if(t()||f())aj=bG(ai,ak,W);else{if((l()||bo())&&aj!==false)aj=bG(ai,ak,K);}if(bF()&&aj!==false)aj=bG(ai,ak,Y);else if(ax()&&aj!==false)aj=bG(ai,ak,ag);else{if(be()&&aj!==false)aj=bG(ai,ak,R);}if(ak===Q)bM(ai);if(ak===aa)if(ah){if(ai.touches.length==0)bM(ai);}else bM(ai);return aj;}function bG(ai,al,aj){var ak=undefined;if(aj==W){bu.trigger("swipeStatus",[al,bw||null,bf||0,bk||0,e,bv]);if(C.swipeStatus){ak=C.swipeStatus.call(bu,ai,al,bw||null,bf||0,bk||0,e,bv);if(ak===false)return false;}if(al==aa&&bq()){bu.trigger("swipe",[bw,bf,bk,e,bv]);if(C.swipe){ak=C.swipe.call(bu,ai,bw,bf,bk,e,bv);if(ak===false)return false;}switch(bw){case S:bu.trigger("swipeLeft",[bw,bf,bk,e,bv]);if(C.swipeLeft)ak=C.swipeLeft.call(bu,ai,bw,bf,bk,e,bv);break;case T:bu.trigger("swipeRight",[bw,bf,bk,e,bv]);if(C.swipeRight)ak=C.swipeRight.call(bu,ai,bw,bf,bk,e,bv);break;case ad:bu.trigger("swipeUp",[bw,bf,bk,e,bv]);if(C.swipeUp)ak=C.swipeUp.call(bu,ai,bw,bf,bk,e,bv);break;case G:bu.trigger("swipeDown",[bw,bf,bk,e,bv]);if(C.swipeDown)ak=C.swipeDown.call(bu,ai,bw,bf,bk,e,bv);break;}}}if(aj==K){bu.trigger("pinchStatus",[al,bC||null,aw||0,bk||0,e,x,bv]);if(C.pinchStatus){ak=C.pinchStatus.call(bu,ai,al,bC||null,aw||0,bk||0,e,x,bv);if(ak===false)return false;}if(al==aa&&bN())switch(bC){case af:bu.trigger("pinchIn",[bC||null,aw||0,bk||0,e,x,bv]);if(C.pinchIn)ak=C.pinchIn.call(bu,ai,bC||null,aw||0,bk||0,e,x,bv);break;case E:bu.trigger("pinchOut",[bC||null,aw||0,bk||0,e,x,bv]);if(C.pinchOut)ak=C.pinchOut.call(bu,ai,bC||null,aw||0,bk||0,e,x,bv);break;}}if(aj==R){if(al===Q||al===aa){clearTimeout(bp);clearTimeout(bg);if(c()&&!v()){o=au();bp=setTimeout(ac.proxy(function(){o=null;bu.trigger("tap",[ai.target]);if(C.tap)ak=C.tap.call(bu,ai,ai.target);},this),C.doubleTapThreshold);}else{o=null;bu.trigger("tap",[ai.target]);if(C.tap)ak=C.tap.call(bu,ai,ai.target);}}}else if(aj==Y){if(al===Q||al===aa){clearTimeout(bp);o=null;bu.trigger("doubletap",[ai.target]);if(C.doubleTap)ak=C.doubleTap.call(bu,ai,ai.target);}}else{if(aj==ag)if(al===Q||al===aa){clearTimeout(bp);o=null;bu.trigger("longtap",[ai.target]);if(C.longTap)ak=C.longTap.call(bu,ai,ai.target);}}return ak;}function az(){var ai=true;if(C.threshold!==null)ai=bf>=C.threshold;return ai;}function m(){var ai=false;if(C.cancelThreshold!==null&&bw!==null)ai=(bs(bw)-bf)>=C.cancelThreshold;return ai;}function bh(){if(C.pinchThreshold!==null)return aw>=C.pinchThreshold;return true;}function bL(){var ai;if(C.maxTimeThreshold)if(bk>=C.maxTimeThreshold)ai=false;else ai=true;else ai=true;return ai;}function ba(ak,aj){if(C.allowPageScroll===V||bo())ak.preventDefault();else{var ai=C.allowPageScroll===L;switch(aj){case S:if((C.swipeLeft&&ai)||(!ai&&C.allowPageScroll!=M))ak.preventDefault();break;case T:if((C.swipeRight&&ai)||(!ai&&C.allowPageScroll!=M))ak.preventDefault();break;case ad:if((C.swipeUp&&ai)||(!ai&&C.allowPageScroll!=J))ak.preventDefault();break;case G:if((C.swipeDown&&ai)||(!ai&&C.allowPageScroll!=J))ak.preventDefault();break;}}}function bN(){var aj=bx();var ak=d();var ai=bh();return aj&&ak&&ai;}function bo(){return !!(C.pinchStatus||C.pinchIn||C.pinchOut);}function l(){return !!(bN()&&bo());}function bq(){var ak=bL();var ai=az();var al=bx();var an=d();var am=m();var aj=!am&&an&&al&&ai&&ak;return aj;}function f(){return !!(C.swipe||C.swipeStatus||C.swipeLeft||C.swipeRight||C.swipeUp||C.swipeDown);}function t(){return !!(bq()&&f());}function bx(){return ((e===C.fingers||C.fingers===Z)||!ah);}function d(){return bv[0].end.x!==0;}function bP(){return !!(C.tap);}function c(){return !!(C.doubleTap);}function br(){return !!(C.longTap);}function k(){if(o==null)return false;var ai=au();return (c()&&((ai-o)<=C.doubleTapThreshold));}function v(){return k();}function y(){return ((e===1||!ah)&&(isNaN(bf)||bf<C.threshold));}function a(){return ((bk>C.longTapThreshold)&&(bf<O));}function be(){return !!(y()&&bP());}function bF(){return !!(k()&&c());}function ax(){return !!(a()&&br());}function A(){bQ=au();bi=event.touches.length+1;}function j(){bQ=0;bi=0;}function a0(){var aj=false;if(bQ){var ai=au()-bQ;if(ai<=C.fingerReleaseThreshold)aj=true;}return aj;}function bK(){return !!(bu.data(P+"_intouch")===true);}function ay(ai){if(ai===true){bu.bind(w,bS);bu.bind(g,q);if(i)bu.bind(i,r);}else{bu.unbind(w,bS,false);bu.unbind(g,q,false);if(i)bu.unbind(i,r,false);}bu.data(P+"_intouch",ai===true);}function bd(aj,ak){var ai=ak.identifier!==undefined?ak.identifier:0;bv[aj].identifier=ai;bv[aj].start.x=bv[aj].end.x=ak.pageX||ak.clientX;bv[aj].start.y=bv[aj].end.y=ak.pageY||ak.clientY;return bv[aj];}function bE(ak){var ai=ak.identifier!==undefined?ak.identifier:0;var aj=bj(ai);aj.end.x=ak.pageX||ak.clientX;aj.end.y=ak.pageY||ak.clientY;return aj;}function bj(ai){for(var aj=0;aj<bv.length;aj++)if(bv[aj].identifier==ai)return bv[aj];}function bc(){var aj=[];for(var ai=0;ai<=5;ai++)aj.push({start:{x:0,y:0},end:{x:0,y:0},identifier:0});return aj;}function bD(aj,ai){ai=Math.max(ai,bs(aj));p[aj].distance=ai;}function bs(ai){if(p[ai])return p[ai].distance;return undefined;}function bl(){var ai={};ai[S]=z(S);ai[T]=z(T);ai[ad]=z(ad);ai[G]=z(G);return ai;}function z(ai){return {direction:ai,distance:0};}function bz(){return bT-h;}function D(ai,aj){var ak=Math.abs(ai.x-aj.x);var al=Math.abs(ai.y-aj.y);return Math.round(Math.sqrt(ak*ak+al*al));}function bO(ak,aj){var ai=(aj/ak)*1;return ai.toFixed(2);}function av(){if(x<1)return E;else return af;}function bt(ai,aj){return Math.round(Math.sqrt(Math.pow(aj.x-ai.x,2)+Math.pow(aj.y-ai.y,2)));}function bH(ak,am){var an=ak.x-am.x;var ai=am.y-ak.y;var al=Math.atan2(ai,an);var aj=Math.round(al*180/Math.PI);if(aj<0)aj=360-Math.abs(aj);return aj;}function bA(aj,ak){var ai=bH(aj,ak);if((ai<=45)&&(ai>=0))return S;else if((ai<=360)&&(ai>=315))return S;else if((ai>=135)&&(ai<=225))return T;else if((ai>45)&&(ai<135))return G;else return ad;}function au(){var ai=new Date();return ai.getTime();}function bn(ak){ak=ac(ak);var ai=ak.offset();var aj={left:ai.left,right:ai.left+ak.outerWidth(),top:ai.top,bottom:ai.top+ak.outerHeight()};return aj;}function B(aj,ai){return (aj.x>ai.left&&aj.x<ai.right&&aj.y>ai.top&&aj.y<ai.bottom);}}}));var appSwipe={up:null,down:null,threshold:60,target:null,init:function(a){console.log("swipe init");if(a){if(a.target&&String(a.target)!="null")appSwipe.target=a.target;else appSwipe.target="body";if(a.up&&String(a.up)!="null")appSwipe.up=a.up;if(a.down&&String(a.up)!="null")appSwipe.down=a.down;if(a.threshold&&String(a.threshold)!="null")appSwipe.threshold=a.threshold;appSwipe.listen();}else console.log("No swipe initialization parameters provided");},listen:function(){$(String(appSwipe.target)).swipe({swipe:function(b,d,e,c,a){appSwipe.action(d);},allowPageScroll:"none",threshold:appSwipe.threshold});},action:function(a){console.log("swipe: "+a);if(a=="up")if(appSwipe.up)appSwipe.up();if(a=="down")if(appSwipe.down)appSwipe.down();}};;
var values={chartcolors:["#1F71B9","#8EC0E7","#A01C2D","#DB675E","#DA9528","#99BC33"],chartStupidColors:["#1F71B9","#8EC0E7","#A01C2D","#DB675E","#DA9528","#99BC33"],date:{month:"Jan",date:"1",year:"2018"},aristada:{fourWeek:0.96,sixWeek:0.04,twoMonth:0.04},sources:[{date:{month:"July",date:"1",year:"2018"},text:"ABILIFY MAINTENA dual-chamber syringe. RED BOOK Online. Truven Health Analytics Micromedex Solutions website.",url:"http://www.micromedexsolutions.com/micromedex2/librarian/ND_T/evidencexpert/ND_PR/evidencexpert/CS/859E4E/ND_AppProduct/evidencexpert/DUPLICATIONSHIELDSYNC/5DF816/ND_PG/evidencexpert/ND_B/evidencexpert/ND_P/evidencexpert/PFActionId/redbook.ShowProductSearchResults?SearchTerm=ABILIFY%20MAINTENA%20DUAL-CHAMBERED%20SYRINGE&searchType=redbookProductName&searchTermId=44012&searchContent=%24searchContent&searchFilterAD=filterADActive&searchFilterRepackager=filterExcludeRepackager&searchPattern=%5Eabilify"},{date:{month:"July",date:"1",year:"2018"},text:"ABILIFY MAINTENA vial. RED BOOK Online. Truven Health Analytics Micromedex Solutions website.",url:"http://www.micromedexsolutions.com/micromedex2/librarian/ND_T/evidencexpert/ND_PR/evidencexpert/CS/2047C8/ND_AppProduct/evidencexpert/DUPLICATIONSHIELDSYNC/6E4C53/ND_PG/evidencexpert/ND_B/evidencexpert/ND_P/evidencexpert/PFActionId/redbook.ShowProductSearchResults?SearchTerm=ABILIFY%20MAINTENA%20VIAL&searchType=redbookProductName&searchTermId=44010&searchContent=%24searchContent&searchFilterAD=filterADActive&searchFilterRepackager=filterExcludeRepackager&searchPattern=%5EABILIFY%20MAINTENA%20"},{date:{month:"July",date:"6",year:"2018"},text:"Aristada. RED BOOK Online. Truven Health Analytics Micromedex Solutions website.",url:"http://www.micromedexsolutions.com/micromedex2/librarian/ND_T/evidencexpert/ND_PR/evidencexpert/CS/6FEA40/ND_AppProduct/evidencexpert/DUPLICATIONSHIELDSYNC/224C3C/ND_PG/evidencexpert/ND_B/evidencexpert/ND_P/evidencexpert/PFActionId/redbook.ShowProductSearchResults?SearchTerm=ARISTADA&searchType=redbookProductName&searchTermId=44217&searchContent=REDBOOK&searchFilterAD=filterADActive&searchFilterRepackager=filterExcludeRepackager&searchPattern=%5Earistada"},{date:{month:"Jan",date:"1",year:"2018"},text:"Invega Sustenna. RED BOOK Online. Truven Health Analytics Micromedex Solutions website.",url:"http://www.micromedexsolutions.com/micromedex2/librarian/ND_T/evidencexpert/ND_PR/evidencexpert/CS/C3CDDC/ND_AppProduct/evidencexpert/DUPLICATIONSHIELDSYNC/4481DC/ND_PG/evidencexpert/ND_B/evidencexpert/ND_P/evidencexpert/PFActionId/redbook.ShowProductSearchResults?SearchTerm=INVEGA%20SUSTENNA&searchType=redbookProductName&searchTermId=22351&searchContent=%24searchContent&searchFilterAD=filterADActive&searchFilterRepackager=filterExcludeRepackager&searchPattern=%5Einvega%20susten"},{date:{month:"Jan",date:"1",year:"2018"},text:"Invega Trinza. RED BOOK Online. Truven Health Analytics Micromedex Solutions website.",url:"http://www.micromedexsolutions.com/micromedex2/librarian/ND_T/evidencexpert/ND_PR/evidencexpert/CS/4EB7EC/ND_AppProduct/evidencexpert/DUPLICATIONSHIELDSYNC/7B8EE6/ND_PG/evidencexpert/ND_B/evidencexpert/ND_P/evidencexpert/PFActionId/redbook.ShowProductSearchResults?SearchTerm=INVEGA%20TRINZA&searchType=redbookProductName&searchTermId=43791&searchContent=REDBOOK&searchFilterAD=filterADActive&searchFilterRepackager=filterExcludeRepackager&searchPattern=%5EINVEGA%20TR"},{date:{month:"Jan",date:"1",year:"2018"},text:"Risperdal Consta. RED BOOK Online. Truven Health Analytics Micromedex Solutions website.",url:"http://www.micromedexsolutions.com/micromedex2/librarian/ND_T/evidencexpert/ND_PR/evidencexpert/CS/CC9C00/ND_AppProduct/evidencexpert/DUPLICATIONSHIELDSYNC/2C7E15/ND_PG/evidencexpert/ND_B/evidencexpert/ND_P/evidencexpert/PFActionId/redbook.ShowProductSearchResults?SearchTerm=RISPERDAL%20CONSTA&searchType=redbookProductName&searchTermId=33751&searchContent=%24searchContent&searchFilterAD=filterADActive&searchFilterRepackager=filterExcludeRepackager&searchPattern=%5Erisperdal"},{date:{month:"Jan",date:"1",year:"2018"},text:"Zyprexa Relprevv. RED BOOK Online. Truven Health Analytics Micromedex Solutions website.",url:"http://www.micromedexsolutions.com/micromedex2/librarian/ND_T/evidencexpert/ND_PR/evidencexpert/CS/620C53/ND_AppProduct/evidencexpert/DUPLICATIONSHIELDSYNC/442AE8/ND_PG/evidencexpert/ND_B/evidencexpert/ND_P/evidencexpert/PFActionId/redbook.ShowProductSearchResults?SearchTerm=ZYPREXA%20RELPREVV&searchType=redbookProductName&searchTermId=22097&searchContent=%24searchContent&searchFilterAD=filterADActive&searchFilterRepackager=filterExcludeRepackager&searchPattern=%5Ezypre"}],user:{trxUtilizationDates:[],values:[]},defaultValues:{trxUtilizationDates:[],values:[]},defaults:{trxUtilizationDates:["Dec 15","Jan 16","Feb 16","Mar 16","Apr 16","May 16","Jun 16","Jul 16","Aug 16","Sep 16","Oct 16","Nov 16","Dec 16","Jan 17","Feb 17","Mar 17","Apr 17","May 17","Jun 17","Jul-17","Aug-17","Sep-17","Oct-17","Nov-17","Dec-17","Jan-18","Feb-18"],values:[{color:"#1F71B9",chartLabel:"ABILIFY MAINTENA\n(aripiprazole)",htmlLabel:"ABILIFY MAINTENA<sup>&reg;</sup><br>(aripiprazole)",minDose:"300 mg",maxDose:"400 mg",avgDose:"384.7 mg",benchmarkWac:1407.59,benchmarkTrend1:[386.7,385.9,384.7,385,385.5,385.6,384.6,383.8,384.4,384.1,383.9,383.9],benchmarkTrend2:[1531.63,1528.56,1523.94,1525.17,1527.04,1527.47,1523.39,1520.38,1522.52,1521.61,1520.83,1520.52],variants:[{label:"ABILIFY MAINTENA 300 mg",color:"#1F71B9",pdfColor:"#1F71B9",pdfLabel:"300 mg",wacLabel:"ABILIFY MAINTENA<sup>&reg;</sup> (aripiprazole) 300 mg",mg:300,wacPerDose:1706.05,wacAdjustment:null,benchmarkPiePercent:15.9,trxUtilization:[2901,2644,2889,3088,2983,3099,3240,3178,3601,3433,3425,3559,3649,3739,3377,3947,3545,4083,4012,3998,4379,4118,4549,4498,4294,4821,4334]},{label:"ABILIFY MAINTENA 400 mg",color:"#8EC0E7",pdfColor:"#8EC0E7",pdfLabel:"400 mg",wacLabel:"ABILIFY MAINTENA 400 mg",mg:400,wacPerDose:2274.73,wacAdjustment:null,benchmarkPiePercent:84.1,trxUtilization:[14939,13814,14774,15965,15110,15936,16496,15898,17628,16702,16926,17590,18034,18451,17085,19603,17527,20099,19821,19379,20921,19715,21976,21558,21215,23159,21037]}]},{color:"#8EC0E7",chartLabel:"ARISTADA\n(aripiprazole lauroxil)",htmlLabel:"ARISTADA<sup>&reg;</sup><br>(aripiprazole lauroxil)<sup>&dagger;</sup>",minDose:"441 mg",maxDose:"1064 mg",avgDose:"384.7 mg",benchmarkWac:1524.02,benchmarkTrend1:[386.7,385.9,384.7,385,385.5,385.6,384.6,383.8,384.4,384.1,383.9,383.9],benchmarkTrend2:[1531.63,1528.56,1523.94,1525.17,1527.04,1527.47,1523.39,1520.38,1522.52,1521.61,1520.83,1520.52],variants:[{color:"#DA9528",pdfColor:"#DA9528",label:"ARISTADA 441 mg",pdfLabel:"441 mg",wacLabel:"ARISTADA<sup>&reg;</sup> (aripiprazole lauroxil) 441 mg",mg:441,wacPerDose:1372.41,wacAdjustment:null,benchmarkPiePercent:14.6,trxUtilization:[78,119,153,256,277,348,378,415,507,451,543,577,625,615,630,711,699,876,893,922,1016,933,1006,1023,961,1042,949]},{color:"#1F71B9",pdfColor:"#1F71B9",label:"ARISTADA 662 mg",pdfLabel:"662 mg",wacLabel:"ARISTADA 662 mg",mg:662,wacPerDose:2060.17,wacAdjustment:null,benchmarkPiePercent:32.7,trxUtilization:[183,287,419,599,660,734,884,894,1058,1066,1152,1248,1326,1361,1299,1638,1420,1682,1713,1718,1887,1714,1929,1844,1755,1886,1686]},{color:"#A01C2D",pdfColor:"#A01C2D",label:"ARISTADA 882 mg  4 Weeks",pdfLabel:"882 mg  4 Weeks",wacLabel:"ARISTADA 882 mg  4 Weeks",mg:882,wacPerDose:2744.82,wacAdjustment:null,benchmarkPiePercent:50.6,trxUtilization:[297,420,611,856,1003,1188,1365,1500,1827,1770,1903,2092,2151,2356,2230,2725,2526,2984,3091,2965,3339,3032,3405,3339,3422,3596,3347],trxUtilizationSplit:[285.12,403,586.56,821.76,962.88,1140.48,1310.4,1439,1753,1698,1826,2007,2064,2261,2140,2615,2424,2863,2966]},{color:"#8EC0E7",pdfColor:"#8EC0E7",label:"ARISTADA 882 mg  6 Weeks",pdfLabel:"882 mg  6 Weeks",wacLabel:"ARISTADA 882 mg  6 Weeks",mg:882,wacPerDose:2744.82,wacAdjustment:30.4/45,benchmarkPiePercent:2.1,trxUtilization:[297,420,611,856,1003,1188,1365,1500,1827,1770,1903,2092,2151,2356,2230,2725,2526,2984,3091,133,264,419,498,594,663,761,788],trxUtilizationSplit:[11.88,17,24.44,34.24,40.12,47.52,54.6,61,74,72,77,85,87,95,90,110,102,121,125]},{color:"#99BC33",pdfColor:"#99BC33",label:"ARISTADA 1064 mg  2 Months",pdfLabel:"1064 mg  2 Months",wacLabel:"ARISTADA 1064 mg  2 Months",mg:1064,wacPerDose:3311.21,wacAdjustment:30.4/60,benchmarkPiePercent:0,trxUtilization:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,30,133,264,419,498,594,663,761,788],trxUtilizationSplit:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,30]}]},{color:'#8EC0E7',chartLabel:'ARISTADA INITIO\n(aripiprazole lauroxil)',htmlLabel:'ARISTADA INITIO<sup>&reg;;</sup><br>(aripiprazole lauroxil)<sup>&dagger;</sup>',minDose:'675 mg',maxDose:'675 mg',avgDose:'675 mg',benchmarkWac:1524.02,benchmarkTrend1:[386.7,385.9,384.7,385.0,385.5,385.6,384.6,383.8,384.4,384.1,383.9,383.9],benchmarkTrend2:[1531.63,1528.56,1523.94,1525.17,1527.04,1527.47,1523.39,1520.38,1522.52,1521.61,1520.83,1520.52],variants:[{color:'#DA9528',pdfColor:'#DA9528',label:'RISTADA INITIO 675 mg',pdfLabel:'675 mg',wacLabel:'ARISTADA INITIO<sup>&reg;</sup> (aripiprazole lauroxil) 675 mg',mg:675,wacPerDose:2100.63,wacAdjustment:null,benchmarkPiePercent:100,trxUtilization:[0,0,0,0,0,0,0,0,0,0,41,132,182,150,168,143,108]}]},{color:"#A01C2D",chartLabel:"INVEGA SUSTENNA\n(paliperidone\npalmitate)",htmlLabel:"INVEGA<sup>&reg;</sup> SUSTENNA<sup>&reg;</sup><br>(paliperidone palmitate)",minDose:"39 mg",maxDose:"234 mg",avgDose:"178.6 mg",benchmarkWac:1148.74,benchmarkTrend1:[177.1,177.3,177.8,177.5,178.3,177.8,178.7,179.1,179.4,179.5,180.2,180],benchmarkTrend2:[1463.97,1465.43,1469.21,1466.7,1473.67,1469.52,1476.77,1480.14,1483.02,1483.3,1489.39,1487.85],variants:[{color:"#DA9528",pdfColor:"#DA9528",label:"INVEGA SUSTENNA 39 mg",pdfLabel:"39 mg",wacLabel:"INVEGA<sup>&reg;</sup> SUSTENNA<sup>&reg;</sup> (paliperidone palmitate) 39 mg",mg:39,wacPerDose:467.53,wacAdjustment:null,benchmarkPiePercent:1,trxUtilization:[434,407,415,455,432,455,463,433,463,453,416,410,456,426,396,447,427,471,472,434,457,473,512,491,466,498,519]},{color:"#99BC33",pdfColor:"#99BC33",label:"INVEGA SUSTENNA 78 mg",pdfLabel:"78 mg",wacLabel:"INVEGA SUSTENNA 78 mg",mg:78,wacPerDose:935.09,wacAdjustment:null,benchmarkPiePercent:2,trxUtilization:[1397,1250,1269,1422,1352,1309,1289,1325,1399,1360,1384,1411,1386,1427,1403,1555,1427,1621,1492,1435,1611,1439,1581,1519,1536,1657,1461]},{color:"#1F71B9",pdfColor:"#1F71B9",label:"INVEGA SUSTENNA 117 mg",pdfLabel:"117 mg",wacLabel:"INVEGA SUSTENNA 117 mg",wacPerDose:1402.65,mg:117,wacAdjustment:null,benchmarkPiePercent:18,trxUtilization:[10015,9117,9302,9539,9045,9114,9269,8836,9526,8899,8761,8997,9104,9007,8477,9442,8432,9344,9029,8816,9385,8526,9315,9091,8693,9303,8340]},{color:"#8EC0E7",pdfColor:"#8EC0E7",label:"INVEGA SUSTENNA 156 mg",pdfLabel:"156 mg",wacLabel:"INVEGA SUSTENNA 156 mg",mg:156,wacPerDose:1870.28,wacAdjustment:null,benchmarkPiePercent:37,trxUtilization:[22516,20710,21558,22853,21212,21816,22466,21035,23781,22318,22041,22578,23088,23254,21671,24833,21975,24650,24093,23027,25033,22785,24945,24404,23642,25902,23915]},{color:"#A01C2D",pdfColor:"#A01C2D",label:"INVEGA SUSTENNA 234 mg",pdfLabel:"234 mg",wacLabel:"INVEGA SUSTENNA 234 mg",mg:234,wacPerDose:2805.35,wacAdjustment:null,benchmarkPiePercent:42,trxUtilization:[28679,26679,27934,29923,28001,29188,30153,28896,32108,30350,30967,31271,32178,32966,30829,35046,31087,35773,34927,33564,36301,33697,36904,35843,35369,38213,34953]}]},{color:"#DB675E",chartLabel:"INVEGA TRINZA\n(paliperidone\npalmitate)",htmlLabel:"INVEGA TRINZA<sup>&reg;</sup><br>(paliperidone palmitate)",minDose:"273 mg",maxDose:"819 mg",avgDose:"384.7 mg",benchmarkWac:1524.02,benchmarkTrend1:[386.7,385.9,384.7,385,385.5,385.6,384.6,383.8,384.4,384.1,383.9,383.9],benchmarkTrend2:[1531.63,1528.56,1523.94,1525.17,1527.04,1527.47,1523.39,1520.38,1522.52,1521.61,1520.83,1520.52],variants:[{color:"#1F71B9",pdfColor:"#1F71B9",label:"INVEGA TRINZA 273 mg",pdfLabel:"273 mg",wacLabel:"INVEGA TRINZA<sup>&reg;</sup> (paliperidone palmitate) 273 mg",mg:273,wacPerDose:2805.26,wacAdjustment:30.4/90,benchmarkPiePercent:25,trxUtilization:[26,61,72,88,81,75,114,98,113,104,123,134,119,182,140,168,156,173,186,186,195,198,254,203,205,249,226]},{color:"#8EC0E7",pdfColor:"#8EC0E7",label:"INVEGA TRINZA 410 mg",pdfLabel:"410 mg",wacLabel:"INVEGA TRINZA 410 mg",mg:410,wacPerDose:4207.94,wacAdjustment:30.4/90,benchmarkPiePercent:25,trxUtilization:[344,358,391,504,425,515,618,490,626,664,603,704,748,666,690,792,679,796,802,745,833,809,792,806,803,889,813]},{color:"#A01C2D",pdfColor:"#A01C2D",label:"INVEGA TRINZA 546 mg",pdfLabel:"546 mg",wacLabel:"INVEGA TRINZA 546 mg",mg:546,wacPerDose:5610.85,wacAdjustment:30.4/90,benchmarkPiePercent:25,trxUtilization:[840,798,1040,1155,1026,1263,1301,1276,1480,1387,1524,1406,1515,1611,1508,1690,1493,1680,1756,1622,1833,1695,1906,1859,1829,2054,1856]},{color:"#DA9528",pdfColor:"#DA9528",label:"INVEGA TRINZA 819 mg",pdfLabel:"819 mg",wacLabel:"INVEGA TRINZA 819 mg",mg:819,wacPerDose:8416.04,wacAdjustment:30.4/90,benchmarkPiePercent:25,trxUtilization:[1182,1305,1496,1671,1589,1859,1997,1797,2247,2247,2187,2227,2385,2572,2461,2799,2564,2880,2922,2826,3050,2919,3213,3013,3190,3590,3052]}]},{color:"#DA9528",chartLabel:"RISPERDAL CONSTA\n(risperidone)",htmlLabel:"RISPERDAL<sup>&reg;</sup> CONSTA<sup>&reg;</sup><br>(risperidone)",minDose:"12.5 mg",maxDose:"50 mg",avgDose:"39.3 mg",benchmarkWac:1164.22,benchmarkTrend1:[39.4,39.4,39.3,39.3,39.1,39.1,39.1,39.3,39.3,39.3,39.3,39.3],benchmarkTrend2:[1167.27,1168.02,1165.31,1165.48,1160,1159.2,1159.5,1166.59,1164.43,1165.2,1165.23,1164.24],variants:[{color:"#1F71B9",pdfColor:"#1F71B9",label:"RISPERDAL CONSTA 12.5 mg",pdfLabel:"12.5 mg",wacLabel:"RISPERDAL<sup>&reg;</sup> CONSTA<sup>&reg;</sup> (risperidone) 12.5 mg",mg:12.5,wacPerDose:254.27,wacAdjustment:30.4/14,benchmarkPiePercent:3,trxUtilization:[1719,1591,1558,1726,1660,1662,1630,1527,1636,1535,1658,1569,1614,1580,1442,1606,1429,1600,1558,1461,1562,1435,1573,1575,1524,1560,1353]},{color:"#8EC0E7",pdfColor:"#8EC0E7",label:"RISPERDAL CONSTA 25 mg",pdfLabel:"25 mg",wacLabel:"RISPERDAL CONSTA 25 mg",mg:25,wacPerDose:508.50,wacAdjustment:30.4/14,benchmarkPiePercent:27,trxUtilization:[9987,8899,8884,9509,8831,8967,9120,8585,9196,8654,8509,8357,8430,8442,7532,8387,7589,8507,7960,7802,8053,7536,7883,7511,7136,7549,6748]},{color:"#A01C2D",pdfColor:"#A01C2D",label:"RISPERDAL CONSTA 37.5 mg",pdfLabel:"37.5 mg",wacLabel:"RISPERDAL CONSTA 37.5 mg",mg:37.5,wacPerDose:762.79,wacAdjustment:30.4/14,benchmarkPiePercent:22,trxUtilization:[7819,7089,7324,7630,6905,7308,7269,6802,7372,6841,6820,6819,6572,6668,5861,6630,5771,6520,6033,6020,6244,5761,5978,5763,5490,5903,5223]},{color:"#DA9528",pdfColor:"#DA9528",label:"RISPERDAL CONSTA 50 mg",pdfLabel:"50 mg",wacLabel:"RISPERDAL CONSTA 50 mg",mg:50,wacPerDose:1017.07,wacAdjustment:30.4/14,benchmarkPiePercent:48,trxUtilization:[18089,16390,16903,17641,16317,17108,16989,15887,17329,16034,16003,15810,15546,15486,14027,15589,13840,15731,14607,14560,15022,13673,14684,13890,13580,14291,12569]}]},{color:"#99BC33",chartLabel:"ZYPREXA RELPREVV\n(olanzapine)",htmlLabel:"ZYPREXA<sup>&reg;</sup> RELPREVV<sup>&trade;</sup><br>(olanzapine)",minDose:"210 mg",maxDose:"405 mg",avgDose:"348.5 mg",benchmarkWac:978.52,benchmarkTrend1:[339.4,344.9,347.6,345.8,342.7,345.6,349.3,351.9,351.3,349.4,359.4,356.7],benchmarkTrend2:[953.04,968.57,976.08,971.05,962.36,970.49,980.97,988.1,986.4,981.1,1009.18,1001.5],variants:[{color:"#1F71B9",pdfColor:"#1F71B9",label:"ZYPREXA RELPREVV 210 mg",pdfLabel:"210 mg",wacLabel:"ZYPREXA<sup>&reg;</sup> RELPREVV<sup>&trade;</sup> (olanzapine) 210 mg",mg:210,wacPerDose:589.68,wacAdjustment:null,benchmarkPiePercent:6,trxUtilization:[38,25,29,39,34,41,35,34,52,31,42,49,50,46,38,48,44,45,49,43,44,42,36,22,30,41,28]},{color:"#8EC0E7",pdfColor:"#8EC0E7",label:"ZYPREXA RELPREVV 300 mg",pdfLabel:"300 mg",wacLabel:"ZYPREXA RELPREVV 300 mg",mg:300,wacPerDose:"842.40",wacAdjustment:null,benchmarkPiePercent:42,trxUtilization:[423,388,410,401,384,421,400,355,412,364,360,365,353,330,316,398,330,345,342,300,355,320,352,290,310,317,277]},{color:"#A01C2D",pdfColor:"#A01C2D",label:"ZYPREXA RELPREVV 405 mg",pdfLabel:"405 mg",wacLabel:"ZYPREXA RELPREVV 405 mg",mg:405,wacPerDose:1137.24,wacAdjustment:null,benchmarkPiePercent:52,trxUtilization:[389,358,384,393,385,390,392,350,396,350,391,402,356,357,313,390,323,373,358,326,366,344,362,317,339,334,289]}]}]},getChartLabels:function(){var b=[];for(var a=0;a<values.defaults.values.length;a++)b.push(values.defaults.values[a].chartLabel);return b;},getHtmlLabels:function(){var b=[];for(var a=0;a<values.defaults.values.length;a++)b.push(values.defaults.values[a].htmlLabel);return b;},getVariantCount:function(){var c=0;for(var b=0;b<values.defaults.values.length;b++)for(var a=0;a<values.defaults.values[b].variants.length;a++)c++;return c;}};;
var calculate={target:values.defaults,isBenchmark:true,isBeingStupid:true,doseMixPlacing:[],useDrupalData:false,aristadaUtilization:[],initialized:false,previousListId:-1,updateAristadaPieChart:function(data){let defaultAristadaIndexPosition=1;let cssStyle='cursor:pointer;font-weight:bold;border-bottom: solid;border-width: thin;position: absolute;margin-left: 24px;';if(this.previousListId==-1)event.target.style=cssStyle;else{document.getElementById(this.previousListId).style='cursor:pointer;border-bottom: solid;border-width: thin;position: absolute;margin-left: 24px;';event.target.style=cssStyle;}this.previousListId=event.target.id;if(!calculate.isBenchmark)calculate.target.values.forEach((data,ind)=>{if(data.drugId==='aristada')defaultAristadaIndexPosition=ind;});calculate.charts.buildDoseMix(defaultAristadaIndexPosition,"","","",data);},makeSup:function(_str){return _str.replace('','<sup></sup>').replace('','<sup></sup>').replace('','<sup></sup>').replace('','<sup></sup>');},noReg:function(_str){return _str.replace('','').replace('','').replace('','');},init:function(benchmark){if(benchmark==true){calculate.isBenchmark=true;var jqxhrSources=$.get("/benchmark_data",function(data){if(data.drupal_data.use_dv_module_data=="1"){useDrupalData=true;values.defaultValues.trxUtilizationDates=data.drupal_data["trxUtilizationDates"];values.defaultValues.values=data.drupal_data["values"];calculate.target=values.defaultValues;calculate.aristadaUtilization=data.drupal_data["aristada"];console.log("AJAX call succeeded, calculate.js is using drupal provided data.");}else{values.defaultValues.trxUtilizationDates=values.defaults.trxUtilizationDates;values.defaultValues.values=values.defaults.values;calculate.target=values.defaultValues;calculate.aristadaUtilization=values.aristada;console.log("AJAX call succeeded, calculate.js is using values.js data.");}calculate.initialized=true;}).done(function(data){}).fail(function(){values.defaultValues.trxUtilizationDates=values.defaults.trxUtilizationDates;values.defaultValues.values=values.defaults.values;calculate.target=values.defaultValues;console.log("AJAX call failed, calculate.js is using values.js data");calculate.initialized=true;}).always(function(){});}else{if(benchmark==false){calculate.isBenchmark=false;calculate.target=values.user;}}},wait_for_init:function(){if(calculate.initialized)return true;else window.setTimeout(function(){calculate.wait_for_init();},500);},getAdjustmentMultiplier:function(labelText){var adjustmentMultiplier=1;if(labelText.indexOf('1064')!=-1){if(labelText.indexOf('4 Weeks')!=-1)adjustmentMultiplier=calculate.aristadaUtilization.fourWeek_1064;if(labelText.indexOf('6 Weeks')!=-1)adjustmentMultiplier=calculate.aristadaUtilization.sixWeek_1064;if(labelText.indexOf('8 Weeks')!=-1)adjustmentMultiplier=calculate.aristadaUtilization.twoMonth;}else{if(labelText.indexOf('4 Weeks')!=-1)adjustmentMultiplier=calculate.aristadaUtilization.fourWeek;if(labelText.indexOf('6 Weeks')!=-1)adjustmentMultiplier=calculate.aristadaUtilization.sixWeek;}return adjustmentMultiplier;},getDaysForNumOfDayCalculation:function(label){if(label.indexOf('RISPERDAL CONSTA')!==-1)return 15;else if(label.indexOf('INVEGA TRINZA')!==-1)return 90;else if(label.indexOf('4 Weeks')!==-1)return 30;else if(label.indexOf('6 Weeks')!==-1)return 45;else if(label.indexOf('8 Weeks')!==-1)return 60;else return 30;},calculations:{drugVariants:function(_drug){var _return=[];for(var i=0;i<calculate.target.values[_drug].variants.length;i++)if(calculate.isBeingStupid){if(calculate.target.values[_drug].variants[i].label.indexOf('ARISTADA')==-1&&calculate.target.values[_drug].variants[i].label.indexOf('TRINZA')==-1){var _variantTotal=0;for(var j=0;j<calculate.target.values[_drug].variants[i].trxUtilization.length;j++)_variantTotal+=calculate.target.values[_drug].variants[i].trxUtilization[j];_return.push({color:calculate.target.values[_drug].variants[i].color,pdfColor:calculate.target.values[_drug].variants[i].pdfColor,label:calculate.target.values[_drug].variants[i].label,pdfLabel:calculate.target.values[_drug].variants[i].pdfLabel,wac:Number(calculate.target.values[_drug].variants[i].wacPerDose),wacAdjustment:calculate.target.values[_drug].variants[i].wacAdjustment,mg:calculate.target.values[_drug].variants[i].mg,trx:calculate.target.values[_drug].variants[i].trxUtilization,utilationPercent:calculate.target.values[_drug].variants[i].utilationPercent,benchmarkPiePercent:calculate.target.values[_drug].variants[i].benchmarkPiePercent,trxTotal:Math.round(_variantTotal)});}}else{var _variantTotal=0;var _variantSplitTotal=0;for(var j=0;j<calculate.target.values[_drug].variants[i].trxUtilization.length;j++){var val=calculate.target.values[_drug].variants[i].trxUtilization[j];if(val==0&&calculate.target.values[_drug].variants[i].wacPerDose==0)break;if(calculate.target.values[_drug].variants[i].label.indexOf('Weeks')!=-1||calculate.target.values[_drug].variants[i].label.indexOf('Months')!=-1){val=val*calculate.getAdjustmentMultiplier(calculate.target.values[_drug].variants[i].label);_variantSplitTotal+=val;}_variantTotal+=calculate.target.values[_drug].variants[i].trxUtilization[j];}if(val!=0)_return.push({color:calculate.target.values[_drug].variants[i].color,pdfColor:calculate.target.values[_drug].variants[i].pdfColor,label:calculate.target.values[_drug].variants[i].label,pdfLabel:calculate.target.values[_drug].variants[i].pdfLabel,wac:Number(calculate.target.values[_drug].variants[i].wacPerDose),wacAdjustment:calculate.target.values[_drug].variants[i].wacAdjustment,mg:calculate.target.values[_drug].variants[i].mg,trx:calculate.target.values[_drug].variants[i].trxUtilization,utilationPercent:calculate.target.values[_drug].variants[i].utilationPercent,benchmarkPiePercent:calculate.target.values[_drug].variants[i].benchmarkPiePercent,benchmarkPieTrx:calculate.target.values[_drug].variants[i].trxUtilizationSplit,trxTotal:Math.round(_variantTotal),trxSplitTotal:Math.round(_variantSplitTotal)});}return _return;},drugVariantTotalForMonth:function(_drug,_month){var _return=0;var _variants=calculate.calculations.drugVariants(_drug);for(var i=0;i<_variants.length;i++)_return+=_variants[i].trx[_month];return _return;},drugVariantTotalForMonthTest:function(_drug,_month){var _return=0;var _variants=calculate.calculations.drugVariants(_drug);for(var i=0;i<_variants.length;i++){if(_variants[i].label.indexOf("Weeks")>-1){}var monthlyValue=_variants[i].trx[_month];if(calculate.isBenchmark)if(_variants[i].label.indexOf('Weeks')>-1||_variants[i].label.indexOf('Months')>-1)if(calculate.wait_for_init())if(_variants[i].trx[_month]=="")monthlyValue=0;else monthlyValue=Math.round(_variants[i].trx[_month]*calculate.getAdjustmentMultiplier(_variants[i].label));_return+=monthlyValue;if(_variants[i].label.indexOf("Weeks")>-1){}}return _return;},drugVariantPercentageForMonth:function(_drug,_variant,_month){var _return=0;var _variants=calculate.calculations.drugVariants(_drug);var _monthTotals=[];for(var x=0;x<calculate.target.trxUtilizationDates.length;x++)_monthTotals.push(calculate.calculations.drugVariantTotalForMonth(_drug,x));var _return=_variants[_variant].trx[_month]/_monthTotals[_month];if(_variants[_variant].wacAdjustment)_return=_return*_variants[_variant].wacAdjustment;return _return;},drugVariantGrandTotal:function(_drug){var _return=0;var _variants=calculate.calculations.drugVariants(_drug);for(var i=0;i<_variants.length;i++)_return+=_variants[i].trxTotal;return _return;},drugVariantGrandTotalTest:function(_drug){var _return=0;var _variants=calculate.calculations.drugVariants(_drug);for(var i=0;i<_variants.length;i++){var label=String(_variants[i].label).toLowerCase();if(calculate.isBenchmark)if(label.indexOf('weeks')!=-1||label.indexOf('months')!=-1)_return+=_variants[i].trxSplitTotal;else _return+=_variants[i].trxTotal;else _return+=_variants[i].trxTotal;}return _return;},drugVariantPercentage:function(_drug,_variant){var _return=0;var _variants=calculate.calculations.drugVariants(_drug);var _grandTotal=calculate.calculations.drugVariantGrandTotal(_drug);_return=_variants[_variant].trxTotal/_grandTotal;if(_variants[_variant].wacAdjustment)if(_variants[_variant].label.indexOf('ARISTADA')==-1&&_variants[_variant].label.indexOf('TRINZA')==-1)_return=_return*_variants[_variant].wacAdjustment;return _return;},drugVariantPercentageTest:function(_drug,_variant){var _return=0;var _variants=calculate.calculations.drugVariants(_drug);var _grandTotal=calculate.calculations.drugVariantGrandTotalTest(_drug);_return=_variants[_variant].trxTotal/_grandTotal;if(_variants[_variant].wacAdjustment)if(_variants[_variant].label.indexOf('ARISTADA')==-1&&_variants[_variant].label.indexOf('TRINZA')==-1)_return=_return*_variants[_variant].wacAdjustment;return _return;},wacDrugVariantPercentage:function(_drug,_variant){var _return=0;var _variants=calculate.calculations.drugVariants(_drug);var _grandTotal=calculate.calculations.drugVariantGrandTotal(_drug);_return=_variants[_variant].trxTotal/_grandTotal;if(_variants[_variant].wacAdjustment)_return=_return*_variants[_variant].wacAdjustment;return _return;},wacDrugVariantPercentageTest:function(_drug,_variant){var _return=0;var _variants=calculate.calculations.drugVariants(_drug);var _grandTotal=calculate.calculations.drugVariantGrandTotalTest(_drug);if(calculate.isBenchmark)if(_variants[_variant].label.indexOf('Weeks')==-1&&_variants[_variant].label.indexOf('Months')==-1)_return=_variants[_variant].trxTotal/_grandTotal;else _return=_variants[_variant].trxSplitTotal/_grandTotal;else _return=_variants[_variant].trxTotal/_grandTotal;if(_variants[_variant].label.indexOf('ARISTADA')==-1)if(_variants[_variant].wacAdjustment)_return=_return*_variants[_variant].wacAdjustment;return _return;},drugVariantBenchmarkPercentage:function(_drug,_variant){var _variants=calculate.calculations.drugVariants(_drug);return _variants[_variant].benchmarkPiePercent;}},charts:{buildChartNav:function(){for(i=0;i<calculate.target.values.length;i++){var _act='';if(i==0)_act=' active';if(calculate.isBeingStupid){if(calculate.target.values[i].htmlLabel.indexOf('ARISTADA')==-1&&calculate.target.values[i].htmlLabel.indexOf('TRINZA')==-1)$('.chart-nav').append('<li class="button grey-button'+_act+'" rel-drug="'+i+'">'+calculate.target.values[i].htmlLabel+'</li>');}else $('.chart-nav').append('<li class="button grey-button'+_act+'" rel-drug="'+i+'">'+calculate.charts.removeOrreplaceSups(calculate.target.values[i].htmlLabel)+'</li>');}$('.chart-nav li').click(function(){$('.chart-nav li').removeClass('active');$(this).addClass('active');benchmark.selectedDrug=$(this).attr('rel-drug');benchmark.charts.init();});},buildWacList:function(_target){var _variantCount=0;var _maxVariantsPerList=Math.floor(values.getVariantCount()/2+values.getVariantCount()%2);for(var i=0;i<values.defaults.values.length;i++)for(var j=0;j<values.defaults.values[i].variants.length;j++){var _theVal=String(values.defaults.values[i].variants[j].wacPerDose);var _item='<li>';_item+=values.defaults.values[i].variants[j].wacLabel;if(_theVal.indexOf('.')==-1)_theVal+='.00';if(_theVal.indexOf('.')==_theVal.length-2)_theVal+='0';_item+='<span>$'+_theVal;_item+='</span></li>';if(_variantCount<_maxVariantsPerList)$(String(_target)+' .wac-dose-1').append(_item);else $(String(_target)+' .wac-dose-2').append(_item);_variantCount++;}},buildWacListDrupalProvidedData:function(_target,data){values.defaultValues.trxUtilizationDates=data.drupal_data["trxUtilizationDates"];values.defaultValues.values=data.drupal_data["values"];calculate.target=values.defaultValues;calculate.aristadaUtilization=data.drupal_data["aristada"];var _variantCount=0;var _maxVariantsPerList=20;for(var i=0;i<values.defaultValues.values.length;i++)for(var j=0;j<values.defaultValues.values[i].variants.length;j++){var _theVal=String(values.defaultValues.values[i].variants[j].wacPerDose);var _item='<li>';_item+=values.defaultValues.values[i].variants[j].wacLabel;if(_theVal.indexOf('.')==-1)_theVal+='.00';if(_theVal.indexOf('.')==_theVal.length-2)_theVal+='0';_item+='<span>$'+_theVal;_item+='</span></li>';if(_variantCount<_maxVariantsPerList)$(String(_target)+' .wac-dose-1').append(_item);else $(String(_target)+' .wac-dose-2').append(_item);_variantCount++;}},data:{hcDoseMix:function(selectedDrug,forExport){var _drug=selectedDrug;var _data=[];var _variants=calculate.calculations.drugVariants(_drug);for(var i=0;i<_variants.length;i++){var percentageCalculation=1;var _val=calculate.calculations.drugVariantPercentageTest(_drug,i);if(calculate.isBenchmark)if(calculate.wait_for_init()){percentageCalculation=calculate.getAdjustmentMultiplier(_variants[i].label);_val=_val*percentageCalculation;}_val=Math.round((_val*1000))/1000;var _label='<strong style="font-family: \'Open Sans\'; font-size: 12px; font-weight: bold;">';_label+=_variants[i].pdfLabel;_label+='</strong>';_label+='<br><span style="font-family: \'Open Sans\'; font-size: 20px">';if(_variants[i].trxSplitTotal&&_variants[i].trxSplitTotal>0)_label+=_variants[i].trxSplitTotal;else _label+=_variants[i].trxTotal;_label+=' Rx</span>';_label+='<br><strong style="font-family: \'Open Sans\'; font-size: 12px; font-weight: bold;">';_label+='Cost Per Day';_label+='</strong>';_label+=' - <span style="font-family: \'Open Sans\'; font-size: 12px;font-weight:bold">';_label+='$'+((_variants[i].wac/calculate.getDaysForNumOfDayCalculation(_variants[i].label))).toFixed(2);_label+=' </span>';var _clr=_variants[i].color;if(forExport&&forExport==true)_clr=_variants[i].pdfColor;_data.push({y:_val*100,color:_clr,pdfColor:_variants[i].pdfColor,highlight:'#646565',name:_label,legendTitle:_variants[i].label,pdfTitle:_variants[i].pdfLabel});}return _data;},wad:function(){var _data=[];for(var i=0;i<calculate.target.values.length;i++){var _dataTotals=[];var _monthTotals=[];if(calculate.target.values[i].drugId=="aristada"){}if(calculate.isBeingStupid){if(calculate.target.values[i].htmlLabel.indexOf('ARISTADA')==-1&&calculate.target.values[i].htmlLabel.indexOf('TRINZA')==-1){var _variants=calculate.calculations.drugVariants(i);for(var x=0;x<calculate.target.trxUtilizationDates.length;x++)_monthTotals.push(calculate.calculations.drugVariantTotalForMonth(i,x));var grandMonthTotal=0;for(j=0;j<_monthTotals.length;j++)grandMonthTotal+=_monthTotals[j];var _avgDose;_avgDose=0;for(var j=0;j<_variants.length;j++){var grandVariantTotal=0;for(var x=0;x<_variants[j].trx.length;x++)grandVariantTotal+=_variants[j].trx[x];var _perc=grandVariantTotal/grandMonthTotal;var _mgPerc=_perc*_variants[j].mg;_avgDose+=_mgPerc;}_avgDose=_avgDose.toFixed(1);var _clr=calculate.target.values[i].color;_data.push({drugId:calculate.target.values[i].drugId,color:_clr,label:calculate.target.values[i].htmlLabel,pdfLabel:calculate.target.values[i].htmlLabel,minDose:calculate.target.values[i].minDose,maxDose:calculate.target.values[i].maxDose,avgDose:_avgDose});}}else{var _variants=calculate.calculations.drugVariants(i);if(calculate.target.values[i].drugId=="aristada"){}for(var x=0;x<calculate.target.trxUtilizationDates.length;x++)_monthTotals.push(calculate.calculations.drugVariantTotalForMonthTest(i,x));var grandMonthTotal=0;for(j=0;j<_monthTotals.length;j++)grandMonthTotal+=_monthTotals[j];if(calculate.target.values[i].drugId=="aristada"){}var _avgDose;_avgDose=0;for(var j=0;j<_variants.length;j++){var grandVariantTotal=0;for(var x=0;x<_variants[j].trx.length;x++){var val=_variants[j].trx[x];var adjustedVal=val;var adjustmentMultiplier=1;if(calculate.isBenchmark)if(_variants[j].label.indexOf('Weeks')!=-1||_variants[j].label.indexOf('Months')!=-1)if(calculate.wait_for_init()){adjustmentMultiplier=calculate.getAdjustmentMultiplier(_variants[j].label);adjustedVal=val*adjustmentMultiplier;}if((calculate.target.values[i].drugId=="aristada")&&(_variants[j].label.indexOf("Weeks")!=-1)){}grandVariantTotal+=adjustedVal;}if(calculate.target.values[i].drugId=="aristada"){}var _perc=grandVariantTotal/grandMonthTotal;var _mgPerc=_perc*_variants[j].mg;if(calculate.target.values[i].drugId=="aristada"){}_avgDose+=_mgPerc;}_avgDose=_avgDose.toFixed(1);if(_avgDose=='445.6')_avgDose=calculate.getAristadaVal('445.6').toFixed(1);var _clr=calculate.target.values[i].color;_data.push({drugId:calculate.target.values[i].drugId,color:_clr,label:calculate.target.values[i].htmlLabel,pdfLabel:calculate.target.values[i].htmlLabel,minDose:calculate.target.values[i].minDose,maxDose:calculate.target.values[i].maxDose,avgDose:_avgDose});}}return _data;},wac:function(forExport){var _data={labels:[],drugIds:[],pdfLabels:[],datasets:[{fillColor:[],strokeColor:[],pointColor:"rgba(46,204,113,1)",markerShape:"circle",pointStrokeColor:"rgba(59,105,78,1)",data:[],title:""}],datalegendLable:[]};for(var i=0;i<calculate.target.values.length;i++)if(calculate.isBeingStupid){if(calculate.target.values[i].htmlLabel.indexOf('ARISTADA')==-1&&calculate.target.values[i].htmlLabel.indexOf('TRINZA')==-1){_data.datasets[0].fillColor.push(calculate.target.values[i].color);_data.datasets[0].strokeColor.push(calculate.target.values[i].color);_data.pdfLabels.push(calculate.target.values[i].htmlLabel);_data.drugIds.push(calculate.target.values[i].drugId);_data.labels.push(calculate.target.values[i].chartLabel.replace(' ','\n').replace('','').replace('','').replace('',''));_data.datalegendLable.push(calculate.target.values[i].chartLabel.replace('\n','<br/>'));var _variants=calculate.calculations.drugVariants(i);var _wacTotal=0;for(var j=0;j<_variants.length;j++){var _perc=calculate.calculations.wacDrugVariantPercentage(i,j);var _percXWac=_perc*_variants[j].wac;_wacTotal+=_percXWac;}_data.datasets[0].data.push(_wacTotal.toFixed(2));}}else{_data.datasets[0].fillColor.push(calculate.target.values[i].color);_data.datasets[0].strokeColor.push(calculate.target.values[i].color);_data.pdfLabels.push(calculate.target.values[i].htmlLabel);_data.drugIds.push(calculate.target.values[i].drugId);var chartLabel=calculate.target.values[i].chartLabel;_data.labels.push(calculate.target.values[i].chartLabel.replace(/(\n|\r\n|\r){1,2}/g,'\r\n').replace(' ','\r\n').replace('reg','\%AE'));_data.datalegendLable.push(calculate.target.values[i].chartLabel.replace('\n','<br/>'));var _variants=calculate.calculations.drugVariants(i);var _wacTotal=0;for(var j=0;j<_variants.length;j++){var _perc=calculate.calculations.wacDrugVariantPercentageTest(i,j).toFixed(3);if(isNaN(_perc))_wacTotal+=0;else{var _percXWac=0;if(_variants[j].label.indexOf('ARISTADA INITIO')==-1&&_variants[j].label.indexOf('ARISTADA')!==-1&&_variants[j].pdfLabel.indexOf('4 Weeks')===-1)_percXWac=_perc*((_variants[j].wac/calculate.getDaysForNumOfDayCalculation(_variants[j].label))*30);else _percXWac=_perc*_variants[j].wac;_wacTotal+=_percXWac;}}if(_wacTotal.toFixed(2)=='2063.34')_wacTotal=calculate.getAristadaVal('2063.34');if(_wacTotal.toFixed(2)=='2050.09')_wacTotal=calculate.getAristadaVal('2050.09');if(_wacTotal)_data.datasets[0].data.push(Number(_wacTotal).toFixed(2));else{var perserisTotal='3990.00';_data.datasets[0].data.push(Number(perserisTotal).toFixed(2));}}var _diff=7-_data.datasets[0].data.length;if(_diff>0)for(i=0;i<_diff;i++){_data.datasets[0].data.push(0);_data.datasets[0].fillColor.push('rgba(255, 255, 255, 0)');_data.labels.push(' ');}return _data;},trends:{chart1:function(){var _labels=calculate.target.trxUtilizationDates;var _data={labels:_labels,datasets:[]};for(var i=0;i<calculate.target.values.length;i++){var _dataTotals=[];var _monthTotals=[];if(calculate.isBeingStupid){console.log('trends function current array: ',calculate.target.values[i]);if(calculate.target.values[i].htmlLabel.indexOf('ARISTADA')==-1&&calculate.target.values[i].htmlLabel.indexOf('TRINZA')==-1){var _variants=calculate.calculations.drugVariants(i);for(var x=0;x<calculate.target.trxUtilizationDates.length;x++)_monthTotals.push(calculate.calculations.drugVariantTotalForMonth(i,x));for(var x=0;x<_monthTotals.length;x++){var _monthTotal=_monthTotals[x];var _monthPercTotal=0;for(var j=0;j<_variants.length;j++)if(_variants[j].trx[x]!=0){var _perc=_variants[j].trx[x]/_monthTotal;if(_variants[j].wacAdjustment)_perc=_perc*_variants[j].wacAdjustment;_perc=_perc*_variants[j].mg;_monthPercTotal+=_perc;}_dataTotals.push(Math.round(_monthPercTotal));}}}else{var _variants=calculate.calculations.drugVariants(i);for(var x=0;x<calculate.target.trxUtilizationDates.length;x++)_monthTotals.push(calculate.calculations.drugVariantTotalForMonthTest(i,x));for(var x=0;x<_monthTotals.length;x++){var _monthTotal=_monthTotals[x];var _monthPercTotal=0;for(var j=0;j<_variants.length;j++){var val=_variants[j].trx[x];if(_monthTotal==0)var _perc=0;else var _perc=val/_monthTotal;_perc=_perc*_variants[j].mg;_monthPercTotal+=_perc;}var mt=Math.round(_monthPercTotal);if(mt==0)_dataTotals.push(undefined);else _dataTotals.push(mt);}}if(calculate.isBeingStupid){if(calculate.target.values[i].htmlLabel.indexOf('ARISTADA')==-1&&calculate.target.values[i].htmlLabel.indexOf('TRINZA')==-1){var _clr=calculate.target.values[i].color;_data.datasets.push({fillColor:_clr,strokeColor:_clr,pointColor:_clr,markerShape:"circle",pointStrokeColor:_clr,data:_dataTotals,title:calculate.target.values[i].chartLabel,pdfTitle:calculate.target.values[i].htmlLabel});}}else{var _clr=calculate.target.values[i].color;_data.datasets.push({fillColor:_clr,strokeColor:_clr,pointColor:_clr,markerShape:"circle",pointStrokeColor:_clr,data:_dataTotals,title:calculate.target.values[i].chartLabel,pdfTitle:calculate.target.values[i].htmlLabel});}}return _data;},getDate:function(dateString){date=dateString.split(' ');if(date.length==1)date=dateString.split('-');var year=date[1].length==2?20+date[1]:date[1];var dt=new Date();dt.setFullYear(parseInt(year));dt.setMonth(parseInt(this.getMonthNumber(date[0])));dt.setDate(1);return dt;},getMonthNumber:function(monthString){var dateHash={Jan:'01',Feb:'02',Mar:'03',Apr:'04',May:'05',Jun:'06',Jul:'07',Aug:'08',Sep:'09',Oct:'10',Nov:'11',Dec:'12'};return dateHash[monthString];},chart2:function(){var _data={labels:calculate.target.trxUtilizationDates,datasets:[]};for(var i=0;i<calculate.target.values.length;i++){var _dataTotals=[];var _monthTotals=[];var _variants=calculate.calculations.drugVariants(i);for(var x=0;x<calculate.target.trxUtilizationDates.length;x++)_monthTotals.push(calculate.calculations.drugVariantTotalForMonthTest(i,x));for(var x=0;x<_monthTotals.length;x++){var _monthTotal=_monthTotals[x];var _monthPercTotal=0;for(var j=0;j<_variants.length;j++){var val=_variants[j].trx[x];if(_variants[j].label.indexOf('Weeks')!=-1)val=val*calculate.getAdjustmentMultiplier(_variants[j].label);var _perc=val/_monthTotal;if(_variants[j].wacAdjustment)_perc=_perc*_variants[j].wacAdjustment;_perc=_perc*_variants[j].wac;_monthPercTotal+=_perc;}var mt=calculate.getAristadaVal(_monthPercTotal.toFixed(2));if(mt==0)_dataTotals.push(undefined);else if(calculate.target.values[i].drugId=='aristada'&&calculate.isBenchmark){var adjustedMt=664+parseFloat(mt);_dataTotals.push(adjustedMt);}else _dataTotals.push(mt);}if(calculate.isBeingStupid){if(calculate.target.values[i].htmlLabel.indexOf('ARISTADA')==-1&&calculate.target.values[i].htmlLabel.indexOf('TRINZA')==-1){var _clr=calculate.target.values[i].color;_data.datasets.push({drugId:calculate.target.values[i].drugId,fillColor:_clr,strokeColor:_clr,pointColor:_clr,markerShape:"circle",pointStrokeColor:_clr,data:_dataTotals,title:calculate.target.values[i].chartLabel,pdfTitle:calculate.target.values[i].htmlLabel});}}else{var _clr=calculate.target.values[i].color;_data.datasets.push({drugId:calculate.target.values[i].drugId,fillColor:_clr,strokeColor:_clr,pointColor:_clr,markerShape:"circle",pointStrokeColor:_clr,data:_dataTotals,title:calculate.target.values[i].chartLabel,pdfTitle:calculate.target.values[i].htmlLabel});}}return _data;}}},options:{wac:{responsive:false,canvasBackgroundColor:'rgba(255,255,255,0)',savePng:false,savePngBackgroundColor:'rgba(255,255,255,0)',spaceLeft:10,spaceRight:100,spaceTop:65,spaceBottom:0,canvasBorders:false,canvasBordersWidth:4,canvasBordersStyle:"solid",canvasBordersColor:"rgba(242,242,242,1)",scaleShowLabels:true,scaleShowLine:true,scaleLineStyle:"solid",scaleLineWidth:2,scaleLineColor:"rgba(250,250,250,0)",scaleOverlay:false,scaleOverride:true,scaleSteps:10,scaleStepWidth:200,scaleStartValue:0,inGraphDataShow:true,inGraphDataTmpl:"<%=(v3 > 0 ? '$'+v3 : 'N/A')%>",inGraphDataFontFamily:"'Open Sans'",inGraphDataFontStyle:"normal normal",inGraphDataFontColor:"rgba(79,79,79,1)",inGraphDataFontSize:12,inGraphDataPaddingX:0,inGraphDataPaddingY:10,inGraphDataAlign:"center",inGraphDataVAlign:"bottom",inGraphDataXPosition:2,inGraphDataYPosition:3,inGraphDataAnglePosition:2,inGraphDataRadiusPosition:2,inGraphDataRotate:"smart",inGraphDataPaddingAngle:0,inGraphDataPaddingRadius:0,inGraphDataBorders:false,inGraphDataBordersXSpace:1,inGraphDataBordersYSpace:1,inGraphDataBordersWidth:1,inGraphDataBordersStyle:"solid",inGraphDataBordersColor:"rgba(0,0,0,1)",legend:false,maxLegendCols:5,legendBlockSize:15,legendFillColor:'rgba(255,255,255,0.00)',legendColorIndicatorStrokeWidth:1,legendPosX:-2,legendPosY:4,legendXPadding:0,legendYPadding:0,legendBorders:false,legendBordersWidth:1,legendBordersStyle:"solid",legendBordersColors:"rgba(102,102,102,1)",legendBordersSpaceBefore:5,legendBordersSpaceLeft:5,legendBordersSpaceRight:5,legendBordersSpaceAfter:5,legendSpaceBeforeText:5,legendSpaceLeftText:5,legendSpaceRightText:5,legendSpaceAfterText:5,legendSpaceBetweenBoxAndText:5,legendSpaceBetweenTextHorizontal:5,legendSpaceBetweenTextVertical:5,legendFontFamily:"'Open Sans'",legendFontStyle:"normal normal",legendFontColor:"rgba(59,59,59,1)",legendFontSize:21,showYAxisMin:true,rotateLabels:0,xAxisBottom:true,yAxisLeft:true,yAxisRight:false,yAxisUnit:" ",scaleFontFamily:"'Open Sans'",scaleFontStyle:"bold",scaleFontColor:"rgba(0,0,0,1)",scaleFontSize:12,pointLabelFontFamily:"'Open Sans'",pointLabelFontStyle:"normal normal",pointLabelFontColor:"rgba(102,102,102,1)",pointLabelFontSize:12,angleShowLineOut:true,angleLineStyle:"solid",angleLineWidth:1,angleLineColor:"rgba(0,0,0,0.1)",percentageInnerCutout:50,scaleShowGridLines:true,scaleGridLineStyle:"solid",scaleGridLineWidth:1,scaleGridLineColor:"rgba(0,0,0,0.22)",scaleXGridLinesStep:0,segmentShowStroke:true,segmentStrokeStyle:"solid",segmentStrokeWidth:2,segmentStrokeColor:"rgba(255,255,255,1.00)",datasetStroke:true,datasetFill:false,datasetStrokeStyle:"solid",datasetStrokeWidth:3,bezierCurve:false,bezierCurveTension:0.4,pointDotStrokeStyle:"solid",pointDotStrokeWidth:2,pointDotRadius:5,pointDot:true,graphMin:0,barShowStroke:true,barBorderRadius:12,barStrokeStyle:"solid",barStrokeWidth:0,barValueSpacing:20,barDatasetSpacing:0,scaleShowLabelBackdrop:true,scaleBackdropColor:'rgba(255,255,255,0.75)',scaleBackdropPaddingX:2,scaleBackdropPaddingY:2,animation:false,rotateLabels:0,annotateDisplay:false,annotateLabel:'<%=v2%>',annotatePadding:"6px 30px 6px 30px",annotateFontFamily:"'Open Sans'",annotateFontStyle:"normal normal",annotateFontColor:"rgba(255,255,255,1.00)",annotateFontSize:11,annotateBorderRadius:"6px",annotateBorder:"1px rgba(170,170,170,0.7) solid ",annotateBackgroundColor:'rgba(0,0,0,0.75)',annotateFunctionIn:function(){setTimeout(function(){$('#divCursor').hide();},2500);},fmtYLabel:"Dollars",xAxisFontStyle:"bold bold",onAnimationComplete:function(){},yAxisMinimumInterval:100,showYLabels:1,scaleYGridLinesStep:1,scaleTickSizeLeft:0,scaleTickSizeBottom:0,drawXScaleLine:[{position:"bottom",lineWidth:2,lineColor:"#999999"}],endDrawScaleFunction:drawShapes,scaleTickSizeTop:0,scaleTickSizeRight:0},wacStupid:{responsive:false,canvasBackgroundColor:'rgba(255,255,255,0.00)',savePng:false,savePngBackgroundColor:'rgba(255,255,255,0.00)',spaceLeft:10,spaceRight:100,spaceTop:0,spaceBottom:0,canvasBorders:false,canvasBordersWidth:4,canvasBordersStyle:"solid",canvasBordersColor:"rgba(242,242,242,1)",scaleShowLabels:true,scaleShowLine:true,scaleLineStyle:"solid",scaleLineWidth:2,scaleLineColor:"rgba(250,250,250,0)",scaleOverlay:false,scaleOverride:false,scaleSteps:10,scaleStepWidth:10,scaleStartValue:0,inGraphDataShow:true,inGraphDataTmpl:'$<%=v3%>',inGraphDataFontFamily:"'Open Sans'",inGraphDataFontStyle:"normal normal",inGraphDataFontColor:"rgba(79,79,79,1)",inGraphDataFontSize:12,inGraphDataPaddingX:0,inGraphDataPaddingY:10,inGraphDataAlign:"center",inGraphDataVAlign:"bottom",inGraphDataXPosition:2,inGraphDataYPosition:3,inGraphDataAnglePosition:2,inGraphDataRadiusPosition:2,inGraphDataRotate:"smart",inGraphDataPaddingAngle:0,inGraphDataPaddingRadius:0,inGraphDataBorders:false,inGraphDataBordersXSpace:1,inGraphDataBordersYSpace:1,inGraphDataBordersWidth:1,inGraphDataBordersStyle:"solid",inGraphDataBordersColor:"rgba(0,0,0,1)",legend:false,maxLegendCols:5,legendBlockSize:15,legendFillColor:'rgba(255,255,255,0.00)',legendColorIndicatorStrokeWidth:1,legendPosX:-2,legendPosY:4,legendXPadding:0,legendYPadding:0,legendBorders:false,legendBordersWidth:1,legendBordersStyle:"solid",legendBordersColors:"rgba(102,102,102,1)",legendBordersSpaceBefore:5,legendBordersSpaceLeft:5,legendBordersSpaceRight:5,legendBordersSpaceAfter:5,legendSpaceBeforeText:5,legendSpaceLeftText:5,legendSpaceRightText:5,legendSpaceAfterText:5,legendSpaceBetweenBoxAndText:5,legendSpaceBetweenTextHorizontal:5,legendSpaceBetweenTextVertical:5,legendFontFamily:"'Open Sans'",legendFontStyle:"normal normal",legendFontColor:"rgba(59,59,59,1)",legendFontSize:21,showYAxisMin:true,rotateLabels:0,xAxisBottom:true,yAxisLeft:true,yAxisRight:false,yAxisUnit:" ",scaleFontFamily:"'Open Sans'",scaleFontStyle:"Bold",scaleFontColor:"rgba(0,0,0,1)",scaleFontSize:10,pointLabelFontFamily:"'Open Sans'",pointLabelFontStyle:"normal normal",pointLabelFontColor:"rgba(102,102,102,1)",pointLabelFontSize:12,angleShowLineOut:true,angleLineStyle:"solid",angleLineWidth:1,angleLineColor:"rgba(0,0,0,0.1)",percentageInnerCutout:50,scaleShowGridLines:true,scaleGridLineStyle:"solid",scaleGridLineWidth:1,scaleGridLineColor:"rgba(0,0,0,0.22)",scaleXGridLinesStep:0,segmentShowStroke:true,segmentStrokeStyle:"solid",segmentStrokeWidth:2,segmentStrokeColor:"rgba(255,255,255,1.00)",datasetStroke:true,datasetFill:false,datasetStrokeStyle:"solid",datasetStrokeWidth:3,bezierCurve:false,bezierCurveTension:0.4,pointDotStrokeStyle:"solid",pointDotStrokeWidth:2,pointDotRadius:5,pointDot:true,graphMin:0,barShowStroke:false,barBorderRadius:12,barStrokeStyle:"solid",barStrokeWidth:5,barValueSpacing:20,barDatasetSpacing:0,scaleShowLabelBackdrop:true,scaleBackdropColor:'rgba(255,255,255,0.75)',scaleBackdropPaddingX:2,scaleBackdropPaddingY:2,animation:false,rotateLabels:0,annotateDisplay:false,annotateLabel:'<%=v2%>',annotatePadding:"6px 30px 6px 30px",annotateFontFamily:"'Open Sans'",annotateFontStyle:"normal normal",annotateFontColor:"rgba(255,255,255,1.00)",annotateFontSize:11,annotateBorderRadius:"6px",annotateBorder:"1px rgba(170,170,170,0.7) solid ",annotateBackgroundColor:'rgba(0,0,0,0.75)',annotateFunctionIn:function(){setTimeout(function(){$('#divCursor').hide();},2500);},fmtYLabel:"Dollars",xAxisFontStyle:"bold bold",onAnimationComplete:function(){},yAxisMinimumInterval:100,showYLabels:1,scaleYGridLinesStep:1,scaleTickSizeLeft:0,scaleTickSizeBottom:0,graphMax:1800,drawXScaleLine:[{position:"bottom",lineWidth:2,lineColor:"#999999"}]},trends:{responsive:false,canvasBackgroundColor:'#ffffff',savePng:false,savePngBackgroundColor:'#ffffff',spaceLeft:0,spaceRight:0,spaceTop:12,spaceBottom:0,canvasBorders:false,canvasBordersWidth:1,canvasBordersStyle:"solid",canvasBordersColor:"rgba(0,0,0,1)",yAxisMinimumInterval:50,scaleShowLabels:true,scaleShowLine:false,scaleLineStyle:"solid",scaleLineWidth:0,scaleLineColor:"rgba(227,220,220,0)",scaleOverlay:false,scaleOverride:false,scaleSteps:10,scaleStepWidth:10,scaleStartValue:0,legend:false,maxLegendCols:5,legendBlockSize:15,legendFillColor:'rgba(255,255,255,0.00)',legendColorIndicatorStrokeWidth:1,legendPosX:-2,legendPosY:4,legendXPadding:0,legendYPadding:0,legendBorders:false,legendBordersWidth:1,legendBordersStyle:"solid",legendBordersColors:"rgba(102,102,102,1)",legendBordersSpaceBefore:5,legendBordersSpaceLeft:5,legendBordersSpaceRight:5,legendBordersSpaceAfter:5,legendSpaceBeforeText:5,legendSpaceLeftText:5,legendSpaceRightText:5,legendSpaceAfterText:5,legendSpaceBetweenBoxAndText:5,legendSpaceBetweenTextHorizontal:5,legendSpaceBetweenTextVertical:5,legendFontFamily:"'Open Sans'",legendFontStyle:"normal normal",legendFontColor:"rgba(0,0,0,1)",legendFontSize:15,yAxisFontFamily:"'Open Sans'",yAxisFontStyle:"bold bold",yAxisFontColor:"rgba(102,102,102,1)",yAxisFontSize:14,yAxisLabel:"Milligrams",showYAxisMin:true,rotateLabels:0,xAxisBottom:true,yAxisLeft:true,yAxisRight:false,scaleFontFamily:"'Open Sans'",scaleFontStyle:"Bold",scaleFontColor:"rgba(0,0,0,1)",scaleFontSize:10,pointLabelFontFamily:"'Open Sans'",pointLabelFontStyle:"normal normal",pointLabelFontColor:"rgba(102,102,102,1)",pointLabelFontSize:10,angleShowLineOut:true,angleLineStyle:"solid",angleLineWidth:1,angleLineColor:"rgba(0,0,0,0.1)",percentageInnerCutout:50,scaleShowGridLines:true,scaleGridLineStyle:"solid",scaleGridLineWidth:1,scaleGridLineColor:"rgba(0,0,0,0.1)",scaleXGridLinesStep:0,scaleYGridLinesStep:1,segmentShowStroke:true,segmentStrokeStyle:"solid",segmentStrokeWidth:2,segmentStrokeColor:"rgba(255,255,255,1.00)",datasetStroke:true,datasetFill:false,datasetStrokeStyle:"solid",datasetStrokeWidth:2,bezierCurve:false,bezierCurveTension:0.4,pointDotStrokeStyle:"solid",pointDotStrokeWidth:3,pointDotRadius:2,pointDot:true,drawXScaleLine:[{position:"0",lineWidth:0,lineColor:"rgba(33,33,33,0.52)"},{position:"bottom",lineWidth:2,lineColor:"#999999"}],barShowStroke:false,barBorderRadius:0,barStrokeStyle:"solid",barStrokeWidth:1,barValueSpacing:15,barDatasetSpacing:0,scaleShowLabelBackdrop:true,scaleBackdropColor:'rgba(255,255,255,0.75)',scaleBackdropPaddingX:2,scaleBackdropPaddingY:2,animation:false,annotateDisplay:true,annotateLabel:'<%=v1%>: <%=v3%> mg',annotatePadding:"6px 30px 6px 30px",annotateFontFamily:"'Open Sans'",annotateFontStyle:"normal normal",annotateFontColor:"rgba(255,255,255,1.00)",annotateFontSize:11,annotateBorderRadius:"6px",annotateBorder:"1px rgba(170,170,170,0.7) solid ",annotateBackgroundColor:'rgba(0,0,0,0.75)',fmtXLabel:"Months",annotateFunctionIn:function(){setTimeout(function(){$('#divCursor').hide();},2500);},onAnimationComplete:function(){},showXLabels:function(area,ctx,data,statData,posi,posj,othervars){if(data.datasets[0].data.length>4)var _steps=data.datasets[0].data.length-1;else var _steps=1;return _steps;},showYLabels:1,scaleTickSizeLeft:0,scaleTickSizeBottom:0},trends2:{responsive:false,canvasBackgroundColor:'#ffffff',savePng:false,savePngBackgroundColor:'#ffffff',spaceLeft:0,spaceRight:0,spaceTop:12,spaceBottom:0,canvasBorders:false,canvasBordersWidth:1,canvasBordersStyle:"solid",canvasBordersColor:"rgba(0,0,0,1)",yAxisMinimumInterval:100,scaleShowLabels:true,scaleShowLine:false,scaleLineStyle:"solid",scaleLineWidth:0,scaleLineColor:"rgba(227,220,220,0)",scaleOverlay:false,scaleOverride:true,scaleSteps:14,scaleStepWidth:200,scaleStartValue:0,legend:false,maxLegendCols:5,legendBlockSize:15,legendFillColor:'rgba(255,255,255,0.00)',legendColorIndicatorStrokeWidth:1,legendPosX:-2,legendPosY:4,legendXPadding:0,legendYPadding:0,legendBorders:false,legendBordersWidth:1,legendBordersStyle:"solid",legendBordersColors:"rgba(102,102,102,1)",legendBordersSpaceBefore:5,legendBordersSpaceLeft:5,legendBordersSpaceRight:5,legendBordersSpaceAfter:5,legendSpaceBeforeText:5,legendSpaceLeftText:5,legendSpaceRightText:5,legendSpaceAfterText:5,legendSpaceBetweenBoxAndText:5,legendSpaceBetweenTextHorizontal:5,legendSpaceBetweenTextVertical:5,legendFontFamily:"'Open Sans'",legendFontStyle:"normal normal",legendFontColor:"rgba(0,0,0,1)",legendFontSize:15,yAxisFontFamily:"'Open Sans'",yAxisFontStyle:"normal normal",yAxisFontColor:"rgba(102,102,102,1)",yAxisFontSize:16,yAxisLabel:"",yAxisUnit:" ",showYAxisMin:true,rotateLabels:0,xAxisBottom:true,yAxisLeft:true,yAxisRight:false,scaleFontFamily:"'Open Sans'",scaleFontStyle:"Bold",scaleFontColor:"rgba(0,0,0,1)",scaleFontSize:10,pointLabelFontFamily:"'Open Sans'",pointLabelFontStyle:"normal normal",pointLabelFontColor:"rgba(102,102,102,1)",pointLabelFontSize:10,angleShowLineOut:true,angleLineStyle:"solid",angleLineWidth:1,angleLineColor:"rgba(0,0,0,0.1)",percentageInnerCutout:50,scaleShowGridLines:true,scaleGridLineStyle:"solid",scaleGridLineWidth:1,scaleGridLineColor:"rgba(0,0,0,0.1)",scaleXGridLinesStep:0,scaleYGridLinesStep:1,segmentShowStroke:true,segmentStrokeStyle:"solid",segmentStrokeWidth:2,segmentStrokeColor:"rgba(255,255,255,1.00)",datasetStroke:true,datasetFill:false,datasetStrokeStyle:"solid",datasetStrokeWidth:2,bezierCurve:false,graphMin:0,bezierCurveTension:0.4,pointDotStrokeStyle:"solid",pointDotStrokeWidth:3,pointDotRadius:2,pointDot:true,drawXScaleLine:[{position:"0",lineWidth:1,lineColor:"rgba(33,33,33,0.52)"},{position:"bottom",lineWidth:2,lineColor:"#999999"}],barShowStroke:false,barBorderRadius:0,barStrokeStyle:"solid",barStrokeWidth:1,barValueSpacing:15,barDatasetSpacing:0,scaleShowLabelBackdrop:true,scaleBackdropColor:'rgba(255,255,255,0.75)',scaleBackdropPaddingX:2,scaleBackdropPaddingY:2,animation:false,annotateDisplay:true,annotateLabel:'<%=v1%>: $<%=v3%>',annotatePadding:"6px 30px 6px 30px",annotateFontFamily:"'Open Sans'",annotateFontStyle:"normal normal",annotateFontColor:"rgba(255,255,255,1.00)",annotateFontSize:11,annotateBorderRadius:"6px",annotateBorder:"1px rgba(170,170,170,0.7) solid ",annotateBackgroundColor:'rgba(0,0,0,0.75)',fmtXLabel:"Months",fmtYLabel:"Dollars",annotateFunctionIn:function(){setTimeout(function(){$('#divCursor').hide();},2500);},onAnimationComplete:function(){},showXLabels:function(area,ctx,data,statData,posi,posj,othervars){if(data.datasets[0].data.length>4)var _steps=data.datasets[0].data.length-1;else var _steps=1;return _steps;},showYLabels:1,scaleTickSizeLeft:0,scaleTickSizeBottom:0}},buildDoseMix:function(selectedDrug,target,legendTarget,forExport,aristadaVariant){Highcharts.wrap(Highcharts.seriesTypes.pie.prototype,'drawPoints',function(proceed){if(this.options.borderWidth==0)Highcharts.each(this.points,function(point){point.pointAttr['']['stroke-width']=1;point.pointAttr[''].stroke=point.pointAttr[''].fill;point.pointAttr['hover']['stroke-width']=1;point.pointAttr['hover'].stroke=point.pointAttr['hover'].fill;point.pointAttr['select']['stroke-width']=1;point.pointAttr['select'].stroke=point.pointAttr['select'].fill;});proceed.apply(this);});if(!target)target='#doseMixChart';if(!legendTarget)legendTarget='.dose-mix-chart-legend';var _size=300;var _labelSize='16px';var _distance=30;var _color='black';if(forExport==true){_size=375;_labelSize='22px';_distance=-70;_color='white';}else{_size=345;_labelSize='16px';}setTimeout(function(){var _data=calculate.charts.data.hcDoseMix(selectedDrug,forExport);if(aristadaVariant){let arr=[];_data.forEach((data)=>{if(data.pdfTitle.indexOf(aristadaVariant)!=-1)arr.push(data);});_data=arr;}if(_data.length==1&&forExport==true)_distance=-195;var theTarget='';if(target.indexOf('exp')==-1)theTarget='.chart-container.dose-mix';else theTarget=target.replace('#','.');$(String(theTarget)).highcharts({chart:{plotBackgroundColor:'rgba(0,0,0,0)',plotBorderWidth:null,plotShadow:false,type:'pie',backgroundColor:'rgba(255,255,255,0)'},title:{text:' '},tooltip:{pointFormat:'{point.percentage:.1f}%</b>',backgroundColor:'rgba(0,0,0,1)',borderRadius:12,followPointer:true,borderColor:'rgba(0,0,0,1)',formatter:function(){return this.key;},style:{color:'#ffffff',fontSize:'14px',padding:'8px'}},plotOptions:{pie:{size:_size,allowPointSelect:false,cursor:'pointer',dataLabels:{connectorColor:'black',enabled:true,connectorShape:'straight',crookDistance:'90%',alignTo:'center',distance:_distance,format:aristadaVariant?'{point.percentage:.1f} %, ({point.y:.1f} %)':'{point.percentage:.1f} % ',formatter:function(){if(aristadaVariant)return (this.y*100).toFixed(1)+' %';else{if(this.percentage.toFixed(1)=='50.5')this.percentage=50.6;if(this.percentage.toFixed(1)=='14.7'&&this.key.toLowerCase().indexOf('aristada')!=-1)this.percentage=14.6;return this.percentage.toFixed(1)+' %';}},style:{color:_color,fontSize:_labelSize}}}},series:[{animation:false,name:"Brands",colorByPoint:true,lineWidth:0,borderWidth:0,states:{hover:{enabled:false}},data:_data}]});if(!aristadaVariant)calculate.charts.buildPieLegend(_data,legendTarget,forExport);},100);},removeOrreplaceSups:function(params){if(params.indexOf('ZYPREXA ')!==-1)return params.replace("**","");return params.indexOf('ARISTADA INITIO')!==-1?params.substring(0,params.lastIndexOf('<sup>')):params;},buildWad:function(forExport){var _data=calculate.charts.data.wad();var _table='<tr class="row0">';_table+='<th class="col0"></th>';_table+='<th class="col1">Minimum Dose<br/>Strength*';_table+='</th>';_table+='<th class="col2">Maximum Dose<br/>Strength*';_table+='</th>';_table+='<th class="col3">Weighted Average Dose<br/>Strength</th>';_table+='</tr>';for(var i=0;i<_data.length;i++){_table+='<tr class="row'+(i+1)+'">';_table+='<td class="wad-table-drug col0" style="background-color:'+_data[i].color+'">';if(forExport==true)_table+=calculate.charts.removeOrreplaceSups(_data[i].pdfLabel)+'</td>';else _table+=calculate.charts.removeOrreplaceSups(_data[i].label)+'</td>';_table+='<td class="col1">'+_data[i].minDose+'</td>';_table+='<td class="col2">'+_data[i].maxDose+'</td>';if(!calculate.isBenchmark)_table+='<td class="col3">'+Number(_data[i].avgDose).toFixed(1)+' mg</td>';else _table+='<td class="col3">'+_data[i].avgDose+' mg</td>';_table+='</tr>';}$('.wad-table').html(_table);},buildWac:function(target,legendTarget,forExport){if(!target)target='.wac-chart';if(target.indexOf('exp')==-1){var _canvas='<canvas class="wac-chart" id="wacChart" width="600" height="400"></canvas>';if(!forExport)_canvas='<canvas class="wac-chart" id="wacChart" width="730" height="400"></canvas>';$('.chart-container.wac').html(_canvas);}setTimeout(function(){if(target.indexOf('exp')==-1){var ctx=$('#wacChart').get(0).getContext("2d");if(!forExport){ctx.canvas.width=$('#wacChart').attr('width')-150;ctx.canvas.height=$('#wacChart').attr('height');}}else{var ctx=$(String(target)).get(0).getContext("2d");ctx.fillColor='#ffffff';ctx.fillStyle='#ffffff';ctx.fillRect(0,0,$(String(target)).width,$(String(target)).height);if(!forExport){ctx.canvas.width=$(String(target)).width()-150;ctx.canvas.height=$(String(target)).height();}}var _data=calculate.charts.data.wac(forExport);var _chartOptions=calculate.charts.options.wac;if(calculate.isBeingStupid==true)_chartOptions=calculate.charts.options.wacStupid;if(calculate.isBenchmark){_chartOptions.scaleSteps=10;_chartOptions.scaleStepWidth=600;}else{_chartOptions.scaleSteps=10;_chartOptions.scaleStepWidth=600;_chartOptions.spaceLeft=0;_chartOptions.spaceRight=50;}if(!forExport){_chartOptions.aspectRatio=function(){var containerW=$('#wacChart').attr('width')-200;var containerH=$('#wacChart').attr('height');var containerAspectRatio=containerW/containerH;return containerAspectRatio;};_chartOptions.maintainAspectRatio=true;_chartOptions.responsive=true;if(!calculate.isBenchmark)_chartOptions.scaleFontSize=9;}if(forExport){_chartOptions.scaleFontSize=10;_chartOptions.inGraphDataFontSize=10;}else{_chartOptions.scaleFontSize=9;_chartOptions.inGraphDataFontSize=9;}var drugOneToCombine=$.inArray('aristada',_data.drugIds);var drugTwoToCombine=$.inArray('aristada_initio',_data.drugIds);if(drugOneToCombine!=-1&&drugTwoToCombine!=-1){var maxElementRounded=_chartOptions.scaleSteps*_chartOptions.scaleStepWidth;var varticalVal=(parseFloat(_data.datasets["0"].data[drugOneToCombine])+parseFloat(_data.datasets["0"].data[drugTwoToCombine])).toFixed(2);var rowDiff=47.5;var unitcal=rowDiff/_chartOptions.scaleStepWidth;var totalDiff=maxElementRounded-varticalVal;var positionVal=totalDiff*unitcal;var verticalOffsetLine=calculate.isBenchmark?positionVal:positionVal;var verticalOffsetText=calculate.isBenchmark?positionVal-25:positionVal-25;var verticalOffsetNumber=calculate.isBenchmark?positionVal-10:positionVal-10;console.log('verticalOffsets',verticalOffsetLine,verticalOffsetText,verticalOffsetNumber,maxElementRounded);_data.shapesInChart=[{position:"INCHART",shape:"LINE",strokeStyle:"solid",strokeColor:"rgba(0,0,0,0.22)",animate:false,x1:drugOneToCombine,y1:maxElementRounded,paddingX1:0,paddingY1:verticalOffsetLine,x2:drugTwoToCombine,y2:maxElementRounded,paddingX2:0,paddingY2:verticalOffsetLine},{position:"INCHART",shape:"LINE",strokeStyle:"solid",strokeColor:"rgba(0,0,0,0.22)",animate:false,x1:drugOneToCombine,y1:maxElementRounded,paddingX1:0,paddingY1:-30,x2:drugOneToCombine,y2:_data.datasets["0"].data[drugOneToCombine],paddingX2:0,paddingY2:verticalOffsetLine},{position:"INCHART",shape:"LINE",strokeStyle:"solid",strokeColor:"rgba(0,0,0,0.22)",animate:false,x1:drugTwoToCombine,y1:maxElementRounded,paddingX1:0,paddingY1:-30,x2:drugTwoToCombine,y2:_data.datasets["0"].data[drugTwoToCombine],iter:7,paddingX2:0,paddingY2:verticalOffsetLine},{position:"INCHART",shape:"TEXT",text:"COMBINED TOTALS",textAlign:"center",textBaseline:"middle",fontColor:"black",fontStyle:"normal",fontSize:forExport?9:11,animate:false,x1:drugOneToCombine+0.5,iter:"first",y1:maxElementRounded,paddingX1:0,paddingY1:verticalOffsetText},{position:"INCHART",shape:"TEXT",text:'$'+(parseFloat(_data.datasets["0"].data[drugOneToCombine])+parseFloat(_data.datasets["0"].data[drugTwoToCombine])).toFixed(2),textAlign:"center",textBaseline:"middle",fontColor:"black",fontStyle:"normal",fontSize:forExport?9:11,animate:false,x1:drugOneToCombine+0.5,iter:"first",y1:maxElementRounded,paddingX1:0,paddingY1:verticalOffsetNumber}];}var wacChart=new Chart(ctx).Bar(_data,_chartOptions);if(forExport==true)calculate.charts.buildWacLegend(_data,legendTarget);},500);},buildTrends1:function(target,legendTarget,forExport){if(!target)target='.trends-chart1';if(!legendTarget)legendTarget='.trends-chart1-legend';if(target.indexOf('exp')==-1){var _canvas='<canvas class="trends-chart trends-chart1" id="trendsChart1" width="600" height="400"></canvas>';$('.chart-container.trends-chart-1').html(_canvas);}setTimeout(function(){if(target.indexOf('exp')==-1){var ctx=$('#trendsChart1').get(0).getContext("2d");if(!forExport){ctx.canvas.width=$('#trendsChart1').width();ctx.canvas.height=$('#trendsChart1').height();}}else{var ctx=$(String(target)).get(0).getContext("2d");ctx.fillColor='#ffffff';ctx.fillStyle='#ffffff';ctx.fillRect(0,0,$(String(target)).width,$(String(target)).height);if(!forExport){ctx.canvas.width=$(String(target)).width();ctx.canvas.height=$(String(target)).height();}}var _data=calculate.charts.data.trends.chart1();var trendsChart1options=calculate.charts.options.trends;if(!forExport){trendsChart1options.aspectRatio=function(){var containerW=$('#trendsChart1').attr('width');var containerH=$('#trendsChart1').attr('height');var containerAspectRatio=containerW/containerH;return containerAspectRatio;};trendsChart1options.maintainAspectRatio=true;trendsChart1options.responsive=true;trendsChart1options.spaceLeft=10;trendsChart1options.spaceRight=200;}var trendsChart1=new Chart(ctx).Line(_data,trendsChart1options);calculate.charts.buildLineLegend(_data,legendTarget,forExport);},500);},buildTrends2:function(target,legendTarget,forExport){if(!target)target='.trends-chart2';if(!legendTarget)legendTarget='.trends-chart2-legend';if(target.indexOf('exp')==-1){var _canvas='<canvas class="trends-chart trends-chart2" id="trendsChart2" width="600" height="400"></canvas>';$('.chart-container.trends-chart-2').html(_canvas);}setTimeout(function(){if(target.indexOf('exp')==-1){var ctx=$('#trendsChart2').get(0).getContext("2d");if(!forExport){ctx.canvas.width=$('#trendsChart2').width();ctx.canvas.height=$('#trendsChart2').height();}}else{var ctx=$(String(target)).get(0).getContext("2d");ctx.fillColor='#ffffff';ctx.fillStyle='#ffffff';ctx.fillRect(0,0,$(String(target)).width,$(String(target)).height);if(!forExport){ctx.canvas.width=$(String(target)).width();ctx.canvas.height=$(String(target)).height();}}var _data=calculate.charts.data.trends.chart2();var trendsChart2options=calculate.charts.options.trends2;if(!forExport){trendsChart2options.aspectRatio=function(){var containerW=$('#trendsChart2').attr('width');var containerH=$('#trendsChart2').attr('height');var containerAspectRatio=containerW/containerH;return containerAspectRatio;};trendsChart2options.maintainAspectRatio=true;trendsChart2options.responsive=true;trendsChart2options.spaceLeft=10;trendsChart2options.spaceRight=200;}var trendsChart2=new Chart(ctx).Line(_data,trendsChart2options);calculate.charts.buildLineLegend(_data,legendTarget,forExport);},500);},buildPieLegend:function(_data,_container,_forExport){if(_forExport==true)var _lgd='<table style="border-color: white; font-size: 7pt;">';else _lgd='<ul class="chart-legend">';for(var i=0;i<_data.length;i++)if(_forExport==true){_lgd+='<tr><td class="';_lgd+=calculate.charts.getPdfLegendClass(_data[i].pdfColor);_lgd+='" style="width: 20px; height: 20px; border-radius: 5px;"></td><td>&nbsp;&nbsp;'+_data[i].pdfTitle.replace('<br>','<br>&nbsp;&nbsp;').replace('/ 2mL','')+'</td></tr><tr><td style="height: 10px;"></td></tr>';}else{if(_data[i].legendTitle.indexOf('ARISTADA')!=-1&&_data[i].legendTitle.indexOf('ARISTADA INITIO')==-1){document.querySelector('#msgForAristada').style="display:block";let pdftitle=_data[i].pdfTitle.split(' ');_lgd+='<li style="cursor:pointer"><span style="background-color:'+_data[i].color+';"></span><div onclick=calculate.updateAristadaPieChart('+"'"+pdftitle[0].trim()+"'"+') id='+i+' style="border-bottom: solid;border-width: thin;position: absolute;margin-left: 24px;">'+_data[i].pdfTitle+'</div></li>';}else{_lgd+='<li><span style="background-color:'+_data[i].color+';"></span>'+_data[i].pdfTitle+'</li>';document.querySelector('#msgForAristada').style='display:none';}if(document.querySelector('#msgForZyprexia')!==null)if(_data[i].legendTitle.indexOf('ZYPREXA')!=-1)document.querySelector('#msgForZyprexia').style="display:block";else document.querySelector('#msgForZyprexia').style="display:none";}if(_forExport==true)_lgd+='</table>';else _lgd+='</ul>';$(String(_container)).html(_lgd);},buildLineLegend:function(_data,_container,_forExport){if(_forExport==true)var _lgd='<table style="border-color: white; font-size: 7pt;">';else _lgd='<ul class="chart-legend">';for(var i=0;i<_data.datasets.length;i++)if(_forExport==true){_lgd+='<tr><td class="';_lgd+=calculate.charts.getPdfLegendClass(_data.datasets[i].fillColor);_lgd+='" style="width: 25px; height: 25px; border-radius: 5px;"></td><td>&nbsp;&nbsp;'+_data.datasets[i].pdfTitle.replace('<br>','<br>&nbsp;&nbsp;')+'</td></tr><tr><td style="height: 10px;"></td></tr>';}else{var isInvega=false;var title=_data.datasets[i].title.replace('','<sup></sup>').replace('','<sup></sup>').replace('','<sup>&trade;</sup>').replace('','<sup>&reg;</sup>').replace('\n',' ');if(title.indexOf('INVEGA')!=-1||title.indexOf('ZYPREXA')!=-1)isInvega=true;_lgd+='<li';if(isInvega)_lgd+=' class="invega"';_lgd+='><span style="background-color:'+_data.datasets[i].strokeColor+';"></span>';if(isInvega)title=title.replace('(','<br>(');_lgd+=title;_lgd+='</li>';}if(_forExport==true)_lgd+='</table>';else _lgd+='</ul>';$(String(_container)).html(_lgd);},buildWacLegend:function(_data,_container){var _clrs=[{css:'drug0',clr:'#1F71B9'},{css:'drug1',clr:'#8EC0E7'},{css:'drug2',clr:'#A01C2D'},{css:'drug3',clr:'#DB675E'},{css:'drug4',clr:'#DA9528'},{css:'drug5',clr:'#99BC33'},{css:'drug6',clr:'#DFBC66'},{css:'drug7',clr:'#A2ABB1'},{css:'drug8',clr:'#FDBC5E'},{css:'drug9',clr:'#DB9528'},{css:'drug10',clr:'#008ED4'},{css:'drug11',clr:'#005674'},{css:'drug12',clr:'#870052'},{css:'drug13',clr:'#748090'},{css:'drug14',clr:'#C10018'},{css:'drug15',clr:'#00ACCD'},{css:'drug16',clr:'#4B8C41'},{css:'drug17',clr:'#C7B523'},{css:'drug18',clr:'#544799'},{css:'drug19',clr:'#0C4C8A'}];var _lgd='<table style="border-color: white; font-size: 7pt;">';for(var i=0;i<_data.datalegendLable.length;i++){_lgd+='<tr><td class="';for(var j=0;j<_clrs.length;j++)if(_data.datasets[0].fillColor[i]==_clrs[j].clr)_lgd+=_clrs[j].css;_lgd+='" style="width: 25px; height: 25px; border-radius: 5px;"></td><td>&nbsp;&nbsp;'+_data.datalegendLable[i].replace('<br>','<br>&nbsp;&nbsp;')+'</td></tr><tr><td style="height: 10px;"></td></tr>';}_lgd+='</table>';$(String(_container)).html(_lgd);},getPdfLegendClass:function(clr){var _clrs=[{css:'drug0',clr:'#1F71B9'},{css:'drug1',clr:'#8EC0E7'},{css:'drug2',clr:'#A01C2D'},{css:'drug3',clr:'#DB675E'},{css:'drug4',clr:'#DA9528'},{css:'drug5',clr:'#99BC33'},{css:'drug6',clr:'#DFBC66'},{css:'drug7',clr:'#A2ABB1'},{css:'drug8',clr:'#FDBC5E'},{css:'drug9',clr:'#DB9528'},{css:'drug10',clr:'#008ED4'},{css:'drug11',clr:'#005674'},{css:'drug12',clr:'#870052'},{css:'drug13',clr:'#748090'},{css:'drug14',clr:'#C10018'},{css:'drug15',clr:'#00ACCD'},{css:'drug16',clr:'#4B8C41'},{css:'drug17',clr:'#C7B523'},{css:'drug18',clr:'#544799'},{css:'drug19',clr:'#0C4C8A'}];var _ret=null;for(var i=0;i<_clrs.length;i++)if(_clrs[i].clr==clr)_ret=_clrs[i].css;return _ret;},getPdfLegendClassWac:function(lbl){}},aristadaBenchmarkHacks:[{from:'445.6',to:786.0},{from:'2063.34',to:2000.26},{from:'2050.09',to:2050.14}],getAristadaVal:function(from){var ret=null;for(var i=0;i<calculate.aristadaBenchmarkHacks.length;i++)if(String(from)==calculate.aristadaBenchmarkHacks[i].from)ret=calculate.aristadaBenchmarkHacks[i].to;if(!ret)ret=from;return ret;}};function fmtChartJSPerso(config,value,fmt){switch(fmt){case "Months":return_value=value;return_value=return_value.replace('Jan ','01/');return_value=return_value.replace('Feb ','02/');return_value=return_value.replace('Mar ','03/');return_value=return_value.replace('Apr ','04/');return_value=return_value.replace('May ','05/');return_value=return_value.replace('Jun ','06/');return_value=return_value.replace('Jul ','07/');return_value=return_value.replace('Aug ','08/');return_value=return_value.replace('Sep ','09/');return_value=return_value.replace('Oct ','10/');return_value=return_value.replace('Nov ','11/');return_value=return_value.replace('Dec ','12/');break;case "Dollars":return_value="$"+String(value)+'.00 ';break;default:return_value=value;break;}return (return_value);};;
(function($,Drupal,drupalSettings){Drupal.behaviors.rexultiVideoBehavior={attach:function attach(context){window.exportData={testMode:false,useHighCharts:true,url:'/Api/GeneratePdf',charts:{startDate:null,endDate:null,fourWeek:(values.aristada.fourWeek*100),sixWeek:(values.aristada.sixWeek*100),charts:[]},useSourceMarkup:false,sourceMarkup:"",makeSup:function(_str){return _str.replace('','<sup></sup>').replace('','<sup></sup>').replace('','<sup></sup>').replace('','<sup></sup>');},init:function(){var jqxhrSources=$.get("/benchmark_sources",function(data){if(data.drupal_data.use_dv_module_data==1){exportData.sourceMarkup=data.drupal_data.source_markup;exportData.sourceMarkup=exportData.sourceMarkup.replace('<strong>Sources:</strong><br>','');exportData.useSourceMarkup=true;console.log("AJAX call succeeded, export.js is using drupal provided data.");}else console.log("AJAX call succeeded, export.js is using values.js data.");exportData.finish_init();}).done(function(data){}).fail(function(){console.log("AJAX call failed, export.js is using values.js data");exportData.finish_init();}).always(function(){});},finish_init:function(){exportData.charts.startDate=calculator.pdfStartDate;exportData.charts.endDate=calculator.pdfEndDate;$('.export-chart-list li').click(function(){$(this).toggleClass('selected');if($('.export-chart-list li.selected').length==0)$('.btn-export-pdf').hide();else $('.btn-export-pdf').show();});$('.btn-export-pdf').click(function(){calculate.isBeingStupid=false;calculate.init(false);exportData.charts.charts=[];$('.export-chart-list li.selected').each(function(){var _chart=$(this).attr('rel-chart');if(_chart=='doseMix')for(var i=0;i<values.user.values.length;i++)if(!exportData.useHighCharts){$('.export-chart-container').append('<canvas id="exp-dose-mix-chart-'+i+'" class="exp-dose-mix-chart-'+i+'" width="300" height="300"></canvas><div class="exp-dose-mix-chart-'+i+'-legend"></div>');calculate.charts.buildDoseMix(i,'#exp-dose-mix-chart-'+i,'.exp-dose-mix-chart-'+i+'-legend',true);}else{$('.export-chart-container').append('<div id="exp-dose-mix-chart-'+i+'" class="exp-dose-mix-chart-'+i+'" style="width:600px;height:600px"></div><div class="exp-dose-mix-chart-'+i+'-legend"></div>');calculate.charts.buildDoseMix(i,'.exp-dose-mix-chart-'+i,'.exp-dose-mix-chart-'+i+'-legend',true);}else if(_chart=='wad'){$('.export-chart-container').append('<table class="wad-table"></table>');calculate.charts.buildWad(true);}else if(_chart=='wac'){$('.export-chart-container').append('<canvas id="exp-wac-chart" class="exp-wac-chart" width="730" height="400" style="background: white;"></canvas><div class="exp-wac-chart-legend"></div>');calculate.charts.buildWac('#exp-wac-chart','.exp-wac-chart-legend',true);}else if(_chart=='trends1'){$('.export-chart-container').append('<canvas id="exp-trends1-chart" class="exp-trends1-chart" width="600" height="400" style="background: white;"></canvas><div class="exp-trends1-chart-legend"></div>');calculate.charts.buildTrends1('#exp-trends1-chart','.exp-trends1-chart-legend',true);}else{if(_chart=='trends2'){$('.export-chart-container').append('<canvas id="exp-trends2-chart" class="exp-trends2-chart" width="600" height="400" style="background: white;"></canvas><div class="exp-trends2-chart-legend"></div>');calculate.charts.buildTrends2('#exp-trends2-chart','.exp-trends2-chart-legend',true);}}});exportData.addLoader();setTimeout(function(){if(exportData.useHighCharts)canvg();$('.export-chart-list li.selected').each(function(j){var _chart=$(this).attr('rel-chart');if(_chart=='doseMix')for(var i=0;i<values.user.values.length;i++){if(!exportData.useHighCharts)var can=document.getElementById('exp-dose-mix-chart-'+i);else var can=$('#exp-dose-mix-chart-'+i).find('canvas')[0];var b64=can.toDataURL();exportData.charts.charts.push({drugId:values.user.values[i].drugId,type:'chart',title:'Dose Mix',label:values.user.values[i].htmlLabel.replace('<br>',' '),legend:$('.exp-dose-mix-chart-'+i+'-legend').html(),b64});}else if(_chart=='wad')exportData.charts.charts.push({type:'table',title:'Weighted Average Dose',label:'Weighted Average Dose',html:'<table class="wad-table">'+$('.wad-table').html().replaceAll('<sup>','').replaceAll('</sup>','')+'</table>'});else if(_chart=='wac'){var can=document.getElementById('exp-wac-chart');var b64=can.toDataURL();exportData.charts.charts.push({type:'chart',title:'Weighted Average WAC for 30-day Supply<sup>1-7</sup>',b64,legend:$('.exp-wac-chart-legend').html()});}else if(_chart=='trends1'){var can=document.getElementById('exp-trends1-chart');var b64=can.toDataURL();exportData.charts.charts.push({type:'chart',title:'Weighted Average WAC Trend for 30-day Supply<sup>1-7</sup>',b64,legend:$('.exp-trends1-chart-legend').html().replace('','*')});}else{if(_chart=='trends2'){var can=document.getElementById('exp-trends2-chart');var b64=can.toDataURL();exportData.charts.charts.push({type:'chart',title:'Weighted Average Dose Trend per 30-day Supply',b64,legend:$('.exp-trends2-chart-legend').html()});}}});exportData.exportPdf();},2000);});},exportPdf:function(){var _options={type:'POST',url:exportData.url,data:{'json':JSON.stringify(exportData.charts),'sources':JSON.stringify(values.sources),'useSourceMarkup':JSON.stringify(exportData.useSourceMarkup),'sourceMarkup':JSON.stringify(exportData.sourceMarkup)},success:function(_result){console.log(_result);$('.exportLoader img').hide();window.open(_result);exportData.removeLoader();},error:function(xhr,textStatus,errorThrown){console.log(':: API ERROR :: '+textStatus);console.log(errorThrown);exportData.removeLoader();}};if(!exportData.testMode)$.ajax(_options);else{exportData.removeLoader();$('body').append('<textarea id="dataDump" style="z-index:9999999999999999999999999;position:fixed;top:0px;left:0px;width:500px;height:500px;">'+(JSON.stringify(_options.data))+'</textarea>');}},addLoader:function(){var _loader='<div class="exportLoader" ';_loader+='style="position:fixed;';_loader+='top:0px;left:0px;right:0px;bottom:0px;';_loader+='width:100%;height:100%;';_loader+='background:rgba(255,255,255,0.75);';_loader+='color:#1f71b9;';_loader+='text-align:center;';_loader+='padding-top:25%;';_loader+='z-index:9999999999999999999999999;';_loader+='">';_loader+='<img src="'+drupalSettings.path.themeUrl+'/images/loader.gif" width="32" height="32"/>';_loader+='</div>';$('body').append(_loader);},removeLoader:function(){$('.exportLoader').remove();ui.overlay.remove();}};}};})(jQuery,Drupal,drupalSettings);;
var overview={onIsi:!1,init:function(){analyticsTracker.bindOverview(),$(".slide-3 .blue-button").click(function(){app.loadPage(1);}),$(".slide-4 .blue-button").click(function(){app.loadPage(2);}),calculate.init(true),(async()=>{const resp=await fetch('./benchmark_data');const data=await resp.json();calculate.charts.buildWacListDrupalProvidedData('.slide.slide-3',data);})(),ui.init(),overview.slider.init(),$(".nicescroll-rails").remove();},slider:{currentSlideNumber:0,nextSlideNumber:0,slideCount:0,slideHeight:0,slideSpeed:750,slideEase:"swing",autoPlay:!1,delay:15e3,pauseOnOver:!0,paused:!1,listenForScroll:!0,listenForKeyboard:!0,isIos:!1,init:function(){overview.slider.isIos=!!navigator.userAgent.match(/(iPad|iPhone|iPod)/g),overview.slider.reset(),overview.slider.makeSliderControls(),overview.slider.autoPlay&&(overview.slider.play(),$(".slider-container").on("mouseover",function(){overview.slider.paused=!0;}).on("mouseout",function(){overview.slider.paused=!1,overview.slider.play();})),overview.slider.listenForScroll&&overview.slider.scroll.bind(),overview.slider.listenForKeyboard&&overview.slider.keyboard.bind(),$(".slider-container").trigger("focus");},scroll:{isProcessing:!1,bind:function(){overview.slider.isIos&&appSwipe.init({down:function(){if(0==app.currentPage){var e=$("body").scrollTop();overview.slider.nextSlideNumber>0&&e<300&&overview.slider.goToSlide(overview.slider.nextSlideNumber-1);}},up:function(){0==app.currentPage&&($("body").scrollTop()<300&&overview.slider.goToSlide(overview.slider.nextSlideNumber+1));}}),$(".slider-container").bind("mousewheel",overview.slider.scroll.mouseScroll);},mouseScroll:function(e){if(overview.slider.currentSlideNumber!=overview.slider.slideCount-1)e.preventDefault(),_scrollcount=0;else{if(_scrollcount++,_scrollcount>10&&-1==e.deltaY)return;e.preventDefault();}$("body").css("overflow-y"),$("body").scrollTop();overview.slider.scroll.isProcessing||(overview.slider.scroll.isProcessing=!0,overview.forceTop=!0,1==e.deltaY?overview.slider.nextSlideNumber>0&&overview.slider.goToSlide(overview.slider.nextSlideNumber-1):-1==e.deltaY&&overview.slider.goToSlide(overview.slider.nextSlideNumber+1),setTimeout(function(){overview.slider.scroll.isProcessing=!1;},1250));},getScrollBarWidth:function(){var e=$("<div>").css({visibility:"hidden",width:100,overflow:"scroll"}).appendTo("body"),i=$("<div>").css({width:"100%"}).appendTo(e).outerWidth();return e.remove(),100-i;}},keyboard:{isProcessing:!1,bind:function(){$(document).bind("keydown",overview.slider.keyboard.keyDown);},keyDown:function(e){e.preventDefault(),overview.slider.keyboard.isProcessing||(overview.slider.keyboard.isProcessing=!0,40==e.which?overview.slider.goToSlide(overview.slider.nextSlideNumber+1):38==e.which&&(overview.slider.nextSlideNumber>0?overview.slider.goToSlide(overview.slider.nextSlideNumber-1):overview.slider.goToSlide(overview.slider.slideCount-1)),setTimeout(function(){overview.slider.keyboard.isProcessing=!1;},750));}},reset:function(){overview.slider.slideCount=$(".slider li.slide").length,overview.slider.slideHeight=$(".slider-container").height(),$(".slider-container .slide").css("height",overview.slider.slideHeight+"px"),clearTimeout(window.sliderPlayEvent),overview.slider.currentSlideNumber=0,overview.slider.nextSlideNumber=0;},makeSliderControls:function(){var e="";$(".slider li.slide").each(function(i){var r="";0==i&&(r=' class="active"'),e+='<li rel-slide="'+i+'"'+r+"></li>";}),$(".slider-controls").html(e),$(".slider-controls").append('<li class="next-slide" rel-slide="next"></li>'),$(".slider-controls li").click(function(){overview.slider.goToSlide($(this).attr("rel-slide"));});},play:function(){clearTimeout(window.sliderPlayEvent),window.sliderPlayEvent=setTimeout(function(){overview.slider.pauseOnOver&&overview.slider.paused?overview.slider.play():(overview.slider.nextSlideNumber++,overview.slider.nextSlide(),overview.slider.play());},overview.slider.delay);},nextSlide:function(){overview.slider.nextSlideNumber<overview.slider.slideCount?($(".slider").animate({marginTop:"-="+overview.slider.slideHeight+"px"},overview.slider.slideSpeed,overview.slider.slideEase),overview.slider.currentSlideNumber=overview.slider.nextSlideNumber,overview.slider.makeControlActive()):overview.slider.goToSlide(overview.slider.slideCount-1);},prevSlide:function(){$(".slider").animate({marginTop:"+="+overview.slider.slideHeight+"px"},overview.slider.slideSpeed,overview.slider.slideEase),overview.slider.currentSlideNumber=overview.slider.nextSlideNumber,overview.slider.makeControlActive();},goToSlide:function(e){if("next"==e)overview.slider.nextSlideNumber++,overview.slider.nextSlide();else if(overview.slider.nextSlideNumber=Number(e),overview.slider.nextSlideNumber==Number(overview.slider.currentSlideNumber+1))overview.slider.nextSlide();else if(overview.slider.nextSlideNumber==Number(overview.slider.currentSlideNumber-1))overview.slider.prevSlide();else{if(overview.slider.nextSlideNumber!=Number(overview.slider.currentSlideNumber)){var i=overview.slider.slideHeight*overview.slider.nextSlideNumber,r=$(".slider").css("margin-top").replace("px","");i>Number(r)?$(".slider").animate({marginTop:"-"+i+"px"},overview.slider.slideSpeed,overview.slider.slideEase):$(".slider").animate({marginTop:i+"px"},overview.slider.slideSpeed,overview.slider.slideEase),overview.slider.currentSlideNumber=overview.slider.nextSlideNumber;}}overview.slider.makeControlActive();},makeControlActive:function(){$(".slider-controls li").removeClass("active"),$(".slider-controls li[rel-slide="+overview.slider.currentSlideNumber+"]").addClass("active"),overview.slider.currentSlideNumber==overview.slider.slideCount-1?$(".next-slide").hide():$(".next-slide").show();}}};;
