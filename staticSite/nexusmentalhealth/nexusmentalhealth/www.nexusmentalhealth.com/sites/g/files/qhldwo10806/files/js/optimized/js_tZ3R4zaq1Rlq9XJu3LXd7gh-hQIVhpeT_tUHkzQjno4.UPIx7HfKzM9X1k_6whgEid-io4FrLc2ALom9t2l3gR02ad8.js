!function(){var e=new Event("videoStop",{bubbles:!0,cancelable:!0});!function(t,a){"use strict";a.behaviors.videoBlock={attach:function(a){t(".videoReact__item",a),t(once("videoReact",".videoReact__wrapper")).each((function(){var a=t(this),n=t(".react-player-video",this),r=t(".thumbnail",this),i=n[0],o=n.attr("data-url"),c=OtsukaPCM.isManagedSrc(o).provider,l=OtsukaPCM.getProviderSettings(c),d=OtsukaPCM.getConsentCategoryForProvider(c);OtsukaPCM.isConsentedToCategory(d).then((function(e){if(!e&&""===l.modal.description){var t=OtsukaPCM.getOverlayImageSrc(c);a.find(".thumbnail img").attr("src",t)}}));var u=function(){renderReactPlayer(i,{url:o,playing:!1,controls:!0,playsinline:!0}),document.addEventListener("videoStop",(function(){a.removeClass("play"),renderReactPlayer(i,{url:o,playing:!1})})),document.dispatchEvent(e),a.addClass("play"),renderReactPlayer(i,{url:o,playing:!0,controls:!0,playsinline:!0});var t="loadPlayer";o.includes("youtu")&&(t="loadPlayerYT");var n=new Event(t);n.id=a[0].getAttribute("id"),document.dispatchEvent(n)},s=function(){"undefined"==typeof OtsukaPCM?u():OtsukaPCM.doConsentModal({target:a[0],provider:c,consentCallback:u})};r.on("click",(function(e){e.preventDefault(),s()})),r.on("keydown",(function(e){"Enter"===e.key&&s()}))}))}}}(jQuery,Drupal,renderReactPlayer)}();